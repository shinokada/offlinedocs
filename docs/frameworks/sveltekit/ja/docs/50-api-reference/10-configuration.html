<!doctypehtml><html lang="ja"><meta charset="utf-8"><title>Configuration</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"href="../../../../../../../../../docs/themes/packages/prism-coy-theme/theme_common.css"><section id="configuration"class="level1"><h1>Configuration</h1><p>プロジェクトの設定は <code>svelte.config.js</code> ファイルにあります。全ての値はオプションです。オプションのデフォルトと完全なリストはこちらです:<pre class="language-js"><code class="language-js"><span class="token comment">/// file: svelte.config.js</span>
<span class="token doc-comment comment">/** <span class="token keyword">@type</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token keyword module">import</span><span class="token punctuation">(</span><span class="token string">'@sveltejs/kit'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Config<span class="token punctuation">}</span></span> */</span>
<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token comment">// options passed to svelte.compile (https://svelte.dev/docs#compile-time-svelte-compile)</span>
	<span class="token literal-property property">compilerOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token comment">// an array of file extensions that should be treated as Svelte components</span>
	<span class="token literal-property property">extensions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'.svelte'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

	<span class="token literal-property property">kit</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">adapter</span><span class="token operator">:</span> <span class="token keyword nil">undefined</span><span class="token punctuation">,</span>
		<span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token literal-property property">appDir</span><span class="token operator">:</span> <span class="token string">'_app'</span><span class="token punctuation">,</span>
		<span class="token literal-property property">csp</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">'auto'</span><span class="token punctuation">,</span>
			<span class="token literal-property property">directives</span><span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token string-property property">'default-src'</span><span class="token operator">:</span> <span class="token keyword nil">undefined</span>
				<span class="token comment">// ...</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token literal-property property">csrf</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">checkOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token literal-property property">env</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">dir</span><span class="token operator">:</span> process<span class="token punctuation">.</span><span class="token method function property-access">cwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token literal-property property">publicPrefix</span><span class="token operator">:</span> <span class="token string">'PUBLIC_'</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token literal-property property">files</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">assets</span><span class="token operator">:</span> <span class="token string">'static'</span><span class="token punctuation">,</span>
			<span class="token literal-property property">hooks</span><span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token literal-property property">client</span><span class="token operator">:</span> <span class="token string">'src/hooks.client'</span><span class="token punctuation">,</span>
				<span class="token literal-property property">server</span><span class="token operator">:</span> <span class="token string">'src/hooks.server'</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token literal-property property">lib</span><span class="token operator">:</span> <span class="token string">'src/lib'</span><span class="token punctuation">,</span>
			<span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token string">'src/params'</span><span class="token punctuation">,</span>
			<span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token string">'src/routes'</span><span class="token punctuation">,</span>
			<span class="token literal-property property">serviceWorker</span><span class="token operator">:</span> <span class="token string">'src/service-worker'</span><span class="token punctuation">,</span>
			<span class="token literal-property property">appTemplate</span><span class="token operator">:</span> <span class="token string">'src/app.html'</span><span class="token punctuation">,</span>
			<span class="token literal-property property">errorTemplate</span><span class="token operator">:</span> <span class="token string">'src/error.html'</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token literal-property property">inlineStyleThreshold</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
		<span class="token literal-property property">moduleExtensions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'.js'</span><span class="token punctuation">,</span> <span class="token string">'.ts'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
		<span class="token literal-property property">outDir</span><span class="token operator">:</span> <span class="token string">'.svelte-kit'</span><span class="token punctuation">,</span>
		<span class="token literal-property property">paths</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">assets</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
			<span class="token literal-property property">base</span><span class="token operator">:</span> <span class="token string">''</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token literal-property property">prerender</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">concurrency</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
			<span class="token literal-property property">crawl</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
			<span class="token literal-property property">enabled</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
			<span class="token literal-property property">entries</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'*'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			<span class="token literal-property property">handleHttpError</span><span class="token operator">:</span> <span class="token string">'fail'</span><span class="token punctuation">,</span>
			<span class="token literal-property property">handleMissingId</span><span class="token operator">:</span> <span class="token string">'fail'</span><span class="token punctuation">,</span>
			<span class="token literal-property property">origin</span><span class="token operator">:</span> <span class="token string">'http://sveltekit-prerender'</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token literal-property property">serviceWorker</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">register</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
			<span class="token function-variable function">files</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">filepath</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token operator">!</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.DS_Store</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span>filepath<span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token known-class-name class-name">Date</span><span class="token punctuation">.</span><span class="token method function property-access">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token literal-property property">pollInterval</span><span class="token operator">:</span> <span class="token number">0</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token comment">// options passed to @sveltejs/package</span>
	<span class="token keyword">package</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token string">'value of kit.files.lib, if available, else src/lib'</span><span class="token punctuation">,</span>
		<span class="token literal-property property">dir</span><span class="token operator">:</span> <span class="token string">'package'</span><span class="token punctuation">,</span>
		<span class="token literal-property property">emitTypes</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		<span class="token comment">// excludes all .d.ts and files starting with _ as the name</span>
		<span class="token function-variable function">exports</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">filepath</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token operator">!</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^_|\/_|\.d\.ts$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span>filepath<span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token function-variable function">files</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token boolean">true</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token comment">// options passed to svelte.preprocess (https://svelte.dev/docs#compile-time-svelte-preprocess)</span>
	<span class="token literal-property property">preprocess</span><span class="token operator">:</span> <span class="token keyword null nil">null</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> config<span class="token punctuation">;</span></code></pre><section id="adapter"class="level2"><h2>adapter</h2><p><code>vite build</code> の実行中に実行され、異なるプラットフォーム向けにアウトプットがどのように変換されるかを決定します。<a href="../20-core-concepts/50-adapters.html">Adapters</a> をご参照ください。</section><section id="alias"class="level2"><h2>alias</h2><p><code>import</code> 文の値を置き換えるのに使用される 0 個以上のエイリアスを含むオブジェクトです。これらのエイリアスは自動的に Vite と TypeScript に渡されます。<pre class="language-js"><code class="language-js"><span class="token comment">/// file: svelte.config.js</span>
<span class="token doc-comment comment">/** <span class="token keyword">@type</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token keyword module">import</span><span class="token punctuation">(</span><span class="token string">'@sveltejs/kit'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Config<span class="token punctuation">}</span></span> */</span>
<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">kit</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token comment">// this will match a file</span>
			<span class="token string-property property">'my-file'</span><span class="token operator">:</span> <span class="token string">'path/to/my-file.js'</span><span class="token punctuation">,</span>

			<span class="token comment">// this will match a directory and its contents</span>
			<span class="token comment">// (`my-directory/x` resolves to `path/to/my-directory/x`)</span>
			<span class="token string-property property">'my-directory'</span><span class="token operator">:</span> <span class="token string">'path/to/my-directory'</span><span class="token punctuation">,</span>

			<span class="token comment">// an alias ending /* will only match</span>
			<span class="token comment">// the contents of a directory, not the directory itself</span>
			<span class="token string-property property">'my-directory/*'</span><span class="token operator">:</span> <span class="token string">'path/to/my-directory/*'</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><blockquote><p>ビルトインの <code>$lib</code> エイリアスはパッケージングで使用されるため、<code>config.kit.files.lib</code> でコントロールされています。</blockquote><blockquote><p>SvelteKit が必要なエイリアス設定を <code>jsconfig.json</code> または <code>tsconfig.json</code> に自動的に生成するためには、<code>npm run dev</code> を実行する必要があります。</blockquote></section><section id="appdir"class="level2"><h2>appDir</h2><p>ビルドされた JS と CSS(およびインポートされたアセット)が提供される <code>paths.assets</code> からの相対ディレクトリ(ファイル名にはコンテンツベースのハッシュが含まれており、つまり、無期限にキャッシュすることができます)。先頭または末尾が <code>/</code> であってはいけません。</section><section id="csp"class="level2"><h2>csp</h2><p>以下の値のうち、0 個以上を含むオブジェクトです:<ul><li><code>mode</code> — 'hash'、'nonce'、'auto' のいずれか<li><code>directives</code> — <code>[directive]: value[]</code> ペアのオブジェクト<li><code>reportOnly</code> — CSP report-only モードのための <code>[directive]: value[]</code> ペアのオブジェクト</ul><p><a href="https://developer.mozilla.org/ja/docs/Web/HTTP/Headers/Content-Security-Policy">Content Security Policy</a> の設定です。CSP は、リソースの読み込み元を制限することにより、クロスサイトスクリプティング (XSS) 攻撃からユーザーを守るのに役立ちます。例えば、このような設定では…<pre class="language-js"><code class="language-js"><span class="token comment">/// file: svelte.config.js</span>
<span class="token doc-comment comment">/** <span class="token keyword">@type</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token keyword module">import</span><span class="token punctuation">(</span><span class="token string">'@sveltejs/kit'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Config<span class="token punctuation">}</span></span> */</span>
<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">kit</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">csp</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">directives</span><span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token string-property property">'script-src'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'self'</span><span class="token punctuation">]</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token literal-property property">reportOnly</span><span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token string-property property">'script-src'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'self'</span><span class="token punctuation">]</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> config<span class="token punctuation">;</span></code></pre><p>…外部サイトからのスクリプト読み込みを防止します。SvelteKit は、生成されるインラインスタイルとスクリプトに対して、指定されたディレクティブを nonce か hash (<code>mode</code> の設定による) で補強します。<p>script と link 向けに nonce を <code>app.html</code> に手動で含めるには、<code>%sveltekit.nonce%</code> プレースホルダーをお使いいただけます (例えば <code>&#x3C;script nonce="%sveltekit.nonce%"></code>)。<p>ページがプリレンダリングされる場合、CSP ヘッダーは <code>&#x3C;meta http-equiv></code> タグ経由で追加されます (この場合、<code>frame-ancestors</code>、<code>report-uri</code>、<code>sandbox</code> ディレクティブは無視されることにご注意ください)。<blockquote><p><code>mode</code> が <code>'auto'</code> の場合、SvelteKit は動的にレンダリングされたページには nonce を、プリレンダリングされたページには hash を使用します。プリレンダリングされたページで nonce を使用するのは安全でないため、禁止されています。</blockquote><blockquote><p>ほとんどの <a href="https://svelte.jp/tutorial/transition">Svelte transitions</a> は、インラインの <code>&#x3C;style></code> 要素を作成することで動作することにご注意ください。これらをアプリで使用する場合、<code>style-src</code> ディレクティブを指定しないようにするか、<code>unsafe-inline</code> を追加する必要があります。</blockquote></section><section id="csrf"class="level2"><h2>csrf</h2><p><a href="https://owasp.org/www-community/attacks/csrf">クロスサイト・リクエスト・フォージェリ(cross-site request forgery)</a> 攻撃に対する防御です:<ul><li><code>checkOrigin</code> — <code>true</code> の場合、SvelteKit は <code>POST</code> による form 送信を受け取ったとき、受け取った <code>origin</code> ヘッダーをチェックし、それがサーバーの origin と一致するか検証します</ul><p>別の origin からあなたのアプリに対して <code>POST</code> による form 送信をできるようにするには、このオプションを無効にする必要があります。ご注意ください!</section><section id="env"class="level2"><h2>env</h2><p>環境変数の設定です:<ul><li><code>dir</code> — <code>.env</code> ファイルを検索するディレクトリです。<li><code>publicPrefix</code> — クライアントサイドのコードに公開しても安全であることを示す接頭辞です。<a href="../50-api-reference/30-modules.html#$env-static-public"><code>$env/static/public</code></a> と <a href="../50-api-reference/30-modules.html#$env-dynamic-public"><code>$env/dynamic/public</code></a> をご参照ください。Vite の環境変数のハンドリングを使用する場合は、Vite の <a href="https://ja.vitejs.dev/config/shared-options.html#envprefix"><code>envPrefix</code></a> を別途設定する必要があることにご注意ください。もっとも、通常はこの機能を使用する必要はありません。</ul></section><section id="files"class="level2"><h2>files</h2><p>以下の <code>string</code> 値のうち、0 個以上を含むオブジェクトです:<ul><li><code>assets</code> — <code>favicon.ico</code> or <code>manifest.json</code> のような、何も処理する必要もなく、安定した URL を持つべき静的ファイルを配置する場所<li><code>hooks</code> — クライントとサーバーの hooks のロケーション(<a href="../30-advanced/20-hooks.html">Hooks</a> をご参照ください)<li><code>lib</code> — コードベース全体から <code>$lib</code> でアクセスできる、アプリの内部ライブラリ<li><code>params</code> — <a href="../30-advanced/10-advanced-routing.html-routing#matching">parameter matchers</a> を含むディレクトリ<li><code>routes</code> — アプリの構造を定義するファイル(<a href="../20-core-concepts/10-routing.html">ルーティング</a> をご参照ください)<li><code>serviceWorker</code> — Service Worker のエントリーポイントのロケーション(<a href="../30-advanced/40-service-workers.html">Service workers</a> をご参照ください)<li><code>template</code> — HTML レスポンス用テンプレートのロケーション</ul></section><section id="inlinestylethreshold"class="level2"><h2>inlineStyleThreshold</h2><p>CSS を HTML の先頭の <code>&#x3C;style></code> ブロック内にインライン化するかどうか。このオプションでは、インライン化する CSS ファイルの最大長を数値で指定します。ページに必要な CSS ファイルで、このオプションの値より小さいものはマージされ、<code>&#x3C;style></code> ブロックにインライン化されます。<blockquote><p>この結果、最初のリクエストが少なくなり、<a href="https://web.dev/first-contentful-paint">First Contentful Paint</a> スコアを改善することができます。しかし、HTML 出力が大きくなり、ブラウザキャッシュの効果が低下します。慎重に使用してください。</blockquote></section><section id="moduleextensions"class="level2"><h2>moduleExtensions</h2><p>SvelteKit がモジュールとして取り扱うファイル拡張子の配列です。<code>config.extensions</code> と <code>config.kit.moduleExtensions</code> のいずれにもマッチしない拡張子のファイルはルーター (router) から無視されます。</section><section id="outdir"class="level2"><h2>outDir</h2><p>SvelteKit が <code>dev</code> と <code>build</code> のときにファイルを書き込むディレクトリです。このディレクトリをバージョン管理から除外する必要があります。</section><section id="package"class="level2"><h2>package</h2><p><a href="../30-advanced/70-packaging.html">パッケージ作成</a> に関連するオプションです。<ul><li><code>source</code> - library directory<li><code>dir</code> - 出力ディレクトリ<li><code>emitTypes</code> - デフォルトでは、<code>svelte-package</code> は自動的にパッケージの型を <code>.d.ts</code> ファイル形式で生成します。型の生成は設定で変更できますが、常に型を生成することがエコシステムの品質にとってベストであると私たちは信じています。<code>false</code> に設定するときは、十分な理由があることを確認してください(例えば、代わりに手書きの型定義を提供したい場合など)<li><code>exports</code> - <code>(filepath: string) => boolean</code> という型を持つ関数。<code>true</code> の場合、ファイルパスが <code>package.json</code> の <code>exports</code> フィールドに含まれるようになります。<code>package.json</code> のソースにある既存の値は、オリジナルの <code>exports</code> フィールドの値が優先されてマージされます<li><code>files</code> - <code>(filepath: string) => boolean</code> という型を持つ関数。<code>true</code> の場合、ファイルは処理され、<code>dir</code> で指定された最終的な出力フォルダにコピーされます</ul><p>高度な <code>filepath</code> マッチングには、<code>exports</code> と <code>files</code> オプションを globbing ライブラリと組み合わせて使用することができます:<pre class="language-js"><code class="language-js"><span class="token comment">// @filename: ambient.d.ts</span>
declare module <span class="token string">'micromatch'</span><span class="token punctuation">;</span>

<span class="token comment">/// file: svelte.config.js</span>
<span class="token comment">// @filename: index.js</span>
<span class="token comment">// cut---</span>
<span class="token keyword module">import</span> <span class="token imports">mm</span> <span class="token keyword module">from</span> <span class="token string">'micromatch'</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/** <span class="token keyword">@type</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token keyword module">import</span><span class="token punctuation">(</span><span class="token string">'@sveltejs/kit'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Config<span class="token punctuation">}</span></span> */</span>
<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token keyword">package</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token function-variable function">exports</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">filepath</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
			<span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>filepath<span class="token punctuation">.</span><span class="token method function property-access">endsWith</span><span class="token punctuation">(</span><span class="token string">'.d.ts'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword control-flow">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
			<span class="token keyword control-flow">return</span> mm<span class="token punctuation">.</span><span class="token method function property-access">isMatch</span><span class="token punctuation">(</span>filepath<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'!**/_*'</span><span class="token punctuation">,</span> <span class="token string">'!**/internal/**'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token literal-property property">files</span><span class="token operator">:</span> mm<span class="token punctuation">.</span><span class="token method function property-access">matcher</span><span class="token punctuation">(</span><span class="token string">'!**/build.*'</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> config<span class="token punctuation">;</span></code></pre></section><section id="paths"class="level2"><h2>paths</h2><p>以下の <code>string</code> 値のうち、0 個以上を含むオブジェクトです:<ul><li><code>assets</code> — アプリのファイルが提供される絶対パス。これは、何らかのストレージバケットからファイルを提供する場合に便利です<li><code>base</code> — ルート相対パス。空文字以外を指定する場合、先頭は <code>/</code> で始めなければならず、末尾は <code>/</code> で終わってはいけません (例 <code>/base-path</code>)。アプリがどこから提供されるかを指定することで、アプリを非ルートパスで動作させることができます。ルート相対(root-relative)なリンクには先頭に base の値を追加しなければなりません。そうしないと、リンクが <code>base</code> ではなくドメインのルート(root)を指してしまいます (これはブラウザの動作によるものです)。これに対しては、<a href="../50-api-reference/30-modules.html#$app-paths-base"><code>base</code> from <code>$app/paths</code></a> をこのように使用することができます: <code>&#x3C;a href="{base}/your-page">Link&#x3C;/a></code>。もし、これを頻繁に書くようであれば、再利用可能なコンポーネントに抽出するのも良いでしょう。</ul></section><section id="prerender"class="level2"><h2>prerender</h2><p><a href="../20-core-concepts/40-page-options.html#prerender">プリレンダリング(Prerendering)</a> をご参照ください。以下のうち、0 個以上を含むオブジェクトです:<ul><li><p><code>concurrency</code> — 同時にいくつのページをプリレンダリングできるか。JS はシングルスレッドですが、プリレンダリングのパフォーマンスがネットワークに縛られている場合(例えば、リモートの CMS からコンテンツをロードしている場合)、ネットワークの応答を待っている間に他のタスクを処理することで高速化することができます<li><p><code>crawl</code> — SvelteKit がシードページからリンクをたどってプリレンダリングするページを見つけるかどうかを決定します<li><p><code>enabled</code> — <code>false</code> に設定すると、プリレンダリングを完全に無効化できます<li><p><code>entries</code> — プリレンダリングするページ、またはクロールを開始するページ(<code>crawl: true</code> の場合)の配列。<code>*</code> 文字列には、全ての動的ではないルート(routes)(例えば <code>[parameters]</code> を持たないページです。なぜなら SvelteKit はその parameters がどんな値を持つべきかわからないからです) が含まれます<li><p><code>handleHttpError</code><ul><li><p><code>'fail'</code> — (デフォルト) リンクをたどったときにルーティングエラーが発生した場合、ビルドを失敗させます<li><p><code>'ignore'</code> - 失敗を無視して継続させます<li><p><code>'warn'</code> — 継続しますが、警告(warning)を出力します<li><p><code>(details) => void</code> — <code>status</code>、<code>path</code>、<code>referrer</code>、<code>referenceType</code>、<code>message</code> プロパティを持つ <code>details</code> オブジェクトを引数に取るカスタムのエラーハンドラです。この関数から <code>throw</code> されると、ビルドが失敗します<pre class="language-js"><code class="language-js"><span class="token doc-comment comment">/** <span class="token keyword">@type</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token keyword module">import</span><span class="token punctuation">(</span><span class="token string">'@sveltejs/kit'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Config<span class="token punctuation">}</span></span> */</span>
<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">kit</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">prerender</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token function-variable function">handleHttpError</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> path<span class="token punctuation">,</span> referrer<span class="token punctuation">,</span> message <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
				<span class="token comment">// ignore deliberate link to shiny 404 page</span>
				<span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>path <span class="token operator">===</span> <span class="token string">'/not-found'</span> <span class="token operator">&#x26;&#x26;</span> referrer <span class="token operator">===</span> <span class="token string">'/blog/how-we-built-our-404-page'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword control-flow">return</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				<span class="token comment">// otherwise fail the build</span>
				<span class="token keyword control-flow">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></ul><li><p><code>handleMissingId</code><ul><li><code>'fail'</code> — (default) プリレンダリングページから他のプリレンダリングページへの、<code>#</code> フラグメントを使用しているリンクが、<code>id</code> に一致しない場合、ビルドを失敗させます<li><code>'ignore'</code> - 失敗を無視して継続させます<li><code>'warn'</code> — 継続しますが、警告(warning)を出力します<li><code>(details) => void</code> — <code>path</code>、<code>id</code>、<code>referrers</code>、<code>message</code> プロパティを持つ <code>details</code> オブジェクトを引数に取るカスタムのエラーハンドラです。この関数から <code>throw</code> されると、ビルドが失敗します</ul><li><p><code>origin</code> — プリレンダリング時の <code>url.origin</code> の値です。レンダリングされたコンテンツに含まれている場合に有用です。</ul></section><section id="serviceworker"class="level2"><h2>serviceWorker</h2><p>以下の値のうち、0 個以上を含むオブジェクトです:<ul><li><code>register</code> - <code>false</code> を設定した場合、service worker の自動登録を無効にします。<li><code>files</code> - <code>(filepath: string) => boolean</code> という型を持つ関数。<code>true</code> の場合、与えられたファイルが <code>$service-worker.files</code> で利用可能になります。それ以外の場合は除外されます。</ul></section><section id="version"class="level2"><h2>version</h2><p>以下の値のうち、0 個以上を含むオブジェクトです:<ul><li><code>name</code> - 現在のアプリのバージョン文字列<li><code>pollInterval</code> - バージョンの変更をポーリングするインターバル(ミリ秒)</ul><p>アプリが使用されているときにアプリの新しいバージョンをデプロイするとクライアントサイドのナビゲーションにバグが発生することがあります。次に開くページのコードがすでにロードされている場合、古いコンテンツがある可能性があります。そうでなくとも、アプリのルートマニフェストがもう存在しない JavaScript ファイルを指している可能性があります。SvelteKit は、ここで指定された <code>name</code> (デフォルトではビルドのタイムスタンプ) を使用して新しいバージョンがデプロイされたことを検知すると、従来のフルページナビゲーションにフォールバックすることにより、この問題を解決しています。<p><code>pollInterval</code> を 0 以外の値に設定した場合、SvelteKit はバックグラウンドで新しいバージョンをポーリングし、それを検知すると <a href="../50-api-reference/30-modules.html#$app-stores-updated"><code>updated</code></a> ストアの値を <code>true</code> にします。 <span style="float:footnote"><a href="../../index.html#toc">Go to TOC</a></span></section></section>