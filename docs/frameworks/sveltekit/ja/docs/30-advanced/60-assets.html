<!doctype html><html lang="ja"><meta charset="utf-8"><title>アセットハンドリング</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"href="../../../../../../../../../docs/themes/packages/prism-coy-theme/theme_common.css"><section id="アセットハンドリング"class="level1"><h1>アセットハンドリング</h1><section id="キャッシュとインライン化caching-and-inlining"class="level2"><h2>キャッシュとインライン化(Caching and inlining)</h2><p>パフォーマンス改善のため、<a href="https://vitejs.dev/guide/assets.html">Vite はインポートされたアセットを自動的に処理します</a>。ハッシュがファイル名に追加されるのでキャッシュできるようになり、<code>assetsInlineLimit</code> より小さいアセットはインライン化されます。<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword module">import</span> <span class="token imports">logo</span> <span class="token keyword module">from</span> <span class="token string">'$lib/assets/logo.png'</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>img</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>The project logo<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>{logo}</span> <span class="token punctuation">/></span></span></code></pre><p>マークアップから直接アセットを参照したければ、<a href="https://github.com/bluwy/svelte-preprocess-import-assets">svelte-preprocess-import-assets</a> などのプリプロセッサをお使い頂けます。<p>CSS 関数の <code>url()</code> でインクルードされたアセットの場合は、<a href="https://kit.svelte.jp/docs/integrations#preprocessors-vitepreprocess"><code>vitePreprocess</code></a> が役立つでしょう。</section><section id="変換transforming"class="level2"><h2>変換(Transforming)</h2><p>イメージを変換して、<code>.webp</code> や <code>.avif</code> などの圧縮イメージフォーマットに変換したり、デバイスごとに異なるサイズのレスポンシブイメージを出力したり、プライバシーのために EXIF データを取り除いたイメージを出力したいことがあるかもしれません。静的に含まれるイメージについては、<a href="https://github.com/JonasKruckenberg/imagetools">vite-imagetools</a> などの Vite プラグインを使用することができます。HTTP ヘッダーやクエリ文字列パラメータに基づいて適切に変換されたイメージを提供できる CDN を検討することもできます。 <span style="float:footnote"><a href="../../index.html#toc">Go to TOC</a></span></section></section>