<!doctype html><html lang="ja"><meta charset="utf-8"><title>Adapters</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"href="../../../../../../../Vivliostyle/read-html-download-pdf/docs/themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="adapters"><h1 id="adapters">Adapters</h1><p>SvelteKit アプリをデプロイする前に、それをデプロイ先の環境に <em>合わせる(adapt)</em> 必要があります。adapter は、ビルドされたアプリをインプットとして受け取りデプロイ用のアウトプットを生成する小さなプラグインです。<p>様々なプラットフォーム向けの公式の adapter があります。これらについて以降のページにドキュメントがあります。<ul><li><a href="adapter-cloudflare"><code>@sveltejs/adapter-cloudflare</code></a> for Cloudflare Pages<li><a href="adapter-cloudflare-workers"><code>@sveltejs/adapter-cloudflare-workers</code></a> for Cloudflare Workers<li><a href="adapter-netlify"><code>@sveltejs/adapter-netlify</code></a> for Netlify<li><a href="adapter-node"><code>@sveltejs/adapter-node</code></a> for Node servers<li><a href="adapter-static"><code>@sveltejs/adapter-static</code></a> for static site generation (SSG)<li><a href="adapter-vercel"><code>@sveltejs/adapter-vercel</code></a> for Vercel</ul><p>加えて、他のプラットフォーム向けに、<a href="https://sveltesociety.dev/components#adapters">コミュニティによって提供されている adapter</a> もございます。<section class="level2"aria-labelledby="adapter-を使用する"><h2 id="adapter-を使用する">adapter を使用する</h2><p>adapter は <code>svelte.config.js</code> に指定します。<pre class="language-js"><code class="language-js"><span class="token comment">/// file: svelte.config.js</span>
<span class="token comment">// @filename: ambient.d.ts</span>
declare module <span class="token string">'svelte-adapter-foo'</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> <span class="token function-variable function">adapter</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">opts</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token keyword module">import</span><span class="token punctuation">(</span><span class="token string">'@sveltejs/kit'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Adapter</span></span><span class="token punctuation">;</span>
	<span class="token keyword module">export</span> <span class="token keyword module">default</span> adapter<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// @filename: index.js</span>
<span class="token comment">// cut---</span>
<span class="token keyword module">import</span> <span class="token imports">adapter</span> <span class="token keyword module">from</span> <span class="token string">'svelte-adapter-foo'</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/** <span class="token keyword">@type</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token keyword module">import</span><span class="token punctuation">(</span><span class="token string">'@sveltejs/kit'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Config<span class="token punctuation">}</span></span> */</span>
<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">kit</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">adapter</span><span class="token operator">:</span> <span class="token function">adapter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			<span class="token comment">// adapter options go here</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> config<span class="token punctuation">;</span></code></pre></section><section class="level2"aria-labelledby="プラットフォーム固有の情報"><h2 id="プラットフォーム固有の情報">プラットフォーム固有の情報</h2><p>adapter によっては、リクエストに関する追加情報にアクセスすることができます。例えば、Cloudflare Workers の場合は KV namespaces などを含む <code>env</code> オブジェクトにアクセスできます。これは <a href="hooks">hooks</a> や <a href="routing#server">サーバールート(server routes)</a> で使用される <code>RequestEvent</code> に、<code>platform</code> プロパティとして渡されます。詳しくは、各 adapter のドキュメントをご参照ください。<p><span style="float:footnote"><a href="../../index.html#toc">Go to TOC</a></span></section></section>