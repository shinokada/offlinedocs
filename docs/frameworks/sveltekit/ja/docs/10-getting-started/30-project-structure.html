<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <title>プロジェクト構成</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://raw.githubusercontent.com/shinokada/prism-coy-theme/main/theme_common.css">
  </head>
  <body>
    <section id="プロジェクト構成" class="level1">
      <h1>プロジェクト構成</h1>
      <p>一般的な SvelteKit プロジェクトはこのような構成です:</p>
      <pre class="language-bash"><code class="language-bash">my-project/
├ src/
│ ├ lib/
│ │ ├ server/
│ │ │ └ <span class="token punctuation">[</span>your server-only lib files<span class="token punctuation">]</span>
│ │ └ <span class="token punctuation">[</span>your lib files<span class="token punctuation">]</span>
│ ├ params/
│ │ └ <span class="token punctuation">[</span>your param matchers<span class="token punctuation">]</span>
│ ├ routes/
│ │ └ <span class="token punctuation">[</span>your routes<span class="token punctuation">]</span>
│ ├ app.html
│ ├ error.html
│ └ hooks.js
├ static/
│ └ <span class="token punctuation">[</span>your static assets<span class="token punctuation">]</span>
├ tests/
│ └ <span class="token punctuation">[</span>your tests<span class="token punctuation">]</span>
├ package.json
├ svelte.config.js
├ tsconfig.json
└ vite.config.js</code></pre>
      <p>また、<code>.gitignore</code>、<code>.npmrc</code> などの共通ファイルもあります (もし <code>npm create svelte@latest</code> の実行時にオプションを選択した場合は <code>.prettierrc</code> や <code>.eslintrc.cjs</code> などもあるでしょう)。</p>
      <section id="プロジェクトファイル" class="level2">
        <h2>プロジェクトファイル</h2>
        <section id="src" class="level3">
          <h3>src</h3>
          <p><code>src</code> ディレクトリには、プロジェクトの中身が格納します。</p>
          <ul>
            <li><code>lib</code> にはあなたのライブラリのコードを格納します。格納されたコードは <a href="../50-api-reference/30-modules.html#$lib"><code>$lib</code></a> エイリアスを使用してインポートしたり、<a href="../30-advanced/70-packaging.html"><code>svelte-package</code></a> を使用して配布用にパッケージングすることができます。
              <ul>
                <li><code>server</code> にはあなたのサーバー専用のライブラリのコードを格納します。格納されたコードは <a href="../30-advanced/50-server-only-modules.html"><code>$lib/server</code></a> エイリアスを使用してインポートすることができます。SvelteKit はこれをクライアントコードにインポートされるのを防ぎます。</li>
              </ul>
            </li>
            <li><code>params</code> にはアプリに必要な <a href="../30-advanced/10-advanced-routing.html-routing#matching">param matchers</a> を格納します</li>
            <li><code>routes</code> にはアプリケーションの <a href="../20-core-concepts/10-routing.html">ルート(routes)</a> を格納します</li>
            <li><code>app.html</code> はページのテンプレートで、以下のプレースホルダーを含む HTML document です:
              <ul>
                <li><code>%sveltekit.head%</code> — アプリに必要な <code>&#x3C;link></code> 要素や <code>&#x3C;script></code> 要素、<code>&#x3C;svelte:head></code> コンテンツ</li>
                <li><code>%sveltekit.body%</code> — レンダリングされるページのためのマークアップです。これを直接 <code>&#x3C;body></code> の中に置くのではなく、<code>&#x3C;div></code> または他の要素の中に置く必要があります。ブラウザ拡張(browser extensions)が要素を注入するのをハイドレーションプロセスが破壊してしまう、というバグを防ぐためです。もしこうなっていない場合、SvelteKit は開発中に警告を出します</li>
                <li><code>%sveltekit.assets%</code> — <a href="../50-api-reference/10-configuration.html#paths"><code>paths.assets</code></a> が指定されている場合は <a href="../50-api-reference/10-configuration.html#paths"><code>paths.assets</code></a>、指定されていない場合は <a href="../50-api-reference/10-configuration.html#paths"><code>paths.base</code></a> への相対パス</li>
                <li><code>%sveltekit.nonce%</code> — マニュアルで含めるリンクやスクリプトの <a href="../50-api-reference/10-configuration.html#csp">CSP</a> nonce (使用する場合)</li>
              </ul>
            </li>
            <li><code>error.html</code> (optional) 全てが失敗したときにレンダリングされるページです。以下のプレースホルダーを含めることができます:
              <ul>
                <li><code>%sveltekit.status%</code> — HTTP ステータス</li>
                <li><code>%sveltekit.error.message%</code> — エラーメッセージ</li>
              </ul>
            </li>
            <li><code>hooks.js</code> (optional) アプリケーションの <a href="../30-advanced/20-hooks.html">hooks</a></li>
            <li><code>service-worker.js</code> (optional) <a href="../30-advanced/40-service-workers.html">service worker</a></li>
          </ul>
          <p>TypeScript を使用している場合、<code>.js</code> の代わりに <code>.ts</code> ファイルを使用することができます。</p>
        </section>
        <section id="static" class="level3">
          <h3>static</h3>
          <p><code>robots.txt</code> や <code>favicon.png</code> など、そのままサーブされる静的なアセットをここに含めます。</p>
        </section>
        <section id="tests" class="level3">
          <h3>tests</h3>
          <p><code>npm create svelte@latest</code> の実行時、プロジェクトにテストを追加することを選択した場合、このディレクトリに格納されます。</p>
        </section>
        <section id="packagejson" class="level3">
          <h3>package.json</h3>
          <p><code>package.json</code> ファイルには <code>@sveltejs/kit</code>、<code>svelte</code>、<code>vite</code> が <code>devDependencies</code> に含まれていなければなりません。</p>
          <p><code>npm create svelte@latest</code> でプロジェクトを作成すると、<code>package.json</code> には <code>"type": "module"</code> が含まれることに気が付くでしょう。これは、<code>.js</code> ファイルが <code>import</code> や <code>export</code> キーワードを持つネイティブの JavaScript モジュールとして解釈されることを意味します。レガシーな CommonJS ファイルには <code>.cjs</code> ファイル拡張子が必要です。</p>
        </section>
        <section id="svelteconfigjs" class="level3">
          <h3>svelte.config.js</h3>
          <p>このファイルには Svelte と SvelteKit の <a href="../50-api-reference/10-configuration.html">コンフィグレーション</a> が含まれています。</p>
        </section>
        <section id="tsconfigjson" class="level3">
          <h3>tsconfig.json</h3>
          <p><code>npm create svelte@latest</code> の際に型チェックを追加した場合、このファイル (または <code>.ts</code> ファイルより型チェックされた <code>.js</code> ファイルのほうがお好みであれば <code>jsconfig.json</code>) で TypeScript の設定を行います。SvelteKit は特定の設定に依存しているため、独自の <code>.svelte-kit/tsconfig.json</code> ファイルを生成し、あなたの設定を <code>extends</code> (拡張)しています。</p>
        </section>
        <section id="viteconfigjs" class="level3">
          <h3>vite.config.js</h3>
          <p>SvelteKit プロジェクトは実は、<a href="../50-api-reference/30-modules.html#sveltejs-kit-vite"><code>@sveltejs/kit/vite</code></a> プラグインと、その他の <a href="https://ja.vitejs.dev/config/">Vite の設定</a> をともに使用した <a href="https://ja.vitejs.dev">Vite</a> プロジェクトです。</p>
        </section>
      </section>
      <section id="その他のファイル" class="level2">
        <h2>その他のファイル</h2>
        <section id="svelte-kit" class="level3">
          <h3>.svelte-kit</h3>
          <p>
            開発してプロジェクトをビルドすると、SvelteKit は <code>.svelte-kit</code> ディレクトリ (<a href="../50-api-reference/10-configuration.html#outdir"><code>outDir</code></a> で変更可能です) にファイルを生成します。その中身を気にすることなく、いつでも削除することができます (次に <code>dev</code> や <code>build</code> を実行したときに再生成されます)。
            <span style="float: footnote;"><a href="../../index.html#toc">Go to TOC</a></span>
          </p>
        </section>
      </section>
    </section>
  </body>
</html>
