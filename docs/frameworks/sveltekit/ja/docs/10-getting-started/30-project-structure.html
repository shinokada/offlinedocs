<!doctype html><html lang="ja"><meta charset="utf-8"><title>プロジェクト構成</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"href="../../../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="プロジェクト構成"><h1 id="プロジェクト構成">プロジェクト構成</h1><p>一般的な SvelteKit プロジェクトはこのような構成です:<pre class="language-bash"><code class="language-bash">my-project/
├ src/
│ ├ lib/
│ │ ├ server/
│ │ │ └ <span class="token punctuation">[</span>your server-only lib files<span class="token punctuation">]</span>
│ │ └ <span class="token punctuation">[</span>your lib files<span class="token punctuation">]</span>
│ ├ params/
│ │ └ <span class="token punctuation">[</span>your param matchers<span class="token punctuation">]</span>
│ ├ routes/
│ │ └ <span class="token punctuation">[</span>your routes<span class="token punctuation">]</span>
│ ├ app.html
│ ├ error.html
│ ├ hooks.client.js
│ └ hooks.server.js
├ static/
│ └ <span class="token punctuation">[</span>your static assets<span class="token punctuation">]</span>
├ tests/
│ └ <span class="token punctuation">[</span>your tests<span class="token punctuation">]</span>
├ package.json
├ svelte.config.js
├ tsconfig.json
└ vite.config.js</code></pre><p>また、<code>.gitignore</code>、<code>.npmrc</code> などの共通ファイルもあります (もし <code>npm create svelte@latest</code> の実行時にオプションを選択した場合は <code>.prettierrc</code> や <code>.eslintrc.cjs</code> などもあるでしょう)。<section class="level2"aria-labelledby="プロジェクトファイル"><h2 id="プロジェクトファイル">プロジェクトファイル</h2></section><section class="level2"aria-labelledby="src"><h2 id="src">src</h2><p><code>src</code> ディレクトリには、プロジェクトの中身が格納されます。<code>src/routes</code> と <code>src/app.html</code> 以外は全て省略できます。<ul><li><code>lib</code> にはあなたのライブラリのコード (ユーティリティやコンポーネント) を格納します。格納されたコードは <a href="modules#$lib"><code>$lib</code></a> エイリアスを使用してインポートしたり、<a href="packaging"><code>svelte-package</code></a> を使用して配布用にパッケージングすることができます。<ul><li><code>server</code> にはあなたのサーバー専用のライブラリのコードを格納します。格納されたコードは <a href="server-only-modules"><code>$lib/server</code></a> エイリアスを使用してインポートすることができます。SvelteKit はこれをクライアントコードにインポートされるのを防ぎます。</ul><li><code>params</code> にはアプリに必要な <a href="advanced-routing#matching">param matchers</a> を格納します<li><code>routes</code> にはアプリケーションの <a href="routing">ルート(routes)</a> を格納します。単一のルート(route)でしか使われないコンポーネントをここに置くこともできます<li><code>app.html</code> はページのテンプレートで、以下のプレースホルダーを含む HTML document です:<ul><li><code>%sveltekit.head%</code> — アプリに必要な <code>&#x3C;link></code> 要素や <code>&#x3C;script></code> 要素、<code>&#x3C;svelte:head></code> コンテンツ<li><code>%sveltekit.body%</code> — レンダリングされるページのためのマークアップです。これを直接 <code>&#x3C;body></code> の中に置くのではなく、<code>&#x3C;div></code> または他の要素の中に置く必要があります。ブラウザ拡張(browser extensions)が要素を注入するのをハイドレーションプロセスが破壊してしまう、というバグを防ぐためです。もしこうなっていない場合、SvelteKit は開発中に警告を出します<li><code>%sveltekit.assets%</code> — <a href="configuration#paths"><code>paths.assets</code></a> が指定されている場合は <a href="configuration#paths"><code>paths.assets</code></a>、指定されていない場合は <a href="configuration#paths"><code>paths.base</code></a> への相対パス<li><code>%sveltekit.nonce%</code> — マニュアルで含めるリンクやスクリプトの <a href="configuration#csp">CSP</a> nonce (使用する場合)<li><code>%sveltekit.env.[NAME]%</code> - これはレンダリング時に環境変数の <code>[NAME]</code> に置き換えられます。この環境変数は <a href="https://kit.svelte.jp../50-api-reference/10-configuration.html#env"><code>publicPrefix</code></a> で始まる必要があります (通常は <code>PUBLIC_</code> です)。もしマッチしない場合は <code>''</code> にフォールバックします。</ul><li><code>error.html</code> は、全てが失敗したときにレンダリングされるページです。以下のプレースホルダーを含めることができます:<ul><li><code>%sveltekit.status%</code> — HTTP ステータス<li><code>%sveltekit.error.message%</code> — エラーメッセージ</ul><li><code>hooks.client.js</code> にはクライアントの <a href="hooks">hooks</a> を記述します<li><code>hooks.server.js</code> にはサーバーの <a href="hooks">hooks</a> を記述します<li><code>service-worker.js</code> には <a href="service-workers">service worker</a> を記述します</ul><p>(プロジェクトに <code>.js</code> と <code>.ts</code> のどちらのファイルが含まれるかについては、プロジェクトの作成時に TypeScript の使用を選択したかどうかによります。このドキュメントに記載されているコードやファイル拡張子などは、ページの下にあるトグルを使って、JavaScript と TypeScript を切り替えることができます。)<p>プロジェクトのセットアップ時に <a href="https://vitest.dev">Vitest</a> を追加した場合、ユニットテストは <code>.test.js</code> という拡張子で <code>src</code> ディレクトリに置かれます。</section><section class="level2"aria-labelledby="static"><h2 id="static">static</h2><p><code>robots.txt</code> や <code>favicon.png</code> など、そのままサーブされる静的なアセットをここに含めます。</section><section class="level2"aria-labelledby="tests"><h2 id="tests">tests</h2><p>プロジェクトのセットアップ時、ブラウザテストのために <a href="https://playwright.dev/">Playwright</a> を追加した場合、そのテストはこのディレクトリに置かれます。</section><section class="level2"aria-labelledby="packagejson"><h2 id="packagejson">package.json</h2><p><code>package.json</code> ファイルには <code>@sveltejs/kit</code>、<code>svelte</code>、<code>vite</code> が <code>devDependencies</code> に含まれていなければなりません。<p><code>npm create svelte@latest</code> でプロジェクトを作成すると、<code>package.json</code> には <code>"type": "module"</code> が含まれることに気が付くでしょう。これは、<code>.js</code> ファイルが <code>import</code> や <code>export</code> キーワードを持つネイティブの JavaScript モジュールとして解釈されることを意味します。レガシーな CommonJS ファイルには <code>.cjs</code> ファイル拡張子が必要です。</section><section class="level2"aria-labelledby="svelteconfigjs"><h2 id="svelteconfigjs">svelte.config.js</h2><p>このファイルには Svelte と SvelteKit の<a href="configuration">設定</a>が含まれています。</section><section class="level2"aria-labelledby="tsconfigjson"><h2 id="tsconfigjson">tsconfig.json</h2><p><code>npm create svelte@latest</code> の際に型チェックを追加した場合、このファイル (または <code>.ts</code> ファイルより型チェックされた <code>.js</code> ファイルのほうがお好みであれば <code>jsconfig.json</code>) で TypeScript の設定を行います。SvelteKit は特定の設定に依存しているため、独自の <code>.svelte-kit/tsconfig.json</code> ファイルを生成し、あなたの設定を <code>extends</code> (拡張)しています。</section><section class="level2"aria-labelledby="viteconfigjs"><h2 id="viteconfigjs">vite.config.js</h2><p>SvelteKit プロジェクトは実は、<a href="modules#sveltejs-kit-vite"><code>@sveltejs/kit/vite</code></a> プラグインと、その他の <a href="https://ja.vitejs.dev/config/">Vite の設定</a> を一緒に使用した <a href="https://ja.vitejs.dev">Vite</a> プロジェクトです。</section><section class="level2"aria-labelledby="その他のファイル"><h2 id="その他のファイル">その他のファイル</h2></section><section class="level2"aria-labelledby="svelte-kit"><h2 id="svelte-kit">.svelte-kit</h2><p>開発してプロジェクトをビルドすると、SvelteKit は <code>.svelte-kit</code> ディレクトリ (<a href="configuration#outdir"><code>outDir</code></a> で変更可能です) にファイルを生成します。その中身を気にすることなく、いつでも削除することができます (次に <code>dev</code> や <code>build</code> を実行したときに再生成されます)。 <span style="float:footnote"><a href="../../index.html#toc">Go to TOC</a></span></section></section>