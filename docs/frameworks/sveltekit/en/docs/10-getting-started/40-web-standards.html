<!doctype html><html lang="en"><meta charset="utf-8"><title>Web standards</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"href="../../../../../../../../../docs/themes/packages/prism-coy-theme/theme_common.css"><section id="web-standards"class="level1"><h1>Web standards</h1><p>Throughout this documentation, you'll see references to the standard <a href="https://developer.mozilla.org/en-US/docs/Web/API">Web APIs</a> that SvelteKit builds on top of. Rather than reinventing the wheel, we <em>use the platform</em>, which means your existing web development skills are applicable to SvelteKit. Conversely, time spent learning SvelteKit will help you be a better web developer elsewhere.<p>These APIs are available in all modern browsers and in many non-browser environments like Cloudflare Workers, Deno and Vercel Edge Functions. During development, and in <a href="../20-core-concepts/50-adapters.html">adapters</a> for Node-based environments (including AWS Lambda), they're made available via polyfills where necessary (for now, that is — Node is rapidly adding support for more web standards).<p>In particular, you'll get comfortable with the following:<section id="fetch-apis"class="level2"><h2>Fetch APIs</h2><p>SvelteKit uses <a href="https://developer.mozilla.org/en-US/docs/Web/API/fetch"><code>fetch</code></a> for getting data from the network. It's available in <a href="../30-advanced/20-hooks.html">hooks</a> and <a href="../20-core-concepts/10-routing.html#server">server routes</a> as well as in the browser.<blockquote><p>A special version of <code>fetch</code> is available in <a href="../20-core-concepts/20-load.html"><code>load</code></a> functions, <a href="../30-advanced/20-hooks.html#server-hooks">server hooks</a> and <a href="../20-core-concepts/10-routing.html#server">API routes</a> for invoking endpoints directly during server-side rendering, without making an HTTP call, while preserving credentials. (To make credentialled fetches in server-side code outside <code>load</code>, you must explicitly pass <code>cookie</code> and/or <code>authorization</code> headers.) It also allows you to make relative requests, whereas server-side <code>fetch</code> normally requires a fully qualified URL.</blockquote><p>Besides <code>fetch</code> itself, the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API">Fetch API</a> includes the following interfaces:</section><section id="request"class="level2"><h2>Request</h2><p>An instance of <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request"><code>Request</code></a> is accessible in <a href="../30-advanced/20-hooks.html">hooks</a> and <a href="../20-core-concepts/10-routing.html#server">server routes</a> as <code>event.request</code>. It contains useful methods like <code>request.json()</code> and <code>request.formData()</code> for getting data that was posted to an endpoint.</section><section id="response"class="level2"><h2>Response</h2><p>An instance of <a href="https://developer.mozilla.org/en-US/docs/Web/API/Response"><code>Response</code></a> is returned from <code>await fetch(...)</code> and handlers in <code>+server.js</code> files. Fundamentally, a SvelteKit app is a machine for turning a <code>Request</code> into a <code>Response</code>.</section><section id="headers"class="level2"><h2>Headers</h2><p>The <a href="https://developer.mozilla.org/en-US/docs/Web/API/Headers"><code>Headers</code></a> interface allows you to read incoming <code>request.headers</code> and set outgoing <code>response.headers</code>:<pre class="language-js"><code class="language-js"><span class="token comment">// @errors: 2461</span>
<span class="token comment">/// file: src/routes/what-is-my-user-agent/+server.js</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> json <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@sveltejs/kit'</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/** <span class="token keyword">@type</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token keyword module">import</span><span class="token punctuation">(</span><span class="token string">'./$types'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>RequestHandler<span class="token punctuation">}</span></span> */</span>
<span class="token keyword module">export</span> <span class="token keyword">function</span> <span class="token constant">GET</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// log all headers</span>
	<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token spread operator">...</span>event<span class="token punctuation">.</span><span class="token property-access">request</span><span class="token punctuation">.</span><span class="token property-access">headers</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword control-flow">return</span> <span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		<span class="token comment">// retrieve a specific header</span>
		<span class="token literal-property property">userAgent</span><span class="token operator">:</span> event<span class="token punctuation">.</span><span class="token property-access">request</span><span class="token punctuation">.</span><span class="token property-access">headers</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">'user-agent'</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></section><section id="formdata"class="level2"><h2>FormData</h2><p>When dealing with HTML native form submissions you'll be working with <a href="https://developer.mozilla.org/en-US/docs/Web/API/FormData"><code>FormData</code></a> objects.<pre class="language-js"><code class="language-js"><span class="token comment">// @errors: 2461</span>
<span class="token comment">/// file: src/routes/hello/+server.js</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> json <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@sveltejs/kit'</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/** <span class="token keyword">@type</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token keyword module">import</span><span class="token punctuation">(</span><span class="token string">'./$types'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>RequestHandler<span class="token punctuation">}</span></span> */</span>
<span class="token keyword module">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token constant">POST</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> body <span class="token operator">=</span> <span class="token keyword control-flow">await</span> event<span class="token punctuation">.</span><span class="token property-access">request</span><span class="token punctuation">.</span><span class="token method function property-access">formData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// log all fields</span>
	<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token spread operator">...</span>body<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword control-flow">return</span> <span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		<span class="token comment">// get a specific field's value</span>
		<span class="token literal-property property">name</span><span class="token operator">:</span> body<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token string">'world'</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></section><section id="stream-apis"class="level2"><h2>Stream APIs</h2><p>Most of the time, your endpoints will return complete data, as in the <code>userAgent</code> example above. Sometimes, you may need to return a response that's too large to fit in memory in one go, or is delivered in chunks, and for this the platform provides <a href="https://developer.mozilla.org/en-US/docs/Web/API/Streams_API">streams</a> — <a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream">ReadableStream</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/API/WritableStream">WritableStream</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/API/TransformStream">TransformStream</a>.</section><section id="url-apis"class="level2"><h2>URL APIs</h2><p>URLs are represented by the <a href="https://developer.mozilla.org/en-US/docs/Web/API/URL"><code>URL</code></a> interface, which includes useful properties like <code>origin</code> and <code>pathname</code> (and, in the browser, <code>hash</code>). This interface shows up in various places — <code>event.url</code> in <a href="../30-advanced/20-hooks.html">hooks</a> and <a href="../20-core-concepts/10-routing.html#server">server routes</a>, <a href="../50-api-reference/30-modules.html#$app-stores"><code>$page.url</code></a> in <a href="../20-core-concepts/10-routing.html#page">pages</a>, <code>from</code> and <code>to</code> in <a href="../50-api-reference/30-modules.html#$app-navigation"><code>beforeNavigate</code> and <code>afterNavigate</code></a> and so on.</section><section id="urlsearchparams"class="level2"><h2>URLSearchParams</h2><p>Wherever you encounter a URL, you can access query parameters via <code>url.searchParams</code>, which is an instance of <a href="https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams"><code>URLSearchParams</code></a>:<pre class="language-js"><code class="language-js"><span class="token comment">// @filename: ambient.d.ts</span>
declare global <span class="token punctuation">{</span>
	<span class="token keyword">const</span> <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token constant">URL</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword module">export</span> <span class="token exports"><span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">;</span>

<span class="token comment">// @filename: index.js</span>
<span class="token comment">// cut---</span>
<span class="token keyword">const</span> foo <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token property-access">searchParams</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></section><section id="web-crypto"class="level2"><h2>Web Crypto</h2><p>The <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Crypto_API">Web Crypto API</a> is made available via the <code>crypto</code> global. It's used internally for <a href="../50-api-reference/10-configuration.html#csp">Content Security Policy</a> headers, but you can also use it for things like generating UUIDs:<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> uuid <span class="token operator">=</span> crypto<span class="token punctuation">.</span><span class="token method function property-access">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><span style="float:footnote"><a href="../../index.html#toc">Go to TOC</a></span></section></section>