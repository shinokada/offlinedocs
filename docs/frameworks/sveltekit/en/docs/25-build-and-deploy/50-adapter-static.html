<!doctype html><html lang="en"><meta charset="utf-8"><title>Static site generation</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"href="../../../../../../../../../docs/themes/packages/prism-coy-theme/theme_common.css"><section id="static-site-generation"class="level1"><h1>Static site generation</h1><p>To use SvelteKit as a static site generator (SSG), use <a href="https://github.com/sveltejs/kit/tree/master/packages/adapter-static"><code>adapter-static</code></a>.<p>This will prerender your entire site as a collection of static files. If you'd like to prerender only some pages, you will need to use a different adapter together with <a href="page-options#prerender">the <code>prerender</code> option</a>.<section id="usage"class="level2"><h2>Usage</h2><p>Install with <code>npm i -D @sveltejs/adapter-static</code>, then add the adapter to your <code>svelte.config.js</code>:<pre class="language-js"><code class="language-js"><span class="token comment">// @errors: 2307</span>
<span class="token comment">/// file: svelte.config.js</span>
<span class="token keyword module">import</span> <span class="token imports">adapter</span> <span class="token keyword module">from</span> <span class="token string">'@sveltejs/adapter-static'</span><span class="token punctuation">;</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">kit</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">adapter</span><span class="token operator">:</span> <span class="token function">adapter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			<span class="token comment">// default options are shown. On some platforms</span>
			<span class="token comment">// these options are set automatically â€” see below</span>
			<span class="token literal-property property">pages</span><span class="token operator">:</span> <span class="token string">'build'</span><span class="token punctuation">,</span>
			<span class="token literal-property property">assets</span><span class="token operator">:</span> <span class="token string">'build'</span><span class="token punctuation">,</span>
			<span class="token literal-property property">fallback</span><span class="token operator">:</span> <span class="token keyword null nil">null</span><span class="token punctuation">,</span>
			<span class="token literal-property property">precompress</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
			<span class="token literal-property property">strict</span><span class="token operator">:</span> <span class="token boolean">true</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>...and add the <a href="page-options#prerender"><code>prerender</code></a> option to your root layout:<pre class="language-js"><code class="language-js"><span class="token comment">/// file: src/routes/+layout.js</span>
<span class="token comment">// This can be false if you're using a fallback (i.e. SPA mode)</span>
<span class="token keyword module">export</span> <span class="token keyword">const</span> prerender <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span></code></pre><blockquote><p>You must ensure SvelteKit's <a href="page-options#trailingslash"><code>trailingSlash</code></a> option is set appropriately for your environment. If your host does not render <code>/a.html</code> upon receiving a request for <code>/a</code> then you will need to set <code>trailingSlash: 'always'</code> to create <code>/a/index.html</code> instead.</blockquote></section><section id="zero-config-support"class="level2"><h2>Zero-config support</h2><p>Some platforms have zero-config support (more to come in future):<ul><li><a href="https://vercel.com">Vercel</a></ul><p>On these platforms, you should omit the adapter options so that <code>adapter-static</code> can provide the optimal configuration:<pre class="language-diff"><code class="language-diff">/// file: svelte.config.js
export default {
	kit: {
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">		adapter: adapter({...}),
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">		adapter: adapter(),
</span></span>		}
	}
};</code></pre></section><section id="options"class="level2"><h2>Options</h2></section><section id="pages"class="level2"><h2>pages</h2><p>The directory to write prerendered pages to. It defaults to <code>build</code>.</section><section id="assets"class="level2"><h2>assets</h2><p>The directory to write static assets (the contents of <code>static</code>, plus client-side JS and CSS generated by SvelteKit) to. Ordinarily this should be the same as <code>pages</code>, and it will default to whatever the value of <code>pages</code> is, but in rare circumstances you might need to output pages and assets to separate locations.</section><section id="fallback"class="level2"><h2>fallback</h2><p>Specify a <a href="#spa-mode-add-fallback-page">fallback page</a> for SPA mode, e.g. <code>index.html</code> or <code>200.html</code> or <code>404.html</code>.</section><section id="precompress"class="level2"><h2>precompress</h2><p>If <code>true</code>, precompresses files with brotli and gzip. This will generate <code>.br</code> and <code>.gz</code> files.</section><section id="strict"class="level2"><h2>strict</h2><p>By default, <code>adapter-static</code> checks that either all pages and endpoints (if any) of your app were prerendered, or you have the <code>fallback</code> option set. This check exists to prevent you from accidentally publishing an app where some parts of it are not accessible, because they are not contained in the final output. If you know this is ok (for example when a certain page only exists conditionally), you can set <code>strict</code> to <code>false</code> to turn off this check.</section><section id="spa-mode"class="level2"><h2>SPA mode</h2><p>You can use <code>adapter-static</code> to create a single-page app or SPA by specifying a <strong>fallback page</strong>.<blockquote><p>In most situations this is not recommended: it harms SEO, tends to slow down perceived performance, and makes your app inaccessible to users if JavaScript fails or is disabled (which happens <a href="https://kryogenix.org/code/browser/everyonehasjs.html">more often than you probably think</a>).</blockquote><p>If you want to create a simple SPA with no prerendered routes, the necessary config looks like this:<pre class="language-js"><code class="language-js"><span class="token comment">// @errors: 2307</span>
<span class="token comment">/// file: svelte.config.js</span>
<span class="token keyword module">import</span> <span class="token imports">adapter</span> <span class="token keyword module">from</span> <span class="token string">'@sveltejs/adapter-static'</span><span class="token punctuation">;</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">kit</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">adapter</span><span class="token operator">:</span> <span class="token function">adapter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			<span class="token literal-property property">fallback</span><span class="token operator">:</span> <span class="token string">'200.html'</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token literal-property property">prerender</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">entries</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><pre class="language-js"><code class="language-js"><span class="token comment">/// file: src/routes/+layout.js</span>
<span class="token keyword module">export</span> <span class="token keyword">const</span> ssr <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span></code></pre><p>You can also turn only part of your app into an SPA by <a href="#spa-mode-turn-off-prerendering">disabling prerendering</a> only for those pages.<p>Let's go through these options one by one:</section><section id="add-fallback-page"class="level2"><h2>Add fallback page</h2><p>The fallback page is an HTML page created by SvelteKit from your page template (e.g. <code>app.html</code>) that loads your app and navigates to the correct route. For example <a href="https://surge.sh/help/adding-a-200-page-for-client-side-routing">Surge</a>, a static web host, lets you add a <code>200.html</code> file that will handle any requests that don't correspond to static assets or prerendered pages. We can create that file like so:<pre class="language-js"><code class="language-js"><span class="token comment">// @errors: 2307</span>
<span class="token comment">/// file: svelte.config.js</span>
<span class="token keyword module">import</span> <span class="token imports">adapter</span> <span class="token keyword module">from</span> <span class="token string">'@sveltejs/adapter-static'</span><span class="token punctuation">;</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">kit</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">adapter</span><span class="token operator">:</span> <span class="token function">adapter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			<span class="token literal-property property">fallback</span><span class="token operator">:</span> <span class="token string">'200.html'</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><blockquote><p>How to configure this behaviour does however depend on your hosting solution and is not part of SvelteKit. It is recommended to search the host's documentation on how to redirect requests.</blockquote></section><section id="turn-off-prerendering"class="level2"><h2>Turn off prerendering</h2><p>When operating in SPA mode, you can omit the <a href="page-options#prerender"><code>prerender</code></a> option from your root layout (or set it to <code>false</code>, its default value), and only pages that have the <code>prerender</code> option set will be prerendered at build time.<p>SvelteKit will still crawl your app's entry points looking for prerenderable pages. If <code>svelte-kit build</code> fails because of pages that can't be loaded outside the browser, you can set <code>config.kit.prerender.entries</code> to <code>[]</code> to prevent this from happening.<p>You can also add turn off prerendering only to parts of your app, if you want other parts to be prerendered.</section><section id="turn-off-ssr"class="level2"><h2>Turn off ssr</h2><p>During development, SvelteKit will still attempt to server-side render your routes. This means accessing things that are only available in the browser (such as the <code>window</code> object) will result in errors, even though this would be valid in the output app. To align the behavior of SvelteKit's dev mode with your SPA, you can add <a href="page-options#ssr"><code>export const ssr = false</code></a> to your root <code>+layout</code>. You can also add this option only to parts of your app, if you want other parts to be prerendered.</section><section id="apache"class="level2"><h2>Apache</h2><p>To run an SPA on <a href="https://httpd.apache.org/">Apache</a>, you should add a <code>static/.htaccess</code> file to route requests to the fallback page:<pre class="language-text"><code class="language-text">&#x3C;IfModule mod_rewrite.c>
	RewriteEngine On
	RewriteBase /
	RewriteRule ^200\.html$ - [L]
	RewriteCond %{REQUEST_FILENAME} !-f
	RewriteCond %{REQUEST_FILENAME} !-d
	RewriteRule . /200.html [L]
&#x3C;/IfModule></code></pre></section><section id="github-pages"class="level2"><h2>GitHub Pages</h2><p>When building for GitHub Pages, make sure to update <a href="configuration#paths"><code>paths.base</code></a> to match your repo name, since the site will be served from <a href="https://your-username.github.io/your-repo-name">https://your-username.github.io/your-repo-name</a> rather than from the root.<p>You will have to prevent GitHub's provided Jekyll from managing your site by putting an empty <code>.nojekyll</code> file in your static folder. If you do not want to disable Jekyll, change the kit's <code>appDir</code> configuration option to <code>'app_'</code> or anything not starting with an underscore. For more information, see GitHub's <a href="https://docs.github.com/en/pages/setting-up-a-github-pages-site-with-jekyll/about-github-pages-and-jekyll#configuring-jekyll-in-your-github-pages-site">Jekyll documentation</a>.<p>A config for GitHub Pages might look like the following:<pre class="language-js"><code class="language-js"><span class="token comment">/// file: svelte.config.js</span>
<span class="token keyword">const</span> dev <span class="token operator">=</span> process<span class="token punctuation">.</span><span class="token property-access">argv</span><span class="token punctuation">.</span><span class="token method function property-access">includes</span><span class="token punctuation">(</span><span class="token string">'dev'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/** <span class="token keyword">@type</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token keyword module">import</span><span class="token punctuation">(</span><span class="token string">'@sveltejs/kit'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Config<span class="token punctuation">}</span></span> */</span>
<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">kit</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">paths</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">base</span><span class="token operator">:</span> dev <span class="token operator">?</span> <span class="token string">''</span> <span class="token operator">:</span> <span class="token string">'/your-repo-name'</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token comment">// If you are not using a .nojekyll file, change your appDir to something not starting with an underscore.</span>
		<span class="token comment">// For example, instead of '_app', use 'app_', 'internal', etc.</span>
		<span class="token literal-property property">appDir</span><span class="token operator">:</span> <span class="token string">'internal'</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p><span style="float:footnote"><a href="../../index.html#toc">Go to TOC</a></span></section></section>