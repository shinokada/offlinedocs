<!doctype html><html lang="en"><meta charset="utf-8"><title>Single-page apps</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"href="../../../../../../../Vivliostyle/read-html-download-pdf/docs/themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="single-page-apps"><h1 id="single-page-apps">Single-page apps</h1><p>You can turn any SvelteKit app, using any adapter, into a fully client-rendered single-page app (SPA) by disabling SSR at the root layout:<pre class="language-js"><code class="language-js"><span class="token comment">/// file: src/routes/+layout.js</span>
<span class="token keyword module">export</span> <span class="token keyword">const</span> ssr <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span></code></pre><blockquote><p>In most situations this is not recommended: it harms SEO, tends to slow down perceived performance, and makes your app inaccessible to users if JavaScript fails or is disabled (which happens <a href="https://kryogenix.org/code/browser/everyonehasjs.html">more often than you probably think</a>).</blockquote><p>If you don't have any server-side logic (i.e. <code>+page.server.js</code>, <code>+layout.server.js</code> or <code>+server.js</code> files) you can use <a href="adapter-static"><code>adapter-static</code></a> to create your SPA by adding a <em>fallback page</em>.<section class="level2"aria-labelledby="usage"><h2 id="usage">Usage</h2><p>Install with <code>npm i -D @sveltejs/adapter-static</code>, then add the adapter to your <code>svelte.config.js</code> with the following options:<pre class="language-js"><code class="language-js"><span class="token comment">// @errors: 2307</span>
<span class="token comment">/// file: svelte.config.js</span>
<span class="token keyword module">import</span> <span class="token imports">adapter</span> <span class="token keyword module">from</span> <span class="token string">'@sveltejs/adapter-static'</span><span class="token punctuation">;</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">kit</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">adapter</span><span class="token operator">:</span> <span class="token function">adapter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			<span class="token literal-property property">fallback</span><span class="token operator">:</span> <span class="token string">'200.html'</span> <span class="token comment">// may differ from host to host</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>The <code>fallback</code> page is an HTML page created by SvelteKit from your page template (e.g. <code>app.html</code>) that loads your app and navigates to the correct route. For example <a href="https://surge.sh/help/adding-a-200-page-for-client-side-routing">Surge</a>, a static web host, lets you add a <code>200.html</code> file that will handle any requests that don't correspond to static assets or prerendered pages.<p>On some hosts it may be <code>index.html</code> or something else entirely â€” consult your platform's documentation.</section><section class="level2"aria-labelledby="apache"><h2 id="apache">Apache</h2><p>To run an SPA on <a href="https://httpd.apache.org/">Apache</a>, you should add a <code>static/.htaccess</code> file to route requests to the fallback page:<pre class="language-text"><code class="language-text">&#x3C;IfModule mod_rewrite.c>
	RewriteEngine On
	RewriteBase /
	RewriteRule ^200\.html$ - [L]
	RewriteCond %{REQUEST_FILENAME} !-f
	RewriteCond %{REQUEST_FILENAME} !-d
	RewriteRule . /200.html [L]
&#x3C;/IfModule></code></pre></section><section class="level2"aria-labelledby="prerendering-individual-pages"><h2 id="prerendering-individual-pages">Prerendering individual pages</h2><p>If you want certain pages to be prerendered, you can re-enable <code>ssr</code> alongside <code>prerender</code> for just those parts of your app:<pre class="language-js"><code class="language-js"><span class="token comment">/// file: src/routes/my-prerendered-page/+page.js</span>
<span class="token keyword module">export</span> <span class="token keyword">const</span> prerender <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token keyword module">export</span> <span class="token keyword">const</span> ssr <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span>`<span class="token operator">&#x3C;</span>span style<span class="token operator">=</span><span class="token string">'float: footnote;'</span><span class="token operator">></span><span class="token operator">&#x3C;</span>a href<span class="token operator">=</span><span class="token string">"../../index.html#toc"</span><span class="token operator">></span><span class="token maybe-class-name">Go</span> to <span class="token constant">TOC</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>a<span class="token operator">></span><span class="token operator">&#x3C;</span><span class="token operator">/</span>span<span class="token operator">></span>
</code></pre></section></section>