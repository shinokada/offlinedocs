<!doctype html><html id="sdk"lang="en"><meta charset="utf-8"><title>Deta Drive SDK</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"href="../../../../../../../../docs/themes/packages/prism-coy-theme/theme_common.css"><p>import Tabs from '@theme/Tabs'; import TabItem from '@theme/TabItem';<p>The Deta library is the easiest way to store and retrieve files from your Deta Drive. Currently, we support JavaScript, Typescript and Python 3. <a href="#contact">Drop us a line</a> if you want us to support your favorite language.<section id="installing"class="level2"><h2>Installing</h2><br><tabs groupid="preferred-language"defaultvalue="js"values="{["{=""label:=""&#x27;javascript&#x27;,=""value:=""&#x27;js&#x27;,=""},=""&#x27;python&#x27;,=""&#x27;py&#x27;,=""&#x27;go&#x27;,=""]=""}=""><tabitem value="js">Using NPM:<pre class="language-shell"><code class="language-shell"><span class="token function">npm</span> <span class="token function">install</span> deta</code></pre><p>Using Yarn:<pre class="language-shell"><code class="language-shell"><span class="token function">yarn</span> <span class="token function">add</span> deta</code></pre></tabitem><tabitem value="py"><pre class="language-shell"><code class="language-shell">pip <span class="token function">install</span> deta</code></pre></tabitem><tabitem value="go"><pre class="language-shell"><code class="language-shell">go get github.com/deta/deta-go</code></pre></tabitem></tabs></section><section id="instantiating"class="level2"><h2>Instantiating</h2><p>To start working with your Drive, you need to import the <code>Deta</code> class and initialize it with a <strong>Project Key</strong>. Then instantiate a subclass called <code>Drive</code> with a database name of your choosing.</p><br><tabs groupid="preferred-language"defaultvalue="js"values="{["{=""label:=""&#x27;javascript&#x27;,=""value:=""&#x27;js&#x27;,=""},=""&#x27;python&#x27;,=""&#x27;py&#x27;,=""&#x27;go&#x27;,=""]=""}=""><tabitem value="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token maybe-class-name">Deta</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'deta'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// import Deta</span>

<span class="token comment">// this also works</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Deta</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'deta'</span><span class="token punctuation">;</span>

<span class="token comment">// Initialize with a Project Key</span>
<span class="token keyword">const</span> deta <span class="token operator">=</span> <span class="token function"><span class="token maybe-class-name">Deta</span></span><span class="token punctuation">(</span><span class="token string">'project key'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

<span class="token comment">// You can create as many as you want </span>
<span class="token keyword">const</span> photos <span class="token operator">=</span> deta<span class="token punctuation">.</span><span class="token method function property-access"><span class="token maybe-class-name">Drive</span></span><span class="token punctuation">(</span><span class="token string">'photos'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">const</span> docs <span class="token operator">=</span> deta<span class="token punctuation">.</span><span class="token method function property-access"><span class="token maybe-class-name">Drive</span></span><span class="token punctuation">(</span><span class="token string">'docs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </code></pre><blockquote>If you are using Deta Drive within a [Deta Micro](/docs/micros/about), you must include `deta` in your `package.json` file to install the latest sdk version. A valid project key is pre-set in the Micro's environment. There is no need to pass a key in the initialization step.<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token maybe-class-name">Drive</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'deta'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> drive <span class="token operator">=</span> <span class="token function"><span class="token maybe-class-name">Drive</span></span><span class="token punctuation">(</span><span class="token string">'simple_drive'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </code></pre></blockquote><blockquote>If you are using the `deta` npm package of `0.0.6` or below, `Deta` is the single default export and should be imported as such.<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token maybe-class-name">Deta</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'deta'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></blockquote></tabitem><tabitem value="py"><pre class="language-py"><code class="language-py"><span class="token keyword">from</span> deta <span class="token keyword">import</span> Deta  <span class="token comment"># Import Deta</span>

<span class="token comment"># Initialize with a Project Key</span>
deta <span class="token operator">=</span> Deta<span class="token punctuation">(</span>project key<span class="token punctuation">)</span>

<span class="token comment"># This how to connect to or create a database.</span>
drive <span class="token operator">=</span> deta<span class="token punctuation">.</span>Drive<span class="token punctuation">(</span>simple_drive<span class="token punctuation">)</span>

<span class="token comment"># You can create as many as you want </span>
photos <span class="token operator">=</span> deta<span class="token punctuation">.</span>Drive<span class="token punctuation">(</span>photos<span class="token punctuation">)</span>
docs <span class="token operator">=</span> deta<span class="token punctuation">.</span>Drive<span class="token punctuation">(</span>docs<span class="token punctuation">)</span>
</code></pre><blockquote>If you are using Deta Drive within a [Deta Micro](/docs/micros/about), you must include `deta` in your `requirements.txt` file to install the latest sdk version. A valid project key is pre-set in the Micro's environment. There is no need to pass a key in the the initialization step.<pre class="language-py"><code class="language-py"><span class="token keyword">from</span> deta <span class="token keyword">import</span> Drive 

drive <span class="token operator">=</span> Drive<span class="token punctuation">(</span>simple_drive<span class="token punctuation">)</span></code></pre></blockquote></tabitem><tabitem value="go"><pre class="language-go"><code class="language-go"><span class="token keyword">import</span> <span class="token punctuation">(</span>
	fmt

	github<span class="token punctuation">.</span>com<span class="token operator">/</span>deta<span class="token operator">/</span>deta<span class="token operator">-</span><span class="token keyword">go</span><span class="token operator">/</span>deta
	github<span class="token punctuation">.</span>com<span class="token operator">/</span>deta<span class="token operator">/</span>deta<span class="token operator">-</span><span class="token keyword">go</span><span class="token operator">/</span>service<span class="token operator">/</span>drive
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment">// initialize with project key</span>
	<span class="token comment">// returns ErrBadProjectKey if project key is invalid</span>
	d<span class="token punctuation">,</span> err <span class="token operator">:=</span> deta<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span>deta<span class="token punctuation">.</span><span class="token function">WithProjectKey</span><span class="token punctuation">(</span>project_key<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>failed to init <span class="token builtin">new</span> Deta instance<span class="token punctuation">:</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// initialize with drive name</span>
	<span class="token comment">// returns ErrBadDriveName if base name is invalid</span>
	drive<span class="token punctuation">,</span> err <span class="token operator">:=</span> drive<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span>d<span class="token punctuation">,</span> drive_name<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>failed to init <span class="token builtin">new</span> Drive instance<span class="token punctuation">:</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></tabitem></tabs><blockquote>Your project key is confidential and meant to be used by you. Anyone who has your project key can access your database. Please, do not share it or commit it in your code.</blockquote></section><section id="using"class="level2"><h2>Using</h2><p>Deta's <strong><code>Drive</code></strong> offers the following methods to interact with your Deta Drive:<p><a href="#put"><strong><code>put</code></strong></a> - Stores a file to drive. It will overwrite the file if the file already exists.<p><a href="#get"><strong><code>get</code></strong></a> - Retrieves a file from drive by the file name.<p><a href="#delete"><strong><code>delete</code></strong></a> - Deletes a file from drive.<p><a href="#list"><strong><code>list</code></strong></a> - Lists the file names in a drive.<section id="put"class="level3"><h3>Put</h3><p><code>Put</code> uploads and stores a file in a drive with a given <code>name</code>. It will overwrite the file if the file name already exists.<p>&#x3C;Tabs groupId=preferred-language defaultValue=js values={[ {label:'JavaScript', value: 'js', }, {label:'Python', value: 'py', }, {label:'Go', value: 'go', } ]}<blockquote></blockquote><tabitem value="js"><p><strong><code>async put(name, options)</code></strong><section id="parameters"class="level4"><h4>Parameters</h4><ul><li><p><strong>name</strong> (required) - <code>string</code><ul><li>Description: The name of the file.</ul><li><p><strong>options</strong> (required) - <code>{data : string | Uint8Array | Buffer, path: string, contentType: string}</code><ul><li>Description: An object with three optional parameters.<ul><li><strong>data</strong> - <code>string</code> or <code>Buffer</code><ul><li>Description: Either the data string or a buffer.</ul><li><strong>path</strong> - <code>string</code><ul><li>Description: The path of the file to be uploaded to drive.</ul><li><strong>contentType</strong> - <code>string</code><ul><li>Description: The content type of the file to be uploaded to drive. If the content type is not provided, <code>drive</code> tries to figure out the content type from the <code>name</code> provided. It defaults to <code>application/octet-stream</code> if the content type can not be figured out from the file name.</ul></ul></ul><p><code>options</code> must have at least and at most one of two properties <code>data</code> or <code>path</code> defined.</ul></section><section id="returns"class="level4"><h4>Returns</h4><p>Returns a promise which resolves to the name of the item on a successful <code>put</code>, otherwise, it throws an <code>Error</code> on error.</section><section id="example"class="level4"><h4>Example</h4><pre class="language-js"><code class="language-js">drive<span class="token punctuation">.</span><span class="token method function property-access">put</span><span class="token punctuation">(</span><span class="token string">'hello.txt'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token maybe-class-name">Hello</span> world<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
drive<span class="token punctuation">.</span><span class="token method function property-access">put</span><span class="token punctuation">(</span><span class="token string">'hello.txt'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token maybe-class-name">Hello</span> world<span class="token punctuation">,</span> <span class="token literal-property property">contentType</span><span class="token operator">:</span> <span class="token string">'text/plain'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

drive<span class="token punctuation">.</span><span class="token method function property-access">put</span><span class="token punctuation">(</span><span class="token string">'hello.txt'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token maybe-class-name">Buffer</span><span class="token punctuation">.</span><span class="token keyword module">from</span><span class="token punctuation">(</span><span class="token string">'Hello World'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token literal-property property">contentType</span><span class="token operator">:</span> <span class="token string">'text/plain'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
drive<span class="token punctuation">.</span><span class="token method function property-access">put</span><span class="token punctuation">(</span><span class="token string">'hello.txt'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'./my/file/path/file.txt'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
drive<span class="token punctuation">.</span><span class="token method function property-access">put</span><span class="token punctuation">(</span><span class="token string">'hello.txt'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'./my/file/path/file.txt'</span><span class="token punctuation">,</span> <span class="token literal-property property">contentType</span><span class="token operator">:</span> <span class="token string">'text/plain'</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><tabitem value="py"><p><strong><code>put(name, data, *, path, content_type)</code></strong></p></tabitem></section><section id="parameters-1"class="level4"><h4>Parameters</h4><ul><li><p><strong>name</strong> (required) - <code>string</code><ul><li>Description: The name of the file.</ul><li><p><strong>data</strong> - <code>string | bytes | io.TextIOBase | io.BufferedIOBase | io.RawIOBase</code><ul><li>Description: The data content of the file.</ul><li><p><strong>path</strong> - <code>string</code><ul><li>Description: The local path of the file to be uploaded to drive.</ul><li><p><strong>content_type</strong> - <code>string</code><ul><li>Description: The content type of the file to be uploaded to drive. If the content type is not provided, <code>drive</code> tries to figure out the content type from the <code>name</code> provided. It defaults to <code>application/octet-stream</code> if the content type can not be figured out from the file name.</ul><p>At least and at most one of two args <code>data</code> or <code>path</code> must be provided. <code>path</code> and <code>content_type</code> must be provided with the key words.</ul></section><section id="returns-1"class="level4"><h4>Returns</h4><p>Returns the name of the file on a successful <code>put</code>, otherwise, raises an <code>Exception</code> on error.</section><section id="example-1"class="level4"><h4>Example</h4><pre class="language-py"><code class="language-py">drive<span class="token punctuation">.</span>put<span class="token punctuation">(</span><span class="token string">'hello.txt'</span><span class="token punctuation">,</span> <span class="token string">'Hello world'</span><span class="token punctuation">)</span>
drive<span class="token punctuation">.</span>put<span class="token punctuation">(</span><span class="token string">b'hello.txt'</span><span class="token punctuation">,</span> <span class="token string">'Hello world'</span><span class="token punctuation">)</span>
drive<span class="token punctuation">.</span>put<span class="token punctuation">(</span><span class="token string">'hello.txt'</span><span class="token punctuation">,</span> content_type<span class="token operator">=</span><span class="token string">'text/plain'</span><span class="token punctuation">)</span>

<span class="token keyword">import</span> io
drive<span class="token punctuation">.</span>put<span class="token punctuation">(</span><span class="token string">'hello.txt'</span><span class="token punctuation">,</span> io<span class="token punctuation">.</span>StringIO<span class="token punctuation">(</span><span class="token string">'hello world'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
drive<span class="token punctuation">.</span>put<span class="token punctuation">(</span><span class="token string">'hello.txt'</span><span class="token punctuation">,</span> io<span class="token punctuation">.</span>BytesIO<span class="token punctuation">(</span><span class="token string">b'hello world'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'./hello.txt'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span>
drive<span class="token punctuation">.</span>put<span class="token punctuation">(</span><span class="token string">'hello.txt'</span><span class="token punctuation">,</span> f<span class="token punctuation">)</span>
f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>

drive<span class="token punctuation">.</span>put<span class="token punctuation">(</span><span class="token string">'hello.txt'</span><span class="token punctuation">,</span> path<span class="token operator">=</span><span class="token string">'./hello.txt'</span><span class="token punctuation">)</span></code></pre><tabitem value="go"><p><strong><code>Put(i *PutInput) (string, error)</code></strong></p></tabitem></section><section id="parameters-2"class="level4"><h4>Parameters</h4><ul><li><strong>i</strong> (required) - pointer to a <code>PutInput</code><ul><li><pre class="language-go"><code class="language-go"><span class="token comment">// PutInput input to Put operation</span>
<span class="token keyword">type</span> PutInput <span class="token keyword">struct</span> <span class="token punctuation">{</span>
  <span class="token comment">// Name of the file</span>
  Name <span class="token builtin">string</span>
  <span class="token comment">// io.Reader with contents of the file</span>
  Body io<span class="token punctuation">.</span>Reader
  <span class="token comment">// ContentType of the file to be uploaded to drive.</span>
  ContentType <span class="token builtin">string</span>
<span class="token punctuation">}</span></code></pre><li><code>Name</code> (required) - <code>string</code><ul><li>Description: Name of the file to be uploaded.</ul><li><code>Body</code> (required) - <code>io.Reader</code><ul><li>Description: File content to be uploaded.</ul><li><code>ContentType</code> - <code>string</code><ul><li>Description: If the content type is not provided, drive tries to figure out the content type from Name provided. It defaults to application/octet-stream if the content type can not be figured out from the file name.</ul></ul></ul></section><section id="returns-2"class="level4"><h4>Returns</h4><p>Returns the <code>name</code> of the file on a successful put (otherwise empty name), and an <code>error</code>.</section><section id="example-2"class="level4"><h4>Example</h4><pre class="language-go"><code class="language-go"><span class="token keyword">import</span> <span class="token punctuation">(</span>
	bufio
	fmt
	os

	github<span class="token punctuation">.</span>com<span class="token operator">/</span>deta<span class="token operator">/</span>deta<span class="token operator">-</span><span class="token keyword">go</span><span class="token operator">/</span>deta
	github<span class="token punctuation">.</span>com<span class="token operator">/</span>deta<span class="token operator">/</span>deta<span class="token operator">-</span><span class="token keyword">go</span><span class="token operator">/</span>service<span class="token operator">/</span>drive
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment">// initialize with project key</span>
	<span class="token comment">// returns ErrBadProjectKey if project key is invalid</span>
	d<span class="token punctuation">,</span> err <span class="token operator">:=</span> deta<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span>deta<span class="token punctuation">.</span><span class="token function">WithProjectKey</span><span class="token punctuation">(</span>project_key<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>failed to init <span class="token builtin">new</span> Deta instance<span class="token punctuation">:</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// initialize with drive name</span>
	<span class="token comment">// returns ErrBadDriveName if drive name is invalid</span>
	drawings<span class="token punctuation">,</span> err <span class="token operator">:=</span> drive<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span>d<span class="token punctuation">,</span> drawings<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>failed to init <span class="token builtin">new</span> Drive instance<span class="token punctuation">:</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
		<span class="token keyword">return</span> 
	<span class="token punctuation">}</span>
	<span class="token comment">// PUT</span>
	<span class="token comment">// reading from a local file</span>
	file<span class="token punctuation">,</span> err <span class="token operator">:=</span> os<span class="token punctuation">.</span><span class="token function">Open</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token operator">/</span>art<span class="token punctuation">.</span>svg<span class="token punctuation">)</span>
	<span class="token keyword">defer</span> file<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

	name<span class="token punctuation">,</span> err <span class="token operator">:=</span> drawings<span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span><span class="token operator">&#x26;</span>drive<span class="token punctuation">.</span>PutInput<span class="token punctuation">{</span>
		Name<span class="token punctuation">:</span>        art<span class="token punctuation">.</span>svg<span class="token punctuation">,</span>
		Body<span class="token punctuation">:</span>        bufio<span class="token punctuation">.</span><span class="token function">NewReader</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">,</span>
		ContentType<span class="token punctuation">:</span> image<span class="token operator">/</span>svg<span class="token operator">+</span>xml<span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>failed to put file<span class="token punctuation">:</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>Successfully put file with name<span class="token punctuation">:</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></section></tabitem></section><section id="get"class="level3"><h3>Get</h3><p><code>Get</code> retrieves a file from a drive by its name.<p>&#x3C;Tabs groupId=preferred-language defaultValue=js values={[ {label:'JavaScript', value: 'js', }, {label:'Python', value: 'py', }, {label:'Go', value: 'go', } ]}<blockquote></blockquote><tabitem value="js"><p><strong><code>async get(name)</code></strong><section id="parameters-3"class="level4"><h4>Parameters</h4><ul><li><strong>name</strong> (required) - <code>string</code><ul><li>Description: The <code>name</code> of the file to get.</ul></ul></section><section id="returns-3"class="level4"><h4>Returns</h4><p>Returns a promise that resolves to a <code>blob</code> of data if found, else <code>null</code>. Throws an <code>Error</code> on errors.</section><section id="example-3"class="level4"><h4>Example</h4><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> buf <span class="token operator">=</span> <span class="token keyword control-flow">await</span> drive<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">'hello.txt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><tabitem value="py"><p><strong><code>get(name)</code></strong></p></tabitem></section><section id="parameters-4"class="level4"><h4>Parameters</h4><ul><li><strong>name</strong> (required) - <code>string</code><ul><li>Description: The <code>name</code> of the file to get.</ul></ul></section><section id="returns-4"class="level4"><h4>Returns</h4><p>Returns a instance of a <code>DriveStreamingBody</code> class which has the following methods/properties.<ul><li><p><code>read(size=None)</code> : Reads all or up to the next <code>size</code> bytes. Calling <code>read</code> after all the content has been read will return empty bytes.<li><p><code>iter_chunks(chunk_size:int=1024)</code> : Returns an iterator that yields chunks of bytes of <code>chunk_size</code> at a time.<li><p><code>iter_lines(chunk_size:int=1024)</code> : Returns an iterator that yields lines from the stream. Bytes of <code>chunk_size</code> at a time is read from the raw stream and lines are yielded from there. The line delimiter is always <code>b'\n'</code>.<li><p><code>close()</code> : Closes the stream.<li><p><code>closed</code> : Returns <code>True</code> if the stream has been closed.</ul></section><section id="example-4"class="level4"><h4>Example</h4><pre class="language-py"><code class="language-py">hello <span class="token operator">=</span> drive<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'hello.txt'</span><span class="token punctuation">)</span>
content <span class="token operator">=</span> hello<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>
hello<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># larger files</span>
<span class="token comment"># iterate chunks of size 4096 and save to disk</span>
large_file <span class="token operator">=</span> drive<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'large_file.txt'</span><span class="token punctuation">)</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>large_file<span class="token punctuation">.</span>txt<span class="token punctuation">,</span> wb<span class="token operator">+</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
  <span class="token keyword">for</span> chunk <span class="token keyword">in</span> large_file<span class="token punctuation">.</span>iter_chunks<span class="token punctuation">(</span><span class="token number">4096</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
      f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>chunk<span class="token punctuation">)</span>
  large_file<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><tabitem value="go"><p><strong><code>Get(name string) (io.ReadCloser, error)</code></strong></p></tabitem></section><section id="parameters-5"class="level4"><h4>Parameters</h4><ul><li><strong>name</strong> (required) - <code>string</code><ul><li>Description: The <code>name</code> of the file to get.</ul></ul></section><section id="returns-5"class="level4"><h4>Returns</h4><p>Returns a <code>io.ReadCloser</code> for the file.</section><section id="example-5"class="level4"><h4>Example</h4><pre class="language-go"><code class="language-go"><span class="token keyword">import</span> <span class="token punctuation">(</span>
	fmt
	io<span class="token operator">/</span>ioutil

	github<span class="token punctuation">.</span>com<span class="token operator">/</span>deta<span class="token operator">/</span>deta<span class="token operator">-</span><span class="token keyword">go</span><span class="token operator">/</span>deta
	github<span class="token punctuation">.</span>com<span class="token operator">/</span>deta<span class="token operator">/</span>deta<span class="token operator">-</span><span class="token keyword">go</span><span class="token operator">/</span>service<span class="token operator">/</span>drive
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment">// initialize with project key</span>
	<span class="token comment">// returns ErrBadProjectKey if project key is invalid</span>
	d<span class="token punctuation">,</span> err <span class="token operator">:=</span> deta<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span>deta<span class="token punctuation">.</span><span class="token function">WithProjectKey</span><span class="token punctuation">(</span>project_key<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>failed to init <span class="token builtin">new</span> Deta instance<span class="token punctuation">:</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// initialize with drive name</span>
	<span class="token comment">// returns ErrBadDriveName if drive name is invalid</span>
	drawings<span class="token punctuation">,</span> err <span class="token operator">:=</span> drive<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span>d<span class="token punctuation">,</span> drawings<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>failed to init <span class="token builtin">new</span> Drive instance<span class="token punctuation">:</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
		<span class="token keyword">return</span> 
	<span class="token punctuation">}</span>

	<span class="token comment">// GET</span>
	name <span class="token operator">:=</span> art<span class="token punctuation">.</span>svg
	f<span class="token punctuation">,</span> err <span class="token operator">:=</span> drawings<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>failed to get file with name<span class="token punctuation">:</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">defer</span> f<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

	c<span class="token punctuation">,</span> err <span class="token operator">:=</span> ioutil<span class="token punctuation">.</span><span class="token function">ReadAll</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>failed read file content with err<span class="token punctuation">:</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>file content<span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token function">string</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></section></tabitem></section><section id="delete"class="level3"><h3>Delete</h3><p><code>Delete</code> deletes a file from drive.<p>&#x3C;Tabs groupId=preferred-language defaultValue=js values={[ {label:'JavaScript', value: 'js', }, {label:'Python', value: 'py', }, {label:'Go', value: 'go', } ]}<blockquote><tabitem value="js"></tabitem></blockquote><p><strong><code>async delete(name)</code></strong><section id="parameters-6"class="level4"><h4>Parameters</h4><ul><li><strong>name</strong> (required) - <code>string</code><ul><li>Description: The name of the file to delete</ul></ul></section><section id="returns-6"class="level4"><h4>Returns</h4><p>Returns a promise that resolves to the <code>name</code> of the deleted file on successful deletions, otherwise raises an <code>Error</code><blockquote>If the file did not exist, the file is still returned as deleted.</blockquote></section><section id="example-6"class="level4"><h4>Example</h4><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> deletedFile <span class="token operator">=</span> <span class="token keyword control-flow">await</span> drive<span class="token punctuation">.</span><span class="token method function property-access">delete</span><span class="token punctuation">(</span>hello<span class="token punctuation">.</span><span class="token property-access">txt</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><tabitem value="py"><p><strong><code>delete(name)</code></strong></p></tabitem></section><section id="parameters-7"class="level4"><h4>Parameters</h4><ul><li><strong>name</strong> (required) - <code>string</code><ul><li>Description: The name of the file to delete</ul></ul></section><section id="returns-7"class="level4"><h4>Returns</h4><p>Returns the <code>name</code> of the deleted file on successful deletions, otherwise raises an <code>Exception</code><blockquote>If the file did not exist, the file is still returned as deleted.</blockquote></section><section id="example-7"class="level4"><h4>Example</h4><pre class="language-py"><code class="language-py">deleted_file <span class="token operator">=</span> drive<span class="token punctuation">.</span>delete<span class="token punctuation">(</span>hello<span class="token punctuation">.</span>txt<span class="token punctuation">)</span> </code></pre><tabitem value="go"><p><strong><code>Delete(name string) (string, error)</code></strong></p></tabitem></section><section id="parameters-8"class="level4"><h4>Parameters</h4><ul><li><strong>name</strong> (required) - <code>string</code><ul><li>Description: The name of the file to delete</ul></ul></section><section id="returns-8"class="level4"><h4>Returns</h4><p>Returns the <code>name</code> of the deleted file on successful deletions, and an <code>error</code>.<blockquote>If the file did not exist, the name is still returned.</blockquote></section><section id="example-8"class="level4"><h4>Example</h4><pre class="language-go"><code class="language-go"><span class="token keyword">import</span> <span class="token punctuation">(</span>
	fmt

	github<span class="token punctuation">.</span>com<span class="token operator">/</span>deta<span class="token operator">/</span>deta<span class="token operator">-</span><span class="token keyword">go</span><span class="token operator">/</span>deta
	github<span class="token punctuation">.</span>com<span class="token operator">/</span>deta<span class="token operator">/</span>deta<span class="token operator">-</span><span class="token keyword">go</span><span class="token operator">/</span>service<span class="token operator">/</span>drive
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment">// initialize with project key</span>
	<span class="token comment">// returns ErrBadProjectKey if project key is invalid</span>
	d<span class="token punctuation">,</span> err <span class="token operator">:=</span> deta<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span>deta<span class="token punctuation">.</span><span class="token function">WithProjectKey</span><span class="token punctuation">(</span>project_key<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>failed to init <span class="token builtin">new</span> Deta instance<span class="token punctuation">:</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// initialize with drive name</span>
	<span class="token comment">// returns ErrBadDriveName if drive name is invalid</span>
	drawings<span class="token punctuation">,</span> err <span class="token operator">:=</span> drive<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span>d<span class="token punctuation">,</span> drawings<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>failed to init <span class="token builtin">new</span> Drive instance<span class="token punctuation">:</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
		<span class="token keyword">return</span> 
	<span class="token punctuation">}</span>

	<span class="token comment">// DELETE</span>
	name<span class="token punctuation">,</span> err <span class="token operator">:=</span> drawings<span class="token punctuation">.</span><span class="token function">Delete</span><span class="token punctuation">(</span>art<span class="token punctuation">.</span>svg<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>failed to <span class="token builtin">delete</span> file with name<span class="token punctuation">:</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>Successfully deleted file with name<span class="token punctuation">:</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></section></section><section id="delete-many"class="level3"><h3>Delete Many</h3><p>Deletes multiple files (up to 1000) from a drive.<p>&#x3C;Tabs groupId=preferred-language defaultValue=js values={[ {label:'JavaScript', value: 'js', }, {label:'Python', value: 'py', }, {label:'Go', value: 'go', } ]}<blockquote></blockquote><tabitem value="js"><p><strong><code>async deleteMany(names)</code></strong><section id="parameters-9"class="level4"><h4>Parameters</h4><ul><li><strong>names</strong> (required) - <code>Array of string</code><ul><li>description: The names of the files to be deleted.</ul></ul></section><section id="returns-9"class="level4"><h4>Returns</h4><p>Returns a promise which resolves to an object with <code>deleted</code> and <code>failed</code> keys indicating deleted and failed file names.<pre class="language-js"><code class="language-js"><span class="token punctuation">{</span>
  <span class="token literal-property property">deleted</span> <span class="token operator">:</span> <span class="token punctuation">[</span>file1<span class="token punctuation">.</span><span class="token property-access">txt</span><span class="token punctuation">,</span> file2<span class="token punctuation">.</span><span class="token property-access">txt</span><span class="token punctuation">,</span> <span class="token spread operator">...</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">failed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    file_3<span class="token punctuation">.</span><span class="token property-access">txt</span><span class="token operator">:</span> reason <span class="token keyword control-flow">for</span> failure<span class="token punctuation">,</span>
  <span class="token punctuation">}</span> 
<span class="token punctuation">}</span></code></pre><blockquote>If a file did not exist, the file is still returned as deleted.</blockquote></section><section id="example-9"class="level4"><h4>Example</h4><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword control-flow">await</span> drive<span class="token punctuation">.</span><span class="token method function property-access"><span class="token maybe-class-name">DeleteMany</span></span><span class="token punctuation">(</span><span class="token punctuation">[</span>file1<span class="token punctuation">.</span><span class="token property-access">txt</span><span class="token punctuation">,</span> file2<span class="token punctuation">.</span><span class="token property-access">txt</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>deleted<span class="token operator">:</span><span class="token punctuation">,</span> result<span class="token punctuation">.</span><span class="token property-access">deleted</span><span class="token punctuation">)</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>failed<span class="token operator">:</span><span class="token punctuation">,</span> result<span class="token punctuation">.</span><span class="token property-access">failed</span><span class="token punctuation">)</span></code></pre><tabitem value="py"><p><strong><code>delete_many(names)</code></strong></p></tabitem></section><section id="parameters-10"class="level4"><h4>Parameters</h4><ul><li><strong>names</strong> (required): <code>string</code><ul><li>Description: The names of the files to be deleted.</ul></ul></section><section id="returns-10"class="level4"><h4>Returns</h4><p>Returns a <code>dict</code> with <code>deleted</code> and <code>failed</code> keys indicating deleted and failed file names.<pre class="language-py"><code class="language-py"><span class="token punctuation">{</span>
  deleted <span class="token punctuation">:</span> <span class="token punctuation">[</span>file1<span class="token punctuation">.</span>txt<span class="token punctuation">,</span> file2<span class="token punctuation">.</span>txt<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  failed<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    file_3<span class="token punctuation">.</span>txt<span class="token punctuation">:</span> reason <span class="token keyword">for</span> failure
  <span class="token punctuation">}</span> 
<span class="token punctuation">}</span></code></pre><blockquote>If a file did not exist, the file is still returned as deleted.</blockquote></section><section id="example-10"class="level4"><h4>Example</h4><pre class="language-py"><code class="language-py">result <span class="token operator">=</span> drive<span class="token punctuation">.</span>delete_many<span class="token punctuation">(</span><span class="token punctuation">[</span>file1<span class="token punctuation">.</span>txt<span class="token punctuation">,</span> file2<span class="token punctuation">.</span>txt<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>deleted<span class="token punctuation">:</span><span class="token punctuation">,</span> result<span class="token punctuation">.</span>get<span class="token punctuation">(</span>deleted<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>failed<span class="token punctuation">:</span><span class="token punctuation">,</span> result<span class="token punctuation">.</span>get<span class="token punctuation">(</span>failed<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><tabitem value="go"><p><strong><code>DeleteMany(names []string) (*DeleteManyOutput, error)</code></strong></p></tabitem></section><section id="parameters-11"class="level4"><h4>Parameters</h4><ul><li><strong>names</strong> (required): <code>[]string</code><ul><li>Description: The names of the files to be deleted.</ul></ul></section><section id="returns-11"class="level4"><h4>Returns</h4><p>Returns a pointer to a <code>DeleteManyOutput</code> and an <code>error</code>.<pre class="language-go"><code class="language-go"><span class="token comment">// DeleteManyOutput output to DeleteMany operation</span>
<span class="token keyword">type</span> DeleteManyOutput <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	Deleted <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span>          <span class="token string">`json:deleted`</span>
	Failed  <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token string">`json:failed`</span>
<span class="token punctuation">}</span></code></pre><ul><li><code>Deleted</code> - string slice indicating deleted file names.<li><code>Failled</code> - map indicating the names of failed file names along with an error message.</ul></section><section id="example-11"class="level4"><h4>Example</h4><pre class="language-go"><code class="language-go"><span class="token keyword">import</span> <span class="token punctuation">(</span>
	fmt

	github<span class="token punctuation">.</span>com<span class="token operator">/</span>deta<span class="token operator">/</span>deta<span class="token operator">-</span><span class="token keyword">go</span><span class="token operator">/</span>deta
	github<span class="token punctuation">.</span>com<span class="token operator">/</span>deta<span class="token operator">/</span>deta<span class="token operator">-</span><span class="token keyword">go</span><span class="token operator">/</span>service<span class="token operator">/</span>drive
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// initialize with project key</span>
	<span class="token comment">// returns ErrBadProjectKey if project key is invalid</span>
	d<span class="token punctuation">,</span> err <span class="token operator">:=</span> deta<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span>deta<span class="token punctuation">.</span><span class="token function">WithProjectKey</span><span class="token punctuation">(</span>project_key<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>failed to init <span class="token builtin">new</span> Deta instance<span class="token punctuation">:</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// initialize with drive name</span>
	<span class="token comment">// returns ErrBadDriveName if drive name is invalid</span>
	drawings<span class="token punctuation">,</span> err <span class="token operator">:=</span> drive<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span>d<span class="token punctuation">,</span> drawings<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>failed to init <span class="token builtin">new</span> Drive instance<span class="token punctuation">:</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
		<span class="token keyword">return</span> 
	<span class="token punctuation">}</span>

	names <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">}</span>
	dr<span class="token punctuation">,</span> err <span class="token operator">:=</span> drawings<span class="token punctuation">.</span><span class="token function">DeleteMany</span><span class="token punctuation">(</span>names<span class="token punctuation">)</span>

	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>failed to <span class="token builtin">delete</span> files<span class="token punctuation">)</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>deleted<span class="token punctuation">:</span><span class="token punctuation">,</span> dr<span class="token punctuation">.</span>Deleted<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>failed<span class="token punctuation">:</span><span class="token punctuation">,</span> dr<span class="token punctuation">.</span>Failed<span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></section></tabitem></section><section id="list"class="level3"><h3>List</h3><p><code>List</code> files in your drive.<p>&#x3C;Tabs groupId=preferred-language defaultValue=js values={[ {label:'JavaScript', value: 'js', }, {label:'Python', value: 'py', }, {label:'Go', value: 'go', } ]}<blockquote></blockquote><tabitem value="js"><p><strong><code>async list(options)</code></strong><section id="parameters-12"class="level4"><h4>Parameters</h4><ul><li><strong>options</strong> (required) : <code>{prefix: string, limit: number, last: string}</code><ul><li>Description: An object with three optional parameters.<ul><li><strong>prefix</strong>: <code>string</code><ul><li>Description: The prefix that file names must have.</ul><li><strong>limit</strong>: <code>number</code><ul><li>Description: The maximum number of files names to be returned, defaults to <code>1000</code></ul><li><strong>last</strong>: <code>string</code><ul><li>Description: The <code>last</code> name seen in a previous paginated result. Provide <code>last</code> to fetch further pages.</ul></ul></ul></ul></section><section id="returns-12"class="level4"><h4>Returns</h4><p>Returns a promise which resolves to an <code>object</code> with <code>paging</code> and <code>names</code> keys.<pre class="language-js"><code class="language-js"><span class="token punctuation">{</span>
  <span class="token literal-property property">names</span><span class="token operator">:</span> <span class="token punctuation">[</span>file1<span class="token punctuation">.</span><span class="token property-access">txt</span><span class="token punctuation">,</span> file2<span class="token punctuation">.</span><span class="token property-access">txt</span><span class="token punctuation">,</span> <span class="token spread operator">...</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">paging</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token literal-property property">last</span><span class="token operator">:</span> file_2<span class="token punctuation">.</span><span class="token property-access">txt</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><ul><li><p><code>names</code>: The names of the files<li><p><code>paging</code>: Contains paging information.<ul><li><code>size</code> : The number of files returned.<li><code>last</code> : The last name seen in the paginated response. Provide this value in subsequent api calls to fetch further pages. For the last page, <code>last</code> is not present in the response.</ul></ul></section><section id="example-12"class="level4"><h4>Example</h4><pre class="language-js"><code class="language-js"><span class="token comment">// get all files</span>
<span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword control-flow">await</span> drive<span class="token punctuation">.</span><span class="token method function property-access">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> allFiles <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token property-access">names</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> last <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token property-access">paging</span><span class="token punctuation">.</span><span class="token property-access">last</span><span class="token punctuation">;</span>

<span class="token keyword control-flow">while</span> <span class="token punctuation">(</span>last<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// provide last from previous call</span>
  result <span class="token operator">=</span> <span class="token keyword control-flow">await</span> drive<span class="token punctuation">.</span><span class="token method function property-access">list</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">last</span><span class="token operator">:</span>result<span class="token punctuation">.</span><span class="token property-access">paging</span><span class="token punctuation">.</span><span class="token property-access">last</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  allFiles <span class="token operator">=</span> allFiles<span class="token punctuation">.</span><span class="token method function property-access">concat</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token property-access">names</span><span class="token punctuation">)</span> 

  <span class="token comment">// update last</span>
  last <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token property-access">paging</span><span class="token punctuation">.</span><span class="token property-access">last</span>
<span class="token punctuation">}</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>all files<span class="token operator">:</span><span class="token punctuation">,</span> allFiles<span class="token punctuation">)</span>

<span class="token keyword">const</span> resultWithPrefix <span class="token operator">=</span> <span class="token keyword control-flow">await</span> drive<span class="token punctuation">.</span><span class="token method function property-access">list</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">prefix</span><span class="token operator">:</span> blog<span class="token operator">/</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> resultWithLimit <span class="token operator">=</span> <span class="token keyword control-flow">await</span> drive<span class="token punctuation">.</span><span class="token method function property-access">list</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> resultWIthLimitAndPrefix <span class="token operator">=</span> <span class="token keyword control-flow">await</span> drive<span class="token punctuation">.</span><span class="token method function property-access">list</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token literal-property property">prefix</span><span class="token operator">:</span>blog<span class="token operator">/</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><tabitem value="py"><p><strong><code>list(limit, prefix, last)</code></strong></p></tabitem></section><section id="parameters-13"class="level4"><h4>Parameters</h4><ul><li><strong>limit</strong>: <code>int</code><ul><li>Description: The maximum number of files names to be returned, defaults to <code>1000</code></ul><li><strong>prefix</strong>: <code>string</code><ul><li>Description: The prefix that file names must have.</ul><li><strong>last</strong>: <code>string</code><ul><li>Description: The <code>last</code> name seen in a previous paginated result. Provide <code>last</code> from previous response to fetch further pages.</ul></ul></section><section id="returns-13"class="level4"><h4>Returns</h4><p>Returns a <code>dict</code> with <code>paging</code> and <code>names</code> keys.<pre class="language-py"><code class="language-py"><span class="token punctuation">{</span>
  names<span class="token punctuation">:</span> <span class="token punctuation">[</span>file1<span class="token punctuation">.</span>txt<span class="token punctuation">,</span> file2<span class="token punctuation">.</span>txt<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  paging<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    size<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    last<span class="token punctuation">:</span> file_2<span class="token punctuation">.</span>txt
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><ul><li><p><code>names</code>: The names of the files<li><p><code>paging</code>: Contains paging information.<ul><li><code>size</code> : The number of files returned.<li><code>last</code> : The last name seen in the paginated response. Provide this value in subsequent api calls to fetch further pages. For the last page, <code>last</code> is not present in the response.</ul></ul></section><section id="example-13"class="level4"><h4>Example</h4><pre class="language-py"><code class="language-py"><span class="token comment"># get all files</span>
result <span class="token operator">=</span> drive<span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

all_files <span class="token operator">=</span> result<span class="token punctuation">.</span>get<span class="token punctuation">(</span>names<span class="token punctuation">)</span>
paging <span class="token operator">=</span> result<span class="token punctuation">.</span>get<span class="token punctuation">(</span>paging<span class="token punctuation">)</span>
last <span class="token operator">=</span> paging<span class="token punctuation">.</span>get<span class="token punctuation">(</span>last<span class="token punctuation">)</span> <span class="token keyword">if</span> paging <span class="token keyword">else</span> <span class="token boolean">None</span>

<span class="token keyword">while</span> <span class="token punctuation">(</span>last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token comment"># provide last from previous call</span>
  result <span class="token operator">=</span> drive<span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">(</span>last<span class="token operator">=</span>last<span class="token punctuation">)</span>

  all_files <span class="token operator">+=</span> result<span class="token punctuation">.</span>get<span class="token punctuation">(</span>names<span class="token punctuation">)</span>
  <span class="token comment"># update last</span>
  paging <span class="token operator">=</span> result<span class="token punctuation">.</span>get<span class="token punctuation">(</span>paging<span class="token punctuation">)</span>
  last <span class="token operator">=</span> paging<span class="token punctuation">.</span>get<span class="token punctuation">(</span>last<span class="token punctuation">)</span> <span class="token keyword">if</span> paging <span class="token keyword">else</span> <span class="token boolean">None</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">all</span> files<span class="token punctuation">:</span><span class="token punctuation">,</span> all_files<span class="token punctuation">)</span>

res_with_prefix <span class="token operator">=</span> drive<span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">(</span>prefix<span class="token operator">=</span><span class="token operator">/</span>blog<span class="token punctuation">)</span>
res_with_limit <span class="token operator">=</span> drive<span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">(</span>limit<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">)</span>
res_with_prefix_limit <span class="token operator">=</span> drive<span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">(</span>prefix<span class="token operator">=</span><span class="token operator">/</span>blog<span class="token punctuation">,</span> limit<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">)</span></code></pre><tabitem value="go"><p><strong><code>List(limit int, prefix, last string) (*ListOutput, error)</code></strong></p></tabitem></section><section id="parameters-14"class="level4"><h4>Parameters</h4><ul><li><strong>limit</strong> (required) - <code>int</code><ul><li>Description: Maximum number of file names to be returned.</ul><li><strong>prefix</strong> (required) - <code>string</code><ul><li>Description: The prefix that file names must have.</ul><li><strong>last</strong> (required) - <code>string</code><ul><li>Description: The <code>last</code> name seen in a previous paginated result. Provide <code>last</code> from previous response to fetch further pages.</ul></ul></section><section id="returns-14"class="level4"><h4>Returns</h4><p>Returns a pointer to a <code>ListOutput</code><pre class="language-go"><code class="language-go"><span class="token keyword">type</span> ListOutput <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	Paging <span class="token operator">*</span>paging  <span class="token string">`json:paging`</span>
	Names  <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token string">`json:names`</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> paging <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	Size <span class="token builtin">int</span>     <span class="token string">`json:size`</span>
	Last <span class="token operator">*</span><span class="token builtin">string</span> <span class="token string">`json:last`</span>
<span class="token punctuation">}</span></code></pre><ul><li><code>Paging</code> - indicates the size and last name of the current page. <code>nil</code> if there are no further pages.<li><code>Names</code> - names of the files.</ul></section><section id="example-14"class="level4"><h4>Example</h4><pre class="language-go"><code class="language-go"><span class="token keyword">import</span> <span class="token punctuation">(</span>
	fmt

	github<span class="token punctuation">.</span>com<span class="token operator">/</span>deta<span class="token operator">/</span>deta<span class="token operator">-</span><span class="token keyword">go</span><span class="token operator">/</span>deta
	github<span class="token punctuation">.</span>com<span class="token operator">/</span>deta<span class="token operator">/</span>deta<span class="token operator">-</span><span class="token keyword">go</span><span class="token operator">/</span>service<span class="token operator">/</span>drive
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment">// initialize with project key</span>
	<span class="token comment">// returns ErrBadProjectKey if project key is invalid</span>
	d<span class="token punctuation">,</span> err <span class="token operator">:=</span> deta<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span>deta<span class="token punctuation">.</span><span class="token function">WithProjectKey</span><span class="token punctuation">(</span>project_key<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>failed to init <span class="token builtin">new</span> Deta instance<span class="token punctuation">:</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// initialize with drive name</span>
	<span class="token comment">// returns ErrBadDriveName if drive name is invalid</span>
	drawings<span class="token punctuation">,</span> err <span class="token operator">:=</span> drive<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span>d<span class="token punctuation">,</span> drawings<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>failed to init <span class="token builtin">new</span> Drive instance<span class="token punctuation">:</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
		<span class="token keyword">return</span> 
	<span class="token punctuation">}</span>

	lr<span class="token punctuation">,</span> err <span class="token operator">:=</span> drawings<span class="token punctuation">.</span><span class="token function">List</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token punctuation">,</span> <span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>failed to list names from drive with err<span class="token punctuation">:</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token comment">// [a, b, c/d]	</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>names<span class="token punctuation">:</span><span class="token punctuation">,</span> lr<span class="token punctuation">.</span>Names<span class="token punctuation">)</span>
	
	lr<span class="token punctuation">,</span> err <span class="token operator">=</span> drawings<span class="token punctuation">.</span><span class="token function">List</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">,</span> <span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>failed to list names from drive with err<span class="token punctuation">:</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token comment">// [a]</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>names<span class="token punctuation">:</span><span class="token punctuation">,</span> lr<span class="token punctuation">.</span>Names<span class="token punctuation">)</span>
	

	lr<span class="token punctuation">,</span> err <span class="token operator">=</span> drawings<span class="token punctuation">.</span><span class="token function">List</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">,</span> <span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>failed to list names from drive with err<span class="token punctuation">:</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token comment">// b</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>last<span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token operator">*</span>lr<span class="token punctuation">.</span>Paging<span class="token punctuation">.</span>Last<span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></section></tabitem></section></section><section id="issues"class="level2"><h2>Issues</h2><p>If you run into any issues, consider reporting them in our <a href="https://github.com/orgs/deta/discussions">Github Discussions</a>.<span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></section>