<!doctype html><html id="commands"lang="en"><meta charset="utf-8"><title>Deta CLI Reference</title><meta name="viewport"content="width=device-width,initial-scale=1"><meta name="sidebar_label"content="Command Reference"><link rel="stylesheet"href="../../../../../../../../docs/themes/packages/prism-coy-theme/theme_common.css"><section id="summary"class="level2"><h2>Summary</h2><p><strong>deta</strong> is a CLI for managing <a href="/docs/micros/about">Deta Micros</a>.<p>To install the CLI, check out <a href="/docs/cli/install">Installing the CLI</a>.<section id="commands"class="level4"><h4>Commands</h4><p><a href="#deta-login"><code>deta login</code></a> - Trigger the login process for the Deta CLI.<p><a href="#deta-version"><code>deta version</code></a> - Print the Deta version<p><a href="#deta-projects"><code>deta projects</code></a> - List Deta projects<p><a href="#deta-new"><code>deta new</code></a> - Create a new Deta Micro<p><a href="#deta-deploy"><code>deta deploy</code></a> - Deploy new code to a Deta micro<p><a href="#deta-details"><code>deta details</code></a> - Get detailed information about a Deta Micro<p><a href="#deta-watch"><code>deta watch</code></a> - Auto-deploy local changes in real time to your Micro<p><a href="#deta-auth"><code>deta auth</code></a> - Change auth settings for a Deta Micro (public access, api keys)<p><a href="#deta-pull"><code>deta pull</code></a> - Pull the live code from a Deta Micro onto your local machine<p><a href="#deta-clone"><code>deta clone</code></a> - Clone a Deta Micro onto your local machine<p><a href="#deta-update"><code>deta update</code></a> - Update a Deta Micro<p><a href="#deta-visor"><code>deta visor</code></a> - Change the Visor settings for a Deta Micro<p><a href="#deta-cron"><code>deta cron</code></a> - Change cron settings for a Deta Micro</section></section><section id="deta-login"class="level2"><h2>deta login</h2><p>Login to deta via the CLI. This is necessary before using any other commands.<section id="command"class="level4"><h4>Command</h4><pre class="language-text"><code class="language-text">deta login [flags]</code></pre></section><section id="flags"class="level4"><h4>Flags</h4><pre class="language-text"><code class="language-text">  -h, --help   help for login</code></pre></section></section><section id="deta-version"class="level2"><h2>deta version</h2><p>Print the Deta version<section id="command-1"class="level4"><h4>Command</h4><pre class="language-text"><code class="language-text">deta version [flags] 
deta version [command]</code></pre></section><section id="flags-1"class="level4"><h4>Flags</h4><pre class="language-text"><code class="language-text">  -h, --help   help for version</code></pre></section><section id="version-commands"class="level4"><h4>Version commands</h4><pre class="language-text"><code class="language-text">  upgrade</code></pre></section><section id="deta-version-upgrade"class="level3"><h3>deta version upgrade</h3><p>Upgrade deta cli version<section id="command-2"class="level4"><h4>Command</h4><pre class="language-text"><code class="language-text">  deta version upgrade [--version &#x3C;version>]</code></pre></section><section id="flags-2"class="level4"><h4>Flags</h4><pre class="language-text"><code class="language-text">  -h, --help             help for upgrade
  -v, --version string   version number</code></pre></section><section id="examples"class="level4"><h4>Examples</h4><pre class="language-text"><code class="language-text">1. deta version upgrade

Upgrade cli to latest version.

2. deta version upgrade --version v1.0.0

Upgrade cli to version 'v1.0.0'.</code></pre></section></section></section><section id="deta-projects"class="level2"><h2>deta projects</h2><p>List deta projects<section id="command-3"class="level4"><h4>Command</h4><pre class="language-text"><code class="language-text">deta projects [flags]</code></pre></section><section id="flags-3"class="level4"><h4>Flags</h4><pre class="language-text"><code class="language-text">  -h, --help   help for projects</code></pre></section></section><section id="deta-new"class="level2"><h2>deta new</h2><p><code>deta new</code> creates a new Micro(server) from the Deta cli<section id="command-4"class="level4"><h4>Command</h4><pre class="language-text"><code class="language-text">deta new [flags] [path]</code></pre></section><section id="flags-4"class="level4"><h4>Flags</h4><pre class="language-text"><code class="language-text">  -h, --help             help for new
      --name string      name of the new micro
  -n, --node             create a micro with node (node14.x) runtime
      --project string   project to create the micro under
  -p, --python           create a micro with python (python 3.9) runtime
      --runtime string   create a micro with the specified runtime
                         Python: python3.7, python3.9
                         Node: node12, node14</code></pre></section><section id="examples-1"class="level4"><h4>Examples</h4><pre class="language-text"><code class="language-text">1. deta new

Create a new deta micro from the current directory with an entrypoint file (either 'main.py' or 'index.js') already present in the directory.

2. deta new --runtime python3.7

Create a new python deta micro from the current directory with an entrypoint file ('main.py') already present in the directory and runtime python3.7.

3. deta new my-micro

Create a new deta micro from './my-micro' directory with an entrypoint file (either 'main.py' or 'index.js') already present in the directory.

4. deta new --node my-node-micro

Create a new deta micro with the node runtime in the directory './my-node-micro'.
'./my-node-micro' must not contain a python entrypoint file ('main.py') if directory is already present. 

5. deta new --python --name my-github-webhook webhooks/github-deta

Create a new deta micro with the python runtime, name 'my-github-webhook' and in directory 'webhooks/github-deta'. 
'./my-node-micro' must not contain a node entrypoint file ('index.js') if directory is already present. </code></pre></section><section id="notes"class="level4"><h4>Notes</h4><ul><li><p>The <code>path</code> defaults to the current working directory if not provided.<li><p><code>deta new</code> will first check <code>path</code> for a <code>main.py</code> or <code>index.js</code> file. If one is found, <code>deta new</code> will bootstrap the Micro runtime based on the local file. If <code>path</code> is an empty directory, a runtime (with <code>--node</code> or <code>--python</code> or <code>--runtime</code>) must be provided and <code>deta</code> will create a starter app in <code>path</code>.<li><p>If <code>path</code> is not an empty directory and does not have an entrypoint file (either <code>main.py</code> or <code>index.js</code>) a <code>name</code> must be provided, under which <code>deta</code> will create a micro with a starter app.</ul></section></section><section id="deta-deploy"class="level2"><h2>deta deploy</h2><p>Deploy your local code (and dependencies) to your Deta Micro.<section id="command-5"class="level4"><h4>Command</h4><pre class="language-text"><code class="language-text">deta deploy [flags] [path]</code></pre></section><section id="flags-5"class="level4"><h4>Flags</h4><pre class="language-text"><code class="language-text">  -h, --help   help for deploy</code></pre></section><section id="examples-2"class="level4"><h4>Examples</h4><pre class="language-text"><code class="language-text">1. deta deploy

Deploy a deta micro rooted in the current directory.

2. deta deploy micros/my-micro-1

Deploy a deta micro rooted in 'micros/my-micro-1' directory.</code></pre></section><section id="notes-1"class="level4"><h4>Notes</h4><p><code>deta deploy</code> will ignore the following files and folders by default when deploying a micro:<ul><li>all files and folders with names starting with a <code>.</code> (both in unix and windows systems)<li>vim swap files<li><code>node_modules</code> directory for <code>node</code> runtime<li><code>__pycache__</code> directory for <code>python</code> runtime<li><code>env</code> and <code>venv</code> directories for <code>python</code> runtime<li><code>.pyc</code> and <code>.rst</code> files for <code>python</code> runtimes</ul></section><section id="deta-ignore"class="level4"><h4>Deta Ignore</h4><p><code>deta deploy</code> respects a <code>.detaignore</code> file. You can specify paths additional to the default ignore paths in this file.<p>For eg, a <code>.detaignore</code> file with the following content will ignore the <code>test</code> and <code>docs</code> paths when deploying your micro.<pre class="language-text"><code class="language-text">test
docs</code></pre><p>You can also use the <code>!</code> character to include paths that are ignored by default by the cli.<p>For eg, a <code>.detaignore</code> file with the following content will not ignore the <code>.env</code> file when deploying your micro.<pre class="language-text"><code class="language-text">!.env</code></pre></section></section><section id="deta-details"class="level2"><h2>deta details</h2><p>Get detailed information about a specific Deta micro.<section id="command-6"class="level4"><h4>Command</h4><pre class="language-text"><code class="language-text">deta details [flags] [path]</code></pre></section><section id="flags-6"class="level4"><h4>Flags</h4><pre class="language-text"><code class="language-text">  -h, --help   help for details</code></pre></section></section><section id="deta-watch"class="level2"><h2>deta watch</h2><p>Auto-deploy locally saved changes in real time to your Deta micro.<section id="command-7"class="level4"><h4>Command</h4><pre class="language-text"><code class="language-text">deta watch [path] [flags]</code></pre></section><section id="flags-7"class="level4"><h4>Flags</h4><pre class="language-text"><code class="language-text">  -h, --help   help for watch</code></pre></section></section><section id="deta-auth"class="level2"><h2>deta auth</h2><p>Change auth settings for a Deta Micro<section id="command-8"class="level4"><h4>Command</h4><pre class="language-text"><code class="language-text">deta auth [auth_command] [flags]</code></pre></section><section id="auth-commands"class="level4"><h4>Auth Commands</h4><pre class="language-text"><code class="language-text">  disable, enable, create-api-key, delete-api-key</code></pre></section><section id="flags-8"class="level4"><h4>Flags</h4><pre class="language-text"><code class="language-text">  -h, --help   help for auth</code></pre></section><section id="deta-auth-disable"class="level3"><h3>deta auth disable</h3><p>Disable Deta's <em>Http Auth</em> for a Deta Micro (this makes the HTTP endpoint publicly accesible).<section id="command-9"class="level4"><h4>Command</h4><pre class="language-text"><code class="language-text">deta auth disable [flags]</code></pre></section><section id="flags-9"class="level4"><h4>Flags</h4><pre class="language-text"><code class="language-text">  -h, --help   help for disable</code></pre></section></section><section id="deta-auth-enable"class="level3"><h3>deta auth enable</h3><p>Enable Deta's <em>Http Auth</em> for a Deta Micro (a Micro's endpoint will require authenticated access or via a valid api key).<section id="command-10"class="level4"><h4>Command</h4><pre class="language-text"><code class="language-text">deta auth enable [flags]</code></pre></section><section id="flags-10"class="level4"><h4>Flags</h4><pre class="language-text"><code class="language-text">  -h, --help   help for enable</code></pre></section></section><section id="deta-auth-create-api-key"class="level3"><h3>deta auth create-api-key</h3><p>Create an API key for a Deta Micro<section id="command-11"class="level4"><h4>Command</h4><pre class="language-text"><code class="language-text">deta auth create-api-key [flags]</code></pre></section><section id="flags-11"class="level4"><h4>Flags</h4><pre class="language-text"><code class="language-text">  -d, --desc string      api-key description
  -h, --help             help for create-api-key
  -n, --name string      api-key name, required
  -o, --outfile string   file to save the api-key</code></pre></section><section id="examples-3"class="level4"><h4>Examples</h4><pre class="language-text"><code class="language-text">1. deta auth create-api-key --name agent1 --desc api key for agent 1

Create an api key with name 'agent1' and description 'api key for agent 1'

2. deta auth create-api-key --name agent1 --outfile agent_1_key.txt

Create an api key with name 'agent1' and save it to file 'agent_1_key.txt'</code></pre></section></section><section id="deta-auth-delete-api-key"class="level3"><h3>deta auth delete-api-key</h3><p>Delete an API key for a Deta Micro<section id="command-12"class="level4"><h4>Command</h4><pre class="language-text"><code class="language-text">deta auth delete-api-key [flags]</code></pre></section><section id="flags-12"class="level4"><h4>Flags</h4><pre class="language-text"><code class="language-text">  -d, --desc string   api-key description
  -h, --help          help for delete-api-key
  -n, --name string   api-key name, required</code></pre></section><section id="examples-4"class="level4"><h4>Examples</h4><pre class="language-text"><code class="language-text">1. deta auth delete-api-key --name agent1

Delete api key with name 'agent1'</code></pre></section></section></section><section id="deta-pull"class="level2"><h2>deta pull</h2><p>Pull the latest deployed code of a Deta Micro to your local machine.<section id="command-13"class="level4"><h4>Command</h4><pre class="language-text"><code class="language-text">deta pull [flags]</code></pre></section><section id="flags-13"class="level4"><h4>Flags</h4><pre class="language-text"><code class="language-text">  -f, --force   force overwrite of existing files
  -h, --help    help for pull</code></pre></section><section id="examples-5"class="level4"><h4>Examples</h4><pre class="language-text"><code class="language-text">1. deta pull

Pull latest changes of deta micro present in the current directory. 
Asks for approval before overwriting the files in the current directory.

2. deta pull --force

Force pull latest changes of deta micro present in the current directory.
Overwrites the files present in the current directory.</code></pre></section></section><section id="deta-clone"class="level2"><h2>deta clone</h2><p>Clone a deta micro<section id="command-14"class="level4"><h4>Command</h4><pre class="language-text"><code class="language-text">deta clone [path] [flags]</code></pre></section><section id="flags-14"class="level4"><h4>Flags</h4><pre class="language-text"><code class="language-text">  -h, --help             help for clone
      --name string      deta micro name
      --project string   deta project</code></pre></section><section id="examples-6"class="level4"><h4>Examples</h4><pre class="language-text"><code class="language-text">1. deta clone --name my-micro

Clone latest deployment of micro 'my-micro' from 'default' project to directory './my-micro'.

2. deta clone --name my-micro --project my-project micros/my-micro-dir

Clone latest deployment of micro 'my-micro' from project 'my-project' to directory './micros/my-micro-dir'.
'./micros/my-micro-dir' must be an empty directory if it already exists. </code></pre></section></section><section id="deta-update"class="level2"><h2>deta update</h2><p>Update a deta micro<section id="command-15"class="level4"><h4>Command</h4><p>Update a Deta Micro's name or environment variables.<pre class="language-text"><code class="language-text">deta update [flags]</code></pre></section><section id="flags-15"class="level4"><h4>Flags</h4><pre class="language-text"><code class="language-text">  -e, --env string     path to env file
  -h, --help           help for update
  -n, --name string    new name of the micro
  -r, --runtime string new runtime of the micro</code></pre></section><section id="examples-7"class="level4"><h4>Examples</h4><pre class="language-text"><code class="language-text">1. deta update --name a-new-name

Update the name of a deta micro with a new name a-new-name.

2. deta update --env env-file

Update the enviroment variables of a deta micro from the file 'env-file'. 
File 'env-file' must have env vars of format 'key=value'.

3. deta update --runtime nodejs14

Update the runtime of the micro to nodejs14.x.</code></pre></section></section><section id="deta-visor"class="level2"><h2>deta visor</h2><p>Change the Visor settings for a Deta Micro.<p>If <em>Deta Visor</em> is enabled, Deta will log all incoming requests to and responses from a Deta Micro, letting you inspect, edit, and replay these request / response pairs.<p>To access a Micro's visor, navigate to:<p><code>https://web.deta.sh/home/:username/:projectName/micros/:microName/visor</code><section id="command-16"class="level4"><h4>Command</h4><p>Change visor settings for a deta micro<pre class="language-text"><code class="language-text">deta visor [visor_command] [flags]</code></pre></section><section id="visor-commands"class="level4"><h4>Visor Commands</h4><pre class="language-text"><code class="language-text">  open, enable, disable</code></pre></section><section id="flags-16"class="level4"><h4>Flags</h4><pre class="language-text"><code class="language-text">  -h, --help   help for visor</code></pre></section><section id="deta-visor-open"class="level3"><h3>deta visor open</h3><p>Open Micro's visor page in the browser.<section id="command-17"class="level4"><h4>Command</h4><pre class="language-text"><code class="language-text">deta visor open [flags]</code></pre></section><section id="flags-17"class="level4"><h4>Flags</h4><pre class="language-text"><code class="language-text">  -h, --help help for open</code></pre></section></section><section id="deta-visor-enable"class="level3"><h3>deta visor enable</h3><p>Enable Visor for a Deta Micro<section id="command-18"class="level4"><h4>Command</h4><pre class="language-text"><code class="language-text">deta visor enable [flags]</code></pre></section><section id="flags-18"class="level4"><h4>Flags</h4><pre class="language-text"><code class="language-text">  -h, --help   help for enable</code></pre></section></section><section id="deta-visor-disable"class="level3"><h3>deta visor disable</h3><p>Disable Visor for a deta micro<section id="command-19"class="level4"><h4>Command</h4><pre class="language-text"><code class="language-text">deta visor disable [flags]</code></pre></section><section id="flags-19"class="level4"><h4>Flags</h4><pre class="language-text"><code class="language-text">  -h, --help   help for disable</code></pre></section></section></section><section id="deta-run"class="level2"><h2>deta run</h2><p>Run a Deta Micro from the cli<section id="command-20"class="level4"><h4>Command</h4><pre class="language-text"><code class="language-text">deta run [flags] [action] [-- &#x3C;input args>]</code></pre></section><section id="flags-20"class="level4"><h4>Flags</h4><pre class="language-text"><code class="language-text">  -h, --help   help for run
  -l, --logs   show micro logs</code></pre></section><section id="examples-8"class="level4"><h4>Examples</h4><pre class="language-text"><code class="language-text">1. deta run -- --name Jimmy --age 33 -active

Run deta micro with the following input:
{
	name: Jimmy,
	age: 33,
	active: true
}

2. deta run --logs test -- --username admin

Run deta micro and show micro logs with action 'test' and the following input:
{
	username: admin
}

3. deta run delete -- --emails jimmy@deta.sh --emails joe@deta.sh

Run deta micro with action 'delete' and the following input:
{
	emails: [jimmy@deta.sh, joe@deta.sh]
}  

See https://docs.deta.sh for more examples and details. 
</code></pre></section></section><section id="deta-cron"class="level2"><h2>deta cron</h2><p>Change cron settings for a deta micro<section id="command-21"class="level4"><h4>Command</h4><pre class="language-text"><code class="language-text">deta cron [cron_command] [flags]</code></pre></section><section id="cron-commands"class="level4"><h4>Cron Commands</h4><pre class="language-text"><code class="language-text">  set, remove</code></pre></section><section id="flags-21"class="level4"><h4>Flags</h4><pre class="language-text"><code class="language-text">  -h, --help   help for cron</code></pre></section><section id="deta-cron-set"class="level3"><h3>deta cron set</h3><p>Set deta micro to run on a schedule<section id="command-22"class="level4"><h4>Command</h4><pre class="language-text"><code class="language-text">deta cron set [path] &#x3C;expression> [flags]</code></pre></section><section id="flags-22"class="level4"><h4>Flags</h4><pre class="language-text"><code class="language-text">  -h, --help   help for set</code></pre></section><section id="examples-9"class="level4"><h4>Examples</h4><pre class="language-text"><code class="language-text">Rate:

1. deta cron set 1 minute : run every minute
2. deta cron set 5 hours : run every five hours

Cron expressions:

1. deta cron set 0 10 * * ? * : run at 10:00 am(UTC) every day
2. deta cron set 30 18 ? * MON-FRI * : run at 6:00 pm(UTC) Monday through Friday
3. deta cron set 0/5 8-17 ? * MON-FRI * : run every 5 minutes Monday through Friday between 8:00 am and 5:55 pm(UTC)</code></pre></section></section><section id="deta-cron-remove"class="level3"><h3>deta cron remove</h3><p>Remove a schedule from a deta micro<section id="command-23"class="level4"><h4>Command</h4><pre class="language-text"><code class="language-text">deta cron remove [path] [flags]</code></pre></section><section id="flags-23"class="level4"><h4>Flags</h4><pre class="language-text"><code class="language-text">  -h, --help   help for remove</code></pre></section></section></section><section id="issues"class="level2"><h2>Issues</h2><p>If you run into any issues, consider reporting them in our <a href="https://github.com/orgs/deta/discussions">Github Discussions</a>. <span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></section>