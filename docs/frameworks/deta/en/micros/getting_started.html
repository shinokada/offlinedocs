<!doctype html><html id="getting_started"lang="en"><meta charset="utf-8"><title>Getting Started</title><meta name="viewport"content="width=device-width,initial-scale=1"><meta name="sidebar_label"content="Getting Started"><link rel="stylesheet"href="../../../../../../../../docs/themes/packages/prism-coy-theme/theme_common.css"><p>import Tabs from '@theme/Tabs'; import TabItem from '@theme/TabItem';<section id="configuring--installing-the-deta-cli"class="level3"><h3>Configuring &#x26; Installing the Deta CLI</h3><p>&#x3C;Tabs defaultValue=mac values={[ { label: 'Mac', value: 'mac', }, { label: 'Linux', value: 'linux', }, { label: 'Windows', value: 'win', }, ] }><tabitem value="mac"></tabitem><p>To install the Deta CLI, open a Terminal and enter:<pre class="language-shell"><code class="language-shell"><span class="token function">curl</span> -fsSL https://get.deta.dev/cli.sh <span class="token operator">|</span> <span class="token function">sh</span></code></pre><tabitem value="linux"><p>To install the Deta CLI, open a Terminal and enter:<pre class="language-shell"><code class="language-shell"><span class="token function">curl</span> -fsSL https://get.deta.dev/cli.sh <span class="token operator">|</span> <span class="token function">sh</span></code></pre></tabitem><tabitem value="win"><p>To install the Deta CLI, open PowerShell and enter:<pre class="language-shell"><code class="language-shell">iwr https://get.deta.dev/cli.ps1 -useb <span class="token operator">|</span> iex</code></pre></tabitem><p>This will download the binary which contains the CLI code. It will try to export the <code>deta</code> command to your path. If it does not succeed, follow the directions output by the install script to export <code>deta</code> to your path.</section><section id="logging-in-to-deta-via-the-cli"class="level3"><h3>Logging in to Deta via the CLI</h3><p>Once you have successfully installed the Deta CLI, you need to login to Deta.<p>From a Terminal, type <code>deta login</code>.<p>This command will open your browser and authenticate your CLI through Deta's web application.<p>Upon a successful login, you are ready to start building <a href="about.md">Micros</a>.</section><section id="creating-your-first-micro"class="level3"><h3>Creating Your First Micro</h3><p>To create a micro, navigate in your Terminal to a parent directory for your first micro and type:<p>&#x3C;Tabs groupId=preferred-language defaultValue=py values={[ { label: 'JavaScript', value: 'js', }, { label: 'Python', value: 'py', }, ] }><tabitem value="js"></tabitem><pre class="language-shell"><code class="language-shell">deta new --node first_micro</code></pre><p>This will create a new Node.js Micro in the 'cloud' as well as a local copy inside a directory called <code>first_micro</code> which will contain an <code>index.js</code> file.<p>The CLI should respond:<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
	name<span class="token operator">:</span> first_micro<span class="token punctuation">,</span>
	runtime<span class="token operator">:</span> nodejs12.x<span class="token punctuation">,</span>
	endpoint<span class="token operator">:</span> https<span class="token operator">:</span><span class="token comment">//&#x3C;path>.deta.dev,</span>
	visor<span class="token operator">:</span> enabled<span class="token punctuation">,</span>
	http_auth<span class="token operator">:</span> enabled
<span class="token punctuation">}</span></code></pre><tabitem value="py"><pre class="language-shell"><code class="language-shell">deta new --python first_micro</code></pre><p>This will create a new Python Micro in the 'cloud' as well as a local copy inside a directory called <code>first_micro</code> which will contain a <code>main.py</code> file.<p>The CLI should respond:<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
	name<span class="token operator">:</span> first_micro<span class="token punctuation">,</span>
	runtime<span class="token operator">:</span> python3.<span class="token number">7</span><span class="token punctuation">,</span>
	endpoint<span class="token operator">:</span> https<span class="token operator">:</span><span class="token comment">//&#x3C;path>.deta.dev,</span>
	visor<span class="token operator">:</span> enabled<span class="token punctuation">,</span>
	http_auth<span class="token operator">:</span> enabled
<span class="token punctuation">}</span></code></pre></tabitem><p>Save this endpoint URL somewhere, as we will be visiting it shortly.</section><section id="creating-a-micro-under-a-specific-project"class="level3"><h3>Creating a Micro Under a Specific Project</h3><pre class="language-shell"><code class="language-shell">deta new --project <span class="token operator">&#x3C;</span>your-project<span class="token operator">></span> </code></pre><p>This will create a new Micro under <code>&#x3C;your-project></code> in the 'cloud'.</section><section id="updating-your-micro-dependencies-and-code"class="level3"><h3>Updating your Micro: Dependencies and Code</h3><p>&#x3C;Tabs groupId=preferred-language defaultValue=py values={[ { label: 'JavaScript', value: 'js', }, { label: 'Python', value: 'py', }, ] }><tabitem value="js"></tabitem><section id="setup-and-dependencies"class="level4"><h4>Setup and Dependencies</h4><p>Enter the directory <code>first_micro</code>, and then run the shell command:<pre class="language-shell"><code class="language-shell"><span class="token function">npm</span> init -y</code></pre><p>This will initialize a Node.js project in your current directory with npm's wizard.<p>What is important is that the <strong>main</strong> file is <code>index.js</code>.<p>After following the npm wizard, let's add a dependency by running:<pre class="language-shell"><code class="language-shell"><span class="token function">npm</span> <span class="token function">install</span> express</code></pre></section><section id="updating-code-locally"class="level4"><h4>Updating Code Locally</h4><p>Let's also edit and save the <code>index.js</code> file locally so that your Micro responds to <code>HTTP GET</code> requests with <em>Hello World</em>.<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

app<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token method function property-access">send</span><span class="token punctuation">(</span><span class="token string">'Hello World'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span><span class="token property-access">exports</span> <span class="token operator">=</span> app<span class="token punctuation">;</span></code></pre></section><section id="deploying-local-changes"class="level4"><h4>Deploying Local Changes</h4><p>After you have updated your dependencies (documented in a <code>package.json</code> file) and / or your code locally, use a <code>deta deploy</code> command to update your Micro.<pre class="language-shell"><code class="language-shell">deta deploy</code></pre><p>The Deta CLI will notify you if your code has updated as well as if the dependencies were installed<pre class="language-shell"><code class="language-shell">Deploying<span class="token punctuation">..</span>.
Successfully deployed changes
Updating dependencies<span class="token punctuation">..</span>.

+ express@4.17.1
added <span class="token number">50</span> packages from <span class="token number">37</span> contributors and audited <span class="token number">50</span> packages <span class="token keyword">in</span> <span class="token number">1</span>.967s
found <span class="token number">0</span> vulnerabilities</code></pre><tabitem value="py"></tabitem></section><section id="setup-and-dependencies-1"class="level4"><h4>Setup and Dependencies</h4><p>Enter the directory <code>first_micro</code>, and then create a file, <code>requirements.txt</code>, which tells Deta which dependencies to install.<p>Let's add <em>flask</em> to <code>requirements.txt</code> and save this file locally.<pre class="language-text"><code class="language-text">flask</code></pre></section><section id="updating-code-locally-1"class="level4"><h4>Updating Code Locally</h4><p>Let's also edit the <code>main.py</code> file so that your Micro responds to <code>HTTP GET</code> requests with <em>Hello World</em>.<pre class="language-py"><code class="language-py"><span class="token keyword">from</span> flask <span class="token keyword">import</span> Flask

app <span class="token operator">=</span> Flask<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span>

<span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> methods<span class="token operator">=</span><span class="token punctuation">[</span>GET<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">hello_world</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> Hello World</code></pre></section><section id="deploying-local-changes-1"class="level4"><h4>Deploying Local Changes</h4><p>After you have updated your <code>requirements.txt</code> and / or your code locally, use a <code>deta deploy</code> command to update your Micro.<pre class="language-shell"><code class="language-shell">deta deploy</code></pre><p>The Deta CLI will notify you if your code has updated as well as if the dependencies were installed.<pre class="language-shell"><code class="language-shell">Deploying<span class="token punctuation">..</span>.
Successfully deployed changes
Updating dependencies<span class="token punctuation">..</span>.
Collecting flask
  Downloading https://files.pythonhosted.org/packages/f2/28/2a03252dfb9ebf377f40fba6a7841b47083260bf8bd8e737b0c6952df83f/Flask-1.1.2-py2.py3-none-any.whl <span class="token punctuation">(</span>94kB<span class="token punctuation">)</span>
Collecting Werkzeug<span class="token operator">>=</span><span class="token number">0.15</span> <span class="token punctuation">(</span>from flask<span class="token punctuation">)</span>
  Downloading https://files.pythonhosted.org/packages/cc/94/5f7079a0e00bd6863ef8f1da638721e9da21e5bacee597595b318f71d62e/Werkzeug-1.0.1-py2.py3-none-any.whl <span class="token punctuation">(</span>298kB<span class="token punctuation">)</span>
Collecting itsdangerous<span class="token operator">>=</span><span class="token number">0.24</span> <span class="token punctuation">(</span>from flask<span class="token punctuation">)</span>
  Downloading https://files.pythonhosted.org/packages/76/ae/44b03b253d6fade317f32c24d100b3b35c2239807046a4c953c7b89fa49e/itsdangerous-1.1.0-py2.py3-none-any.whl
Collecting Jinja<span class="token operator"><span class="token file-descriptor important">2</span>></span><span class="token operator">=</span><span class="token number">2.10</span>.1 <span class="token punctuation">(</span>from flask<span class="token punctuation">)</span>
  Downloading https://files.pythonhosted.org/packages/30/9e/f663a2aa66a09d838042ae1a2c5659828bb9b41ea3a6efa20a20fd92b121/Jinja2-2.11.2-py2.py3-none-any.whl <span class="token punctuation">(</span>125kB<span class="token punctuation">)</span>
Collecting click<span class="token operator">>=</span><span class="token number">5.1</span> <span class="token punctuation">(</span>from flask<span class="token punctuation">)</span>
  Downloading https://files.pythonhosted.org/packages/d2/3d/fa76db83bf75c4f8d338c2fd15c8d33fdd7ad23a9b5e57eb6c5de26b430e/click-7.1.2-py2.py3-none-any.whl <span class="token punctuation">(</span>82kB<span class="token punctuation">)</span>
Collecting MarkupSafe<span class="token operator">>=</span><span class="token number">0.23</span> <span class="token punctuation">(</span>from Jinja<span class="token operator"><span class="token file-descriptor important">2</span>></span><span class="token operator">=</span><span class="token number">2.10</span>.1-<span class="token operator">></span>flask<span class="token punctuation">)</span>
  Downloading https://files.pythonhosted.org/packages/98/7b/ff284bd8c80654e471b769062a9b43cc5d03e7a615048d96f4619df8d420/MarkupSafe-1.1.1-cp37-cp37m-manylinux1_x86_64.whl
Installing collected packages: Werkzeug, itsdangerous, MarkupSafe, Jinja2, click, flask</code></pre></section><section id="visiting-our-endpoint"class="level4"><h4>Visiting our Endpoint</h4><p>Let's visit the endpoint (from the endpoint URL we saved earlier).<p>(If you didn't save it, simply type <code>deta details</code> into the CLI, which will give you the endpoint alongside other information about your Micro).<p>Open up your endpoint in a browser. You might be prompted to log in to your deta account on visiting your endpoint for the first time.<p>You should see <strong>Hello, World</strong><p>If you're not accessing the endpoint from a browser (like from curl) or if you have disabled cookies in your browser, the response will be:<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
    errors<span class="token operator">:</span><span class="token punctuation">[</span>Unauthorized<span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre><p>This is because <em>Deta Auth</em> is protecting the endpoint from unauthorized access.</section></section><section id="opening-your-micro-to-the-public"class="level3"><h3>Opening Your Micro To the Public</h3><p>Let's use one last command to open up the endpoint to the public:<pre class="language-shell"><code class="language-shell">deta auth disable</code></pre><p>The CLI should respond:<pre class="language-shell"><code class="language-shell">Successfully disabled http auth</code></pre><p>Congratulations, you have just deployed and published your first Micro!</section><section id="issues"class="level2"><h2>Issues</h2><p>If you run into any issues, consider reporting them in our <a href="https://github.com/orgs/deta/discussions">Github Discussions</a>.<span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></section>