<!doctype html><html id="api_keys"lang="en"><meta charset="utf-8"><title>API Keys</title><meta name="viewport"content="width=device-width,initial-scale=1"><meta name="sidebar_label"content="API Keys"><link rel="stylesheet"href="../../../../../../../../docs/themes/packages/prism-coy-theme/theme_common.css"><p>API keys are a great way to protect your APIs, which is why Deta has them built into Micros. API keys will work with any framework that runs on the Micros â€“ no coding required from your end!<section id="1-enable-deta-access"class="level3"><h3>1. Enable Deta Access</h3><p>To use API keys with your Micro, first you need to enable <strong>Deta Access</strong> by running the following command from the root directory of your Micro's source code.<pre class="language-text"><code class="language-text">deta auth enable</code></pre><p>Now your API is protected by <strong>Deta Access</strong> and only <em>accessible</em> by you. Next, you need to create an API key to authenticate your requests.</section><section id="2-create-an-api-key"class="level3"><h3>2. Create an API key</h3><p>To create a new API key, run the following command, make sure to provide at least the <code>name</code> argument.<blockquote><p>For more info, refer to the <a href="../cli/commands.md/#deta-auth-create-api-key"><code>deta auth create-key</code></a> docs.</blockquote><pre class="language-text"><code class="language-text">deta auth create-api-key --name first_key --desc api key for agent 1</code></pre><p>This will send a response similar to this:<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
	name<span class="token operator">:</span> first_key<span class="token punctuation">,</span>
	description<span class="token operator">:</span> api key for agent <span class="token number">1</span><span class="token punctuation">,</span>
	prefix<span class="token operator">:</span> randomprefix<span class="token punctuation">,</span>
	api_key<span class="token operator">:</span> randomprefix.supersecretrandomstring<span class="token punctuation">,</span>
	created<span class="token operator">:</span> <span class="token number">2021</span><span class="token number">-04</span>-22T11<span class="token operator">:</span><span class="token number">50</span><span class="token operator">:</span>08Z
<span class="token punctuation">}</span></code></pre><p>In this example, the API key would be <code>randomprefix.supersecretrandomstring</code>.<p>The key will only be shown to you once, make sure to save it in a secure place.<blockquote>API keys are passwords Anyone with this API key can access your Micro, make sure to treat it as a password and save it in a secure place like a password manager.</blockquote></section><section id="3-using-api-keys"class="level3"><h3>3. Using API keys</h3><p>Simply add this key to the header of every request you make to your Micro.<p>For example, suppose your Micro has an endpoint <code>/tut</code> that responds with a simple string <code>Hello</code>. You can set the value of <code>X-API-Key</code> header along with your request like the following:<pre class="language-json"><code class="language-json">curl --request GET \
  --url https<span class="token operator">:</span><span class="token comment">//2kzkof.deta.dev/tut \</span>
  --header 'Content-Type<span class="token operator">:</span> application/json' \
  --header 'X-API-Key<span class="token operator">:</span> awEGbjqg.D1sETRFJKHWtcxSRSmofY2-akZjqFPh7j'</code></pre><p>That is all you need to protect your APIs!</section><section id="issues"class="level2"><h2>Issues</h2><p>If you run into any issues, consider reporting them in our <a href="https://github.com/orgs/deta/discussions">Github Discussions</a>.<span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></section>