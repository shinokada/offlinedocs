<!doctype html><html lang="en"><meta charset="utf-8"><title>Linux Bundle</title><meta name="viewport"content="width=device-width,initial-scale=1"><meta name="sidebar_position"content="4"><link rel="stylesheet"href="../../../../../themes/packages/prism-coy-theme/theme_common.css"><p>import TauriBuild from './_tauri-build.md'<section class="level1"aria-labelledby="linux-bundle"><h1 id="linux-bundle">Linux Bundle</h1><p>Tauri applications for Linux are distributed either with a Debian bundle (<code>.deb</code> file) or an AppImage (<code>.AppImage</code> file). The Tauri CLI automatically bundles your application code in these formats by default. Please note that <code>.deb</code> and <code>.AppImage</code> bundles can <strong>only be created on Linux</strong> as cross-compilation doesn't work yet.<blockquote><p>GUI apps on macOS and Linux do not inherit the <code>$PATH</code> from your shell dotfiles (<code>.bashrc</code>, <code>.bash_profile</code>, <code>.zshrc</code>, etc). Check out Tauri's <a href="https://github.com/tauri-apps/fix-path-env-rs">fix-path-env-rs</a> crate to fix this issue.</blockquote><tauribuild><section class="level2"aria-labelledby="limitations"><h2 id="limitations">Limitations</h2><p>Core libraries such as glibc frequently break compatibility with older systems. For this reason, you must build your Tauri application using the oldest base system you intend to support. A relatively old system such as Ubuntu 18.04 is more suited than Ubuntu 22.04, as the binary compiled on Ubuntu 22.04 will have a higher requirement of the glibc version, so when running on an older system, you will face a runtime error like <code>/usr/lib/libc.so.6: version 'GLIBC_2.33' not found</code>. We recommend using a Docker container or GitHub Actions to build your Tauri application for Linux.<p>See the issues <a href="https://github.com/tauri-apps/tauri/issues/1355">tauri-apps/tauri#1355</a> and <a href="https://github.com/rust-lang/rust/issues/57497">rust-lang/rust#57497</a>, in addition to the <a href="https://docs.appimage.org/reference/best-practices.html#binaries-compiled-on-old-enough-base-system">AppImage guide</a> for more information.</section><section class="level2"aria-labelledby="debian"><h2 id="debian">Debian</h2><p>The stock Debian package generated by the Tauri bundler has everything you need to ship your application to Debian-based Linux distributions, defining your application's icons, generating a Desktop file, and specifying the dependencies <code>libwebkit2gtk-4.0-37</code> and <code>libgtk-3-0</code>, along with <code>libappindicator3-1</code> if your app uses the system tray.<section class="level3"aria-labelledby="custom-files"><h3 id="custom-files">Custom Files</h3><p>Tauri exposes a few configurations for the Debian package in case you need more control.<p>If your app depends on additional system dependencies you can specify them in <code>tauri.conf.json > tauri > bundle > deb > depends</code>.<p>To include custom files in the Debian package, you can provide a list of files or folders in <code>tauri.conf.json > tauri > bundle > deb > files</code>. The configuration object maps the path in the Debian package to the path to the file on your filesystem, relative to the <code>tauri.conf.json</code> file. Here's an example configuration:<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  tauri<span class="token operator">:</span> <span class="token punctuation">{</span>
    bundle<span class="token operator">:</span> <span class="token punctuation">{</span>
      deb<span class="token operator">:</span> <span class="token punctuation">{</span>
        files<span class="token operator">:</span> <span class="token punctuation">{</span>
          /usr/share/README.md<span class="token operator">:</span> ../README.md<span class="token punctuation">,</span> <span class="token comment">// copies the README.md file to /usr/share/README.md</span>
          usr/share/assets<span class="token operator">:</span> ../assets/ <span class="token comment">// copies the entire assets directory to /usr/share/assets</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p>If you need to bundle files in a cross-platform way, check Tauri's <a href="resources.md">resource</a> and <a href="sidecar.md">sidecar</a> mechanisms.</section></section><section class="level2"aria-labelledby="appimage"><h2 id="appimage">AppImage</h2><p>AppImage is a distribution format that does not rely on the system installed packages and instead bundles all dependencies and files needed by the application. For this reason, the output file is larger but easier to distribute since it is supported on many Linux distributions and can be executed without installation. The user just needs to make the file executable (<code>chmod a+x MyProject.AppImage</code>) and can then run it (<code>./MyProject.AppImage</code>).<p>AppImages are convenient, simplifying the distribution process if you cannot make a package targeting the distribution's package manager. Still, you should carefully use it as the file size grows from the 2-6MBs range to 70+MBs.</p>caution<p>If your app plays audio/video you need to enable <code>tauri.conf.json > tauri > bundle > appimage > bundleMediaFramework</code>. This will increase the size of the AppImage bundle to include additional <code>gstreamer</code> files needed for media playback. This flag is currently only supported on Ubuntu build systems.</section><section class="level2"aria-labelledby="cross-compiling-tauri-applications-for-arm-based-devices"><h2 id="cross-compiling-tauri-applications-for-arm-based-devices">Cross-Compiling Tauri Applications for ARM-based Devices</h2><p>This guide explains how to cross-compile your Tauri application for ARM-based devices, such as the Raspberry Pi. Compiling directly on the device may not be feasible due to limited RAM, so we'll explore two methods: manual compilation using Linux or WSL on Windows and automatic cross-compilation using a GitHub Action.<section class="level3"aria-labelledby="manual-compilation"><h3 id="manual-compilation">Manual Compilation</h3><p>Manual compilation is suitable when you don't need to compile your application frequently and prefer a one-time setup. Follow the steps below:<section class="level4"aria-labelledby="prerequisites"><h4 id="prerequisites">Prerequisites</h4><blockquote><p>Ubuntu 20.04 WSL has issues with webkit dependencies. It's recommended to use Debian instead. Furthermore, AppImage is not supported on ARM devices. To avoid Tauri from building it, you need to customize tauri.conf.json in the src-tauri folder. Adjust the targets array to include only the desired platforms for your ARM-based device. For instance:<p>targets: [deb, nsis, msi, app, dmg, updater],</blockquote><ul><li>For Windows, install Debian on WSL using the <a href="https://www.linuxfordevices.com/tutorials/linux/install-debian-on-windows-wsl">wsl setup guide</a>.<li>On Linux, the build machine requires GLIBC version equal to or older than the target device. Check using: <code>ldd --version</code>.<li>Use a Linux distribution based on Debian/Ubuntu for this guide, as the commands shown use the <code>apt</code> package manager and have been tested on Debian 11.</ul></section><section class="level4"aria-labelledby="cross-compiling"><h4 id="cross-compiling">Cross-Compiling</h4><p>Now, let's cross-compile the Tauri application for ARM:<ol><li><p>Install Rust targets for your desired architecture:<ul><li>For ARMv7 (32-bit): <code>rustup target add armv7-unknown-linux-gnueabihf</code><li>For ARMv8 (ARM64, 64-bit): <code>rustup target add aarch64-unknown-linux-gnu</code></ul><li><p>Install the corresponding linker for your chosen architecture:<ul><li>For ARMv7: <code>sudo apt install gcc-arm-linux-gnueabihf</code><li>For ARMv8 (ARM64): <code>sudo apt install gcc-aarch64-linux-gnu</code></ul><li><p>Open or create the file <code>&#x3C;project-root>/.cargo/config.toml</code> and add the following configurations accordingly:<pre class="language-toml"><code class="language-toml"><span class="token punctuation">[</span><span class="token table class-name">target.armv7-unknown-linux-gnueabihf</span><span class="token punctuation">]</span>
<span class="token key property">linker</span> <span class="token punctuation">=</span> arm-linux-gnueabihf-gcc

<span class="token punctuation">[</span><span class="token table class-name">target.aarch64-unknown-linux-gnu</span><span class="token punctuation">]</span>
<span class="token key property">linker</span> <span class="token punctuation">=</span> aarch64-linux-gnu-gcc</code></pre><li><p>Enable the respective architecture in the package manager (only for non-Debian distributions):<ul><li>For ARMv7: <code>sudo dpkg --add-architecture armhf</code><li>For ARMv8 (ARM64): <code>sudo dpkg --add-architecture arm64</code></ul></ol><blockquote>Adjusting Package Sources<p>On Debian, this step isn't necessary, but on other distributions, you might need to edit <code>/etc/apt/sources.list</code> to include the ARM architecture variant. For example, add these lines:<pre class="language-bash"><code class="language-bash">deb <span class="token punctuation">[</span>arch<span class="token operator">=</span>armhf<span class="token punctuation">]</span> http://ports.ubuntu.com/ubuntu-ports jammy main restricted
deb <span class="token punctuation">[</span>arch<span class="token operator">=</span>armhf<span class="token punctuation">]</span> http://ports.ubuntu.com/ubuntu-ports jammy-updates main restricted
deb <span class="token punctuation">[</span>arch<span class="token operator">=</span>armhf<span class="token punctuation">]</span> http://ports.ubuntu.com/ubuntu-ports jammy universe
deb <span class="token punctuation">[</span>arch<span class="token operator">=</span>armhf<span class="token punctuation">]</span> http://ports.ubuntu.com/ubuntu-ports jammy-updates universe
deb <span class="token punctuation">[</span>arch<span class="token operator">=</span>armhf<span class="token punctuation">]</span> http://ports.ubuntu.com/ubuntu-ports jammy multiverse
deb <span class="token punctuation">[</span>arch<span class="token operator">=</span>armhf<span class="token punctuation">]</span> http://ports.ubuntu.com/ubuntu-ports jammy-updates multiverse
deb <span class="token punctuation">[</span>arch<span class="token operator">=</span>armhf<span class="token punctuation">]</span> http://ports.ubuntu.com/ubuntu-ports jammy-backports main restricted universe multiverse
deb <span class="token punctuation">[</span>arch<span class="token operator">=</span>armhf<span class="token punctuation">]</span> http://ports.ubuntu.com/ubuntu-ports jammy-security main restricted
deb <span class="token punctuation">[</span>arch<span class="token operator">=</span>armhf<span class="token punctuation">]</span> http://ports.ubuntu.com/ubuntu-ports jammy-security universe
deb <span class="token punctuation">[</span>arch<span class="token operator">=</span>armhf<span class="token punctuation">]</span> http://ports.ubuntu.com/ubuntu-ports jammy-security multiverse</code></pre><p>After making changes, verify if the armhf architecture is still enabled in the package manager by re-running the command from Step 4.</blockquote><ol start="5"><li><p>Update the package information: <code>sudo apt-get update &#x26;&#x26; sudo apt-get upgrade -y</code>.<li><p>Install the required webkitgtk library for your chosen architecture:<ul><li>For ARMv7: <code>sudo apt install libwebkit2gtk-4.0-dev:armhf</code><li>For ARMv8 (ARM64): <code>sudo apt install libwebkit2gtk-4.0-dev:arm64</code></ul><li><p>Set the <code>PKG_CONFIG_SYSROOT_DIR</code> to the appropriate directory based on your chosen architecture:<ul><li>For ARMv7: <code>export PKG_CONFIG_SYSROOT_DIR=/usr/arm-linux-gnueabihf/</code><li>For ARMv8 (ARM64): <code>export PKG_CONFIG_SYSROOT_DIR=/usr/aarch64-linux-gnu/</code></ul><li><p>Build the app for your desired ARM version:<ul><li>For ARMv7: <code>cargo tauri build --target armv7-unknown-linux-gnueabihf</code><li>For ARMv8 (ARM64): <code>cargo tauri build --target aarch64-unknown-linux-gnu</code></ul></ol><p>Choose the appropriate set of instructions based on whether you want to cross-compile your Tauri application for ARMv7 or ARMv8 (ARM64). Please note that the specific steps may vary depending on your Linux distribution and setup.</section></section><section class="level3"aria-labelledby="experimental-automatic-cross-compilation-using-a-github-action"><h3 id="experimental-automatic-cross-compilation-using-a-github-action">Experimental: Automatic Cross-Compilation using a GitHub Action</h3><p>For automated ARM executable builds on GitHub, we'll use the <a href="https://github.com/pguyot/arm-runner-action">arm-runner-action</a> created by <a href="https://github.com/pguyot">Paul Guyot</a>.<blockquote><p>AppImage is not supported on ARM devices. To avoid Tauri building it, you need to customize <code>tauri.conf.json</code> in the <code>src-tauri</code> folder. Adjust the <code>targets</code> array to include only the desired platforms for your ARM-based device. For instance:<pre class="language-json"><code class="language-json">targets<span class="token operator">:</span> <span class="token punctuation">[</span>deb<span class="token punctuation">,</span> nsis<span class="token punctuation">,</span> msi<span class="token punctuation">,</span> app<span class="token punctuation">,</span> dmg<span class="token punctuation">,</span> updater<span class="token punctuation">]</span><span class="token punctuation">,</span></code></pre></blockquote><section class="level4"aria-labelledby="setup"><h4 id="setup">Setup</h4><p>Follow the instructions in the <a href="https://github.com/pguyot/arm-runner-action">arm-runner-action repository</a> README to set up the GitHub Action. If you're new to GitHub Actions, read the <a href="https://docs.github.com/en/actions">GitHub Actions guide</a> first.<p>Customize the last step in the GitHub Action YAML to generate a <code>.deb</code> file instead of an <code>.img</code> file:<pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">name</span><span class="token punctuation">:</span> Raspberry Pi compile
<span class="token key atrule">on</span><span class="token punctuation">:</span>
  <span class="token key atrule">workflow_dispatch</span><span class="token punctuation">:</span>

<span class="token key atrule">jobs</span><span class="token punctuation">:</span>
  <span class="token key atrule">build</span><span class="token punctuation">:</span>
    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest
    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v3
      <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> pguyot/arm<span class="token punctuation">-</span>runner<span class="token punctuation">-</span>action@v2.5.2
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">base_image</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//dietpi.com/downloads/images/DietPi_RPi<span class="token punctuation">-</span>ARMv8<span class="token punctuation">-</span>Bullseye.7z
          <span class="token key atrule">cpu</span><span class="token punctuation">:</span> cortex<span class="token punctuation">-</span>a53
          <span class="token key atrule">bind_mount_repository</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
          <span class="token key atrule">image_additional_mb</span><span class="token punctuation">:</span> <span class="token number">10240</span>
          <span class="token key atrule">optimize_image</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
          <span class="token key atrule">commands</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">
            # Rust complains (rightly) that $HOME doesn't match eid home
            export HOME=/root
            # Workaround to CI worker being stuck on Updating crates.io index
            export CARGO_REGISTRIES_CRATES_IO_PROTOCOL=sparse
            # Install setup prerequisites
            apt-get update -y --allow-releaseinfo-change</span>

            apt<span class="token punctuation">-</span>get upgrade <span class="token punctuation">-</span>y
            apt<span class="token punctuation">-</span>get autoremove <span class="token punctuation">-</span>y
            apt<span class="token punctuation">-</span>get install curl
            curl https<span class="token punctuation">:</span>//sh.rustup.rs <span class="token punctuation">-</span>sSf <span class="token punctuation">|</span> sh <span class="token punctuation">-</span>s <span class="token punctuation">-</span><span class="token punctuation">-</span> <span class="token punctuation">-</span>y
            . $HOME/.cargo/env
            curl <span class="token punctuation">-</span>fsSL https<span class="token punctuation">:</span>//deb.nodesource.com/setup_lts.x <span class="token punctuation">|</span> sudo <span class="token punctuation">-</span>E bash
            <span class="token comment"># Install framework specific packages</span>
            apt<span class="token punctuation">-</span>get install <span class="token punctuation">-</span>y nodejs
            npm install next@latest react@latest react<span class="token punctuation">-</span>dom@latest eslint<span class="token punctuation">-</span>config<span class="token punctuation">-</span>next@latest
            <span class="token comment"># Install build tools and tauri-cli requirements</span>
            apt<span class="token punctuation">-</span>get install <span class="token punctuation">-</span>y libwebkit2gtk<span class="token punctuation">-</span>4.0<span class="token punctuation">-</span>dev build<span class="token punctuation">-</span>essential wget libssl<span class="token punctuation">-</span>dev libgtk<span class="token punctuation">-</span>3<span class="token punctuation">-</span>dev libayatana<span class="token punctuation">-</span>appindicator3<span class="token punctuation">-</span>dev librsvg2<span class="token punctuation">-</span>dev
            cargo install tauri<span class="token punctuation">-</span>cli
            <span class="token comment"># Install frontend dependencies</span>
            npm install
            <span class="token comment"># Build the application</span>
            cargo tauri build
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Upload deb bundle
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/upload<span class="token punctuation">-</span>artifact@v3
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">name</span><span class="token punctuation">:</span> Debian Bundle
          <span class="token key atrule">path</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> github.workspace <span class="token punctuation">}</span><span class="token punctuation">}</span>/target/release/bundle/deb/tauri_1.4_arm64.deb</code></pre><p>Adjust the <code>path</code> variable to match your application's version and name: <code>${{ github.workspace }}/target/release/bundle/deb/[name]_[version]_arm64.deb</code>.<p><span style="float:footnote"><a href="../../index.html#toc">Go to TOC</a></span></section></section></section></tauribuild></section>