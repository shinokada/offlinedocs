<!doctype html><html lang="en"><meta charset="utf-8"><title>updater</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"href="../../../../../../../Vivliostyle/read-html-download-pdf/docs/themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="updater"><h1 id="updater">updater</h1><p>Customize the auto updater flow.<p>This package is also accessible with <code>window.__TAURI__.updater</code> when <a href="https://tauri.app/v1/api/config/#buildconfig.withglobaltauri"><code>build.withGlobalTauri</code></a> in <code>tauri.conf.json</code> is set to <code>true</code>.<section class="level2"aria-labelledby="interfaces"><h2 id="interfaces">Interfaces</h2><section class="level3"aria-labelledby="updatemanifest"><h3 id="updatemanifest"><code>UpdateManifest</code></h3><p><strong>Since</strong>: 1.0.0<section class="level4"aria-labelledby="properties"><h4 id="properties">Properties</h4><section class="level5"aria-labelledby="body"><h5 id="body"><code>body</code></h5><blockquote><p><strong>body</strong>: <code>string</code></blockquote><p><strong>Defined in:</strong> <a href="https://github.com/tauri-apps/tauri/blob/75a0c79/tooling/api/src/updater.ts#L34">updater.ts:34</a></section><section class="level5"aria-labelledby="date"><h5 id="date"><code>date</code></h5><blockquote><p><strong>date</strong>: <code>string</code></blockquote><p><strong>Defined in:</strong> <a href="https://github.com/tauri-apps/tauri/blob/75a0c79/tooling/api/src/updater.ts#L33">updater.ts:33</a></section><section class="level5"aria-labelledby="version"><h5 id="version"><code>version</code></h5><blockquote><p><strong>version</strong>: <code>string</code></blockquote><p><strong>Defined in:</strong> <a href="https://github.com/tauri-apps/tauri/blob/75a0c79/tooling/api/src/updater.ts#L32">updater.ts:32</a></section></section></section><section class="level3"aria-labelledby="updateresult"><h3 id="updateresult"><code>UpdateResult</code></h3><p><strong>Since</strong>: 1.0.0<section class="level4"aria-labelledby="properties-1"><h4 id="properties-1">Properties</h4><section class="level5"aria-labelledby="manifest"><h5 id="manifest"><code>manifest</code></h5><blockquote><p><code>Optional</code> <strong>manifest</strong>: <a href="updater.md#updatemanifest"><code>UpdateManifest</code></a></blockquote><p><strong>Defined in:</strong> <a href="https://github.com/tauri-apps/tauri/blob/75a0c79/tooling/api/src/updater.ts#L41">updater.ts:41</a></section><section class="level5"aria-labelledby="shouldupdate"><h5 id="shouldupdate"><code>shouldUpdate</code></h5><blockquote><p><strong>shouldUpdate</strong>: <code>boolean</code></blockquote><p><strong>Defined in:</strong> <a href="https://github.com/tauri-apps/tauri/blob/75a0c79/tooling/api/src/updater.ts#L42">updater.ts:42</a></section></section></section><section class="level3"aria-labelledby="updatestatusresult"><h3 id="updatestatusresult"><code>UpdateStatusResult</code></h3><p><strong>Since</strong>: 1.0.0<section class="level4"aria-labelledby="properties-2"><h4 id="properties-2">Properties</h4><section class="level5"aria-labelledby="error"><h5 id="error"><code>error</code></h5><blockquote><p><code>Optional</code> <strong>error</strong>: <code>string</code></blockquote><p><strong>Defined in:</strong> <a href="https://github.com/tauri-apps/tauri/blob/75a0c79/tooling/api/src/updater.ts#L24">updater.ts:24</a></section><section class="level5"aria-labelledby="status"><h5 id="status"><code>status</code></h5><blockquote><p><strong>status</strong>: <a href="updater.md#updatestatus"><code>UpdateStatus</code></a></blockquote><p><strong>Defined in:</strong> <a href="https://github.com/tauri-apps/tauri/blob/75a0c79/tooling/api/src/updater.ts#L25">updater.ts:25</a></section></section></section></section><section class="level2"aria-labelledby="type-aliases"><h2 id="type-aliases">Type Aliases</h2><section class="level3"aria-labelledby="updatestatus"><h3 id="updatestatus"><code>UpdateStatus</code></h3><blockquote><p><strong>UpdateStatus</strong>: <code>PENDING</code> | <code>ERROR</code> | <code>DONE</code> | <code>UPTODATE</code></blockquote><p><strong>Since</strong>: 1.0.0<p><strong>Defined in:</strong> <a href="https://github.com/tauri-apps/tauri/blob/75a0c79/tooling/api/src/updater.ts#L18">updater.ts:18</a></section></section><section class="level2"aria-labelledby="functions"><h2 id="functions">Functions</h2><section class="level3"aria-labelledby="checkupdate"><h3 id="checkupdate"><code>checkUpdate</code></h3><blockquote><p><strong>checkUpdate</strong>(): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a>&#x3C;<a href="updater.md#updateresult"><code>UpdateResult</code></a>></blockquote><p>Checks if an update is available.<p><strong>Example</strong><pre class="language-typescript"><code class="language-typescript"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> checkUpdate <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@tauri-apps/api/updater'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> update <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token function">checkUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// now run installUpdate() if needed</span></code></pre><p><strong>Since</strong>: 1.0.0<p><strong>Returns: </strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a>&#x3C;<a href="updater.md#updateresult"><code>UpdateResult</code></a>><p>Promise resolving to the update status.</section><section class="level3"aria-labelledby="installupdate"><h3 id="installupdate"><code>installUpdate</code></h3><blockquote><p><strong>installUpdate</strong>(): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a>&#x3C;<code>void</code>></blockquote><p>Install the update if there's one available.<p><strong>Example</strong><pre class="language-typescript"><code class="language-typescript"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> checkUpdate<span class="token punctuation">,</span> installUpdate <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@tauri-apps/api/updater'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> update <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token function">checkUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>update<span class="token punctuation">.</span><span class="token property-access">shouldUpdate</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Installing update </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>update<span class="token punctuation">.</span><span class="token property-access">manifest</span><span class="token operator">?.</span>version<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>update<span class="token punctuation">.</span><span class="token property-access">manifest</span><span class="token operator">?.</span>date<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>update<span class="token punctuation">.</span><span class="token property-access">manifest</span><span class="token punctuation">.</span><span class="token property-access">body</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">await</span> <span class="token function">installUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p><strong>Since</strong>: 1.0.0<p><strong>Returns: </strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a>&#x3C;<code>void</code>><p>A promise indicating the success or failure of the operation.</section><section class="level3"aria-labelledby="onupdaterevent"><h3 id="onupdaterevent"><code>onUpdaterEvent</code></h3><blockquote><p><strong>onUpdaterEvent</strong>(<code>handler</code>: <code>fn</code>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a>&#x3C;<a href="event.md#unlistenfn"><code>UnlistenFn</code></a>></blockquote><p>Listen to an updater event.<p><strong>Example</strong><pre class="language-typescript"><code class="language-typescript"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> onUpdaterEvent <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token decorator"><span class="token at operator">@</span><span class="token function">tauri</span></span><span class="token operator">-</span>apps<span class="token operator">/</span>api<span class="token operator">/</span>updater<span class="token punctuation">;</span>
<span class="token keyword">const</span> unlisten <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token function">onUpdaterEvent</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> error<span class="token punctuation">,</span> status <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
 <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'Updater event'</span><span class="token punctuation">,</span> error<span class="token punctuation">,</span> status<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// you need to call unlisten if your handler goes out of scope e.g. the component is unmounted</span>
<span class="token function">unlisten</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>Since</strong>: 1.0.2<p><strong>Parameters</strong><table><thead><tr><th align="left">Name<th align="left">Type<tbody><tr><td align="left"><code>handler</code><td align="left">(<code>status</code>: <a href="updater.md#updatestatusresult"><code>UpdateStatusResult</code></a>) => <code>void</code></table><p><strong>Returns: </strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a>&#x3C;<a href="event.md#unlistenfn"><code>UnlistenFn</code></a>><p>A promise resolving to a function to unlisten to the event. Note that removing the listener is required if your listener goes out of scope e.g. the component is unmounted.<p><span style="float:footnote"><a href="../../index.html#toc">Go to TOC</a></span></section></section></section>