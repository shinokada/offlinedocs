<!doctype html><html lang="en"><meta charset="utf-8"><title>shell</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"href="../../../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="shell"><h1 id="shell">shell</h1><p>Access the system shell. Allows you to spawn child processes and manage files and URLs using their default application.<p>This package is also accessible with <code>window.__TAURI__.shell</code> when <a href="https://tauri.app/v1/api/config/#buildconfig.withglobaltauri"><code>build.withGlobalTauri</code></a> in <code>tauri.conf.json</code> is set to <code>true</code>.<p>The APIs must be added to <a href="https://tauri.app/v1/api/config/#allowlistconfig.shell"><code>tauri.allowlist.shell</code></a> in <code>tauri.conf.json</code>:<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  tauri<span class="token operator">:</span> <span class="token punctuation">{</span>
    allowlist<span class="token operator">:</span> <span class="token punctuation">{</span>
      shell<span class="token operator">:</span> <span class="token punctuation">{</span>
        all<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// enable all shell APIs</span>
        execute<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// enable process spawn APIs</span>
        sidecar<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// enable spawning sidecars</span>
        open<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// enable opening files/URLs using the default program</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p>It is recommended to allowlist only the APIs you use for optimal bundle size and security.<section class="level2"aria-labelledby="security"><h2 id="security">Security</h2><p>This API has a scope configuration that forces you to restrict the programs and arguments that can be used.<section class="level3"aria-labelledby="restricting-access-to-the-open-api"><h3 id="restricting-access-to-the-open-api">Restricting access to the <a href="shell.md#open"><code>open</code></a> API</h3><p>On the allowlist, <code>open: true</code> means that the <a href="shell.md#open">open</a> API can be used with any URL, as the argument is validated with the <code>^((mailto:\w+)|(tel:\w+)|(https?://\w+)).+</code> regex. You can change that regex by changing the boolean value to a string, e.g. <code>open: ^https://github.com/</code>.</section><section class="level3"aria-labelledby="restricting-access-to-the-command-apis"><h3 id="restricting-access-to-the-command-apis">Restricting access to the <a href="shell.md#command"><code>Command</code></a> APIs</h3><p>The <code>shell</code> allowlist object has a <code>scope</code> field that defines an array of CLIs that can be used. Each CLI is a configuration object <code>{ name: string, cmd: string, sidecar?: bool, args?: boolean | Arg[] }</code>.<ul><li><code>name</code>: the unique identifier of the command, passed to the <a href="shell.md#constructor">Command constructor</a>. If it's a sidecar, this must be the value defined on <code>tauri.conf.json > tauri > bundle > externalBin</code>.<li><code>cmd</code>: the program that is executed on this configuration. If it's a sidecar, this value is ignored.<li><code>sidecar</code>: whether the object configures a sidecar or a system program.<li><code>args</code>: the arguments that can be passed to the program. By default no arguments are allowed.<ul><li><code>true</code> means that any argument list is allowed.<li><code>false</code> means that no arguments are allowed.<li>otherwise an array can be configured. Each item is either a string representing the fixed argument value or a <code>{ validator: string }</code> that defines a regex validating the argument value.</ul></ul><section class="level4"aria-labelledby="example-scope-configuration"><h4 id="example-scope-configuration">Example scope configuration</h4><p>CLI: <code>git commit -m the commit message</code><p>Configuration:<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  scope<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      name<span class="token operator">:</span> run-git-commit<span class="token punctuation">,</span>
      cmd<span class="token operator">:</span> git<span class="token punctuation">,</span>
      args<span class="token operator">:</span> <span class="token punctuation">[</span>commit<span class="token punctuation">,</span> -m<span class="token punctuation">,</span> <span class="token punctuation">{</span> validator<span class="token operator">:</span> \\S+ <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre><p>Usage:<pre class="language-typescript"><code class="language-typescript"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Command</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@tauri-apps/api/shell'</span>
<span class="token keyword">new</span> <span class="token class-name"><span class="token maybe-class-name">Command</span></span><span class="token punctuation">(</span><span class="token string">'run-git-commit'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'commit'</span><span class="token punctuation">,</span> <span class="token string">'-m'</span><span class="token punctuation">,</span> <span class="token string">'the commit message'</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>Trying to execute any API with a program not configured on the scope results in a promise rejection due to denied access.</section></section></section><section class="level2"aria-labelledby="classes"><h2 id="classes">Classes</h2><section class="level3"aria-labelledby="child"><h3 id="child"><code>Child</code></h3><p><strong>Since</strong>: 1.1.0<section class="level4"aria-labelledby="constructors"><h4 id="constructors">Constructors</h4><section class="level5"aria-labelledby="constructor"><h5 id="constructor"><code>constructor</code></h5><blockquote><p><strong>new Child</strong>(<code>pid</code>: <code>number</code>): <a href="shell.md#child"><code>Child</code></a></blockquote><p><strong>Parameters</strong><table><thead><tr><th align="left">Name<th align="left">Type<tbody><tr><td align="left"><code>pid</code><td align="left"><code>number</code></table><p><strong>Defined in:</strong> <a href="https://github.com/tauri-apps/tauri/blob/73a0ad4/tooling/api/src/shell.ts#L325">shell.ts:325</a></section></section><section class="level4"aria-labelledby="properties"><h4 id="properties">Properties</h4><section class="level5"aria-labelledby="pid"><h5 id="pid"><code>pid</code></h5><blockquote><p><strong>pid</strong>: <code>number</code></blockquote><p>The child process <code>pid</code>.<p><strong>Defined in:</strong> <a href="https://github.com/tauri-apps/tauri/blob/73a0ad4/tooling/api/src/shell.ts#L323">shell.ts:323</a></section></section><section class="level4"aria-labelledby="methods"><h4 id="methods">Methods</h4><section class="level5"aria-labelledby="kill"><h5 id="kill"><code>kill</code></h5><blockquote><p><strong>kill</strong>(): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a>&#x3C;<code>void</code>></blockquote><p>Kills the child process.<p><strong>Returns: </strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a>&#x3C;<code>void</code>><p>A promise indicating the success or failure of the operation.</section><section class="level5"aria-labelledby="write"><h5 id="write"><code>write</code></h5><blockquote><p><strong>write</strong>(<code>data</code>: <code>string</code> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array"><code>Uint8Array</code></a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a>&#x3C;<code>void</code>></blockquote><p>Writes <code>data</code> to the <code>stdin</code>.<p><strong>Example</strong><pre class="language-typescript"><code class="language-typescript"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Command</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@tauri-apps/api/shell'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> command <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token maybe-class-name">Command</span></span><span class="token punctuation">(</span><span class="token string">'node'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> child <span class="token operator">=</span> <span class="token keyword control-flow">await</span> command<span class="token punctuation">.</span><span class="token method function property-access">spawn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword control-flow">await</span> child<span class="token punctuation">.</span><span class="token method function property-access">write</span><span class="token punctuation">(</span><span class="token string">'message'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword control-flow">await</span> child<span class="token punctuation">.</span><span class="token method function property-access">write</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>Parameters</strong><table><thead><tr><th align="left">Name<th align="left">Type<th align="left">Description<tbody><tr><td align="left"><code>data</code><td align="left"><code>string</code> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array"><code>Uint8Array</code></a><td align="left">The message to write, either a string or a byte array.</table><p><strong>Returns: </strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a>&#x3C;<code>void</code>><p>A promise indicating the success or failure of the operation.</section></section></section><section class="level3"aria-labelledby="command"><h3 id="command"><code>Command</code></h3><p>The entry point for spawning child processes. It emits the <code>close</code> and <code>error</code> events.<p><strong>Example</strong><pre class="language-typescript"><code class="language-typescript"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Command</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@tauri-apps/api/shell'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> command <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token maybe-class-name">Command</span></span><span class="token punctuation">(</span><span class="token string">'node'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
command<span class="token punctuation">.</span><span class="token method function property-access">on</span><span class="token punctuation">(</span><span class="token string">'close'</span><span class="token punctuation">,</span> data <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">command finished with code </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>data<span class="token punctuation">.</span><span class="token property-access">code</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> and signal </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>data<span class="token punctuation">.</span><span class="token property-access">signal</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
command<span class="token punctuation">.</span><span class="token method function property-access">on</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> error <span class="token arrow operator">=></span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">command error: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>error<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
command<span class="token punctuation">.</span><span class="token property-access">stdout</span><span class="token punctuation">.</span><span class="token method function property-access">on</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">,</span> line <span class="token arrow operator">=></span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">command stdout: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>line<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
command<span class="token punctuation">.</span><span class="token property-access">stderr</span><span class="token punctuation">.</span><span class="token method function property-access">on</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">,</span> line <span class="token arrow operator">=></span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">command stderr: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>line<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> child <span class="token operator">=</span> <span class="token keyword control-flow">await</span> command<span class="token punctuation">.</span><span class="token method function property-access">spawn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'pid:'</span><span class="token punctuation">,</span> child<span class="token punctuation">.</span><span class="token property-access">pid</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>Since</strong>: 1.1.0<p><strong>Hierarchy</strong><ul><li><a href="shell.md#eventemitter"><code>EventEmitter</code></a>&#x3C;<code>close</code> | <code>error</code>><ul><li><strong>Command</strong></ul></ul><section class="level4"aria-labelledby="constructors-1"><h4 id="constructors-1">Constructors</h4><section class="level5"aria-labelledby="constructor-1"><h5 id="constructor-1"><code>constructor</code></h5><blockquote><p><strong>new Command</strong>(<code>program</code>: <code>string</code>, <code>args?</code>: <code>string</code> | <code>string</code>[], <code>options?</code>: <a href="shell.md#spawnoptions"><code>SpawnOptions</code></a>): <a href="shell.md#command"><code>Command</code></a></blockquote><p>Creates a new <code>Command</code> instance.<p><strong>Parameters</strong><table><thead><tr><th align="left">Name<th align="left">Type<th align="left">Default value<th align="left">Description<tbody><tr><td align="left"><code>program</code><td align="left"><code>string</code><td align="left"><code>undefined</code><td align="left">The program name to execute.<br>It must be configured on <code>tauri.conf.json > tauri > allowlist > shell > scope</code>.<tr><td align="left"><code>args</code><td align="left"><code>string</code> | <code>string</code>[]<td align="left"><code>[]</code><td align="left">Program arguments.<tr><td align="left"><code>options?</code><td align="left"><a href="shell.md#spawnoptions"><code>SpawnOptions</code></a><td align="left"><code>undefined</code><td align="left">Spawn options.</table><p><strong>Overrides:</strong> <a href="shell.md#eventemitter">EventEmitter</a>.<a href="shell.md#constructor">constructor</a><p><strong>Defined in:</strong> <a href="https://github.com/tauri-apps/tauri/blob/73a0ad4/tooling/api/src/shell.ts#L413">shell.ts:413</a></section></section><section class="level4"aria-labelledby="properties-1"><h4 id="properties-1">Properties</h4><section class="level5"aria-labelledby="stderr"><h5 id="stderr"><code>stderr</code></h5><blockquote><p><code>Readonly</code> <strong>stderr</strong>: <a href="shell.md#eventemitter"><code>EventEmitter</code></a>&#x3C;<code>data</code>></blockquote><p>Event emitter for the <code>stderr</code>. Emits the <code>data</code> event.<p><strong>Defined in:</strong> <a href="https://github.com/tauri-apps/tauri/blob/73a0ad4/tooling/api/src/shell.ts#L403">shell.ts:403</a></section><section class="level5"aria-labelledby="stdout"><h5 id="stdout"><code>stdout</code></h5><blockquote><p><code>Readonly</code> <strong>stdout</strong>: <a href="shell.md#eventemitter"><code>EventEmitter</code></a>&#x3C;<code>data</code>></blockquote><p>Event emitter for the <code>stdout</code>. Emits the <code>data</code> event.<p><strong>Defined in:</strong> <a href="https://github.com/tauri-apps/tauri/blob/73a0ad4/tooling/api/src/shell.ts#L401">shell.ts:401</a></section></section><section class="level4"aria-labelledby="methods-1"><h4 id="methods-1">Methods</h4><section class="level5"aria-labelledby="addlistener"><h5 id="addlistener"><code>addListener</code></h5><blockquote><p><strong>addListener</strong>(<code>eventName</code>: <code>error</code> | <code>close</code>, <code>listener</code>: <code>fn</code>): <a href="shell.md#command"><code>Command</code></a></blockquote><p>Alias for <code>emitter.on(eventName, listener)</code>.<p><strong>Since</strong>: 1.1.0<p><strong>Parameters</strong><table><thead><tr><th align="left">Name<th align="left">Type<tbody><tr><td align="left"><code>eventName</code><td align="left"><code>error</code> | <code>close</code><tr><td align="left"><code>listener</code><td align="left">(...<code>args</code>: <code>any</code>[]) => <code>void</code></table><p><strong>Returns: </strong><a href="shell.md#command"><code>Command</code></a></section><section class="level5"aria-labelledby="execute"><h5 id="execute"><code>execute</code></h5><blockquote><p><strong>execute</strong>(): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a>&#x3C;<a href="shell.md#childprocess"><code>ChildProcess</code></a>></blockquote><p>Executes the command as a child process, waiting for it to finish and collecting all of its output.<p><strong>Example</strong><pre class="language-typescript"><code class="language-typescript"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Command</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@tauri-apps/api/shell'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> output <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token maybe-class-name">Command</span></span><span class="token punctuation">(</span><span class="token string">'echo'</span><span class="token punctuation">,</span> <span class="token string">'message'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">assert</span><span class="token punctuation">(</span>output<span class="token punctuation">.</span><span class="token property-access">code</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">assert</span><span class="token punctuation">(</span>output<span class="token punctuation">.</span><span class="token property-access">signal</span> <span class="token operator">===</span> <span class="token keyword null nil">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">assert</span><span class="token punctuation">(</span>output<span class="token punctuation">.</span><span class="token property-access">stdout</span> <span class="token operator">===</span> <span class="token string">'message'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">assert</span><span class="token punctuation">(</span>output<span class="token punctuation">.</span><span class="token property-access">stderr</span> <span class="token operator">===</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>Returns: </strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a>&#x3C;<a href="shell.md#childprocess"><code>ChildProcess</code></a>><p>A promise resolving to the child process output.</section><section class="level5"aria-labelledby="listenercount"><h5 id="listenercount"><code>listenerCount</code></h5><blockquote><p><strong>listenerCount</strong>(<code>eventName</code>: <code>error</code> | <code>close</code>): <code>number</code></blockquote><p>Returns the number of listeners listening to the event named <code>eventName</code>.<p><strong>Since</strong>: 1.1.0<p><strong>Parameters</strong><table><thead><tr><th align="left">Name<th align="left">Type<tbody><tr><td align="left"><code>eventName</code><td align="left"><code>error</code> | <code>close</code></table><p><strong>Returns: </strong><code>number</code></section><section class="level5"aria-labelledby="off"><h5 id="off"><code>off</code></h5><blockquote><p><strong>off</strong>(<code>eventName</code>: <code>error</code> | <code>close</code>, <code>listener</code>: <code>fn</code>): <a href="shell.md#command"><code>Command</code></a></blockquote><p>Removes the all specified listener from the listener array for the event eventName Returns a reference to the <code>EventEmitter</code>, so that calls can be chained.<p><strong>Since</strong>: 1.1.0<p><strong>Parameters</strong><table><thead><tr><th align="left">Name<th align="left">Type<tbody><tr><td align="left"><code>eventName</code><td align="left"><code>error</code> | <code>close</code><tr><td align="left"><code>listener</code><td align="left">(...<code>args</code>: <code>any</code>[]) => <code>void</code></table><p><strong>Returns: </strong><a href="shell.md#command"><code>Command</code></a></section><section class="level5"aria-labelledby="on"><h5 id="on"><code>on</code></h5><blockquote><p><strong>on</strong>(<code>eventName</code>: <code>error</code> | <code>close</code>, <code>listener</code>: <code>fn</code>): <a href="shell.md#command"><code>Command</code></a></blockquote><p>Adds the <code>listener</code> function to the end of the listeners array for the event named <code>eventName</code>. No checks are made to see if the <code>listener</code> has already been added. Multiple calls passing the same combination of <code>eventName</code>and <code>listener</code> will result in the <code>listener</code> being added, and called, multiple times.<p>Returns a reference to the <code>EventEmitter</code>, so that calls can be chained.<p><strong>Since</strong>: 1.0.0<p><strong>Parameters</strong><table><thead><tr><th align="left">Name<th align="left">Type<tbody><tr><td align="left"><code>eventName</code><td align="left"><code>error</code> | <code>close</code><tr><td align="left"><code>listener</code><td align="left">(...<code>args</code>: <code>any</code>[]) => <code>void</code></table><p><strong>Returns: </strong><a href="shell.md#command"><code>Command</code></a></section><section class="level5"aria-labelledby="once"><h5 id="once"><code>once</code></h5><blockquote><p><strong>once</strong>(<code>eventName</code>: <code>error</code> | <code>close</code>, <code>listener</code>: <code>fn</code>): <a href="shell.md#command"><code>Command</code></a></blockquote><p>Adds a <strong>one-time</strong><code>listener</code> function for the event named <code>eventName</code>. The next time <code>eventName</code> is triggered, this listener is removed and then invoked.<p>Returns a reference to the <code>EventEmitter</code>, so that calls can be chained.<p><strong>Since</strong>: 1.1.0<p><strong>Parameters</strong><table><thead><tr><th align="left">Name<th align="left">Type<tbody><tr><td align="left"><code>eventName</code><td align="left"><code>error</code> | <code>close</code><tr><td align="left"><code>listener</code><td align="left">(...<code>args</code>: <code>any</code>[]) => <code>void</code></table><p><strong>Returns: </strong><a href="shell.md#command"><code>Command</code></a></section><section class="level5"aria-labelledby="prependlistener"><h5 id="prependlistener"><code>prependListener</code></h5><blockquote><p><strong>prependListener</strong>(<code>eventName</code>: <code>error</code> | <code>close</code>, <code>listener</code>: <code>fn</code>): <a href="shell.md#command"><code>Command</code></a></blockquote><p>Adds the <code>listener</code> function to the <em>beginning</em> of the listeners array for the event named <code>eventName</code>. No checks are made to see if the <code>listener</code> has already been added. Multiple calls passing the same combination of <code>eventName</code>and <code>listener</code> will result in the <code>listener</code> being added, and called, multiple times.<p>Returns a reference to the <code>EventEmitter</code>, so that calls can be chained.<p><strong>Since</strong>: 1.1.0<p><strong>Parameters</strong><table><thead><tr><th align="left">Name<th align="left">Type<tbody><tr><td align="left"><code>eventName</code><td align="left"><code>error</code> | <code>close</code><tr><td align="left"><code>listener</code><td align="left">(...<code>args</code>: <code>any</code>[]) => <code>void</code></table><p><strong>Returns: </strong><a href="shell.md#command"><code>Command</code></a></section><section class="level5"aria-labelledby="prependoncelistener"><h5 id="prependoncelistener"><code>prependOnceListener</code></h5><blockquote><p><strong>prependOnceListener</strong>(<code>eventName</code>: <code>error</code> | <code>close</code>, <code>listener</code>: <code>fn</code>): <a href="shell.md#command"><code>Command</code></a></blockquote><p>Adds a <strong>one-time</strong><code>listener</code> function for the event named <code>eventName</code> to the<em>beginning</em> of the listeners array. The next time <code>eventName</code> is triggered, this listener is removed, and then invoked.<p>Returns a reference to the <code>EventEmitter</code>, so that calls can be chained.<p><strong>Since</strong>: 1.1.0<p><strong>Parameters</strong><table><thead><tr><th align="left">Name<th align="left">Type<tbody><tr><td align="left"><code>eventName</code><td align="left"><code>error</code> | <code>close</code><tr><td align="left"><code>listener</code><td align="left">(...<code>args</code>: <code>any</code>[]) => <code>void</code></table><p><strong>Returns: </strong><a href="shell.md#command"><code>Command</code></a></section><section class="level5"aria-labelledby="removealllisteners"><h5 id="removealllisteners"><code>removeAllListeners</code></h5><blockquote><p><strong>removeAllListeners</strong>(<code>event?</code>: <code>error</code> | <code>close</code>): <a href="shell.md#command"><code>Command</code></a></blockquote><p>Removes all listeners, or those of the specified eventName.<p>Returns a reference to the <code>EventEmitter</code>, so that calls can be chained.<p><strong>Since</strong>: 1.1.0<p><strong>Parameters</strong><table><thead><tr><th align="left">Name<th align="left">Type<tbody><tr><td align="left"><code>event?</code><td align="left"><code>error</code> | <code>close</code></table><p><strong>Returns: </strong><a href="shell.md#command"><code>Command</code></a></section><section class="level5"aria-labelledby="removelistener"><h5 id="removelistener"><code>removeListener</code></h5><blockquote><p><strong>removeListener</strong>(<code>eventName</code>: <code>error</code> | <code>close</code>, <code>listener</code>: <code>fn</code>): <a href="shell.md#command"><code>Command</code></a></blockquote><p>Alias for <code>emitter.off(eventName, listener)</code>.<p><strong>Since</strong>: 1.1.0<p><strong>Parameters</strong><table><thead><tr><th align="left">Name<th align="left">Type<tbody><tr><td align="left"><code>eventName</code><td align="left"><code>error</code> | <code>close</code><tr><td align="left"><code>listener</code><td align="left">(...<code>args</code>: <code>any</code>[]) => <code>void</code></table><p><strong>Returns: </strong><a href="shell.md#command"><code>Command</code></a></section><section class="level5"aria-labelledby="spawn"><h5 id="spawn"><code>spawn</code></h5><blockquote><p><strong>spawn</strong>(): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a>&#x3C;<a href="shell.md#child"><code>Child</code></a>></blockquote><p>Executes the command as a child process, returning a handle to it.<p><strong>Returns: </strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a>&#x3C;<a href="shell.md#child"><code>Child</code></a>><p>A promise resolving to the child process handle.</section><section class="level5"aria-labelledby="sidecar"><h5 id="sidecar"><code>sidecar</code></h5><blockquote><p><code>Static</code> <strong>sidecar</strong>(<code>program</code>: <code>string</code>, <code>args?</code>: <code>string</code> | <code>string</code>[], <code>options?</code>: <a href="shell.md#spawnoptions"><code>SpawnOptions</code></a>): <a href="shell.md#command"><code>Command</code></a></blockquote><p>Creates a command to execute the given sidecar program.<p><strong>Example</strong><pre class="language-typescript"><code class="language-typescript"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Command</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@tauri-apps/api/shell'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> command <span class="token operator">=</span> <span class="token maybe-class-name">Command</span><span class="token punctuation">.</span><span class="token method function property-access">sidecar</span><span class="token punctuation">(</span><span class="token string">'my-sidecar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> output <span class="token operator">=</span> <span class="token keyword control-flow">await</span> command<span class="token punctuation">.</span><span class="token method function property-access">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>Parameters</strong><table><thead><tr><th align="left">Name<th align="left">Type<th align="left">Default value<th align="left">Description<tbody><tr><td align="left"><code>program</code><td align="left"><code>string</code><td align="left"><code>undefined</code><td align="left">The program to execute.<br>It must be configured on <code>tauri.conf.json > tauri > allowlist > shell > scope</code>.<tr><td align="left"><code>args</code><td align="left"><code>string</code> | <code>string</code>[]<td align="left"><code>[]</code><td align="left">-<tr><td align="left"><code>options?</code><td align="left"><a href="shell.md#spawnoptions"><code>SpawnOptions</code></a><td align="left"><code>undefined</code><td align="left">-</table><p><strong>Returns: </strong><a href="shell.md#command"><code>Command</code></a></section></section></section><section class="level3"aria-labelledby="eventemittere"><h3 id="eventemittere"><code>EventEmitter&#x3C;E></code></h3><p><strong>Since</strong>: 1.0.0<p><strong>Type parameters</strong><ul><li><code>E</code> <em>extends</em> <code>string</code></ul><p><strong>Hierarchy</strong><ul><li><strong>EventEmitter</strong><ul><li><a href="shell.md#command"><code>Command</code></a></ul></ul><section class="level4"aria-labelledby="constructors-2"><h4 id="constructors-2">Constructors</h4><section class="level5"aria-labelledby="constructor-2"><h5 id="constructor-2"><code>constructor</code></h5><blockquote><p><strong>new EventEmitter</strong>&#x3C;<code>E</code>>(): <a href="shell.md#eventemitter"><code>EventEmitter</code></a>&#x3C;<code>E</code>></blockquote><p><strong>Type parameters</strong><ul><li><code>E</code> <em>extends</em> <code>string</code></ul></section></section><section class="level4"aria-labelledby="methods-2"><h4 id="methods-2">Methods</h4><section class="level5"aria-labelledby="addlistener-1"><h5 id="addlistener-1"><code>addListener</code></h5><blockquote><p><strong>addListener</strong>(<code>eventName</code>: <code>E</code>, <code>listener</code>: <code>fn</code>): <a href="shell.md#eventemitter"><code>EventEmitter</code></a>&#x3C;<code>E</code>></blockquote><p>Alias for <code>emitter.on(eventName, listener)</code>.<p><strong>Since</strong>: 1.1.0<p><strong>Parameters</strong><table><thead><tr><th align="left">Name<th align="left">Type<tbody><tr><td align="left"><code>eventName</code><td align="left"><code>E</code><tr><td align="left"><code>listener</code><td align="left">(...<code>args</code>: <code>any</code>[]) => <code>void</code></table><p><strong>Returns: </strong><a href="shell.md#eventemitter"><code>EventEmitter</code></a>&#x3C;<code>E</code>></section><section class="level5"aria-labelledby="listenercount-1"><h5 id="listenercount-1"><code>listenerCount</code></h5><blockquote><p><strong>listenerCount</strong>(<code>eventName</code>: <code>E</code>): <code>number</code></blockquote><p>Returns the number of listeners listening to the event named <code>eventName</code>.<p><strong>Since</strong>: 1.1.0<p><strong>Parameters</strong><table><thead><tr><th align="left">Name<th align="left">Type<tbody><tr><td align="left"><code>eventName</code><td align="left"><code>E</code></table><p><strong>Returns: </strong><code>number</code></section><section class="level5"aria-labelledby="off-1"><h5 id="off-1"><code>off</code></h5><blockquote><p><strong>off</strong>(<code>eventName</code>: <code>E</code>, <code>listener</code>: <code>fn</code>): <a href="shell.md#eventemitter"><code>EventEmitter</code></a>&#x3C;<code>E</code>></blockquote><p>Removes the all specified listener from the listener array for the event eventName Returns a reference to the <code>EventEmitter</code>, so that calls can be chained.<p><strong>Since</strong>: 1.1.0<p><strong>Parameters</strong><table><thead><tr><th align="left">Name<th align="left">Type<tbody><tr><td align="left"><code>eventName</code><td align="left"><code>E</code><tr><td align="left"><code>listener</code><td align="left">(...<code>args</code>: <code>any</code>[]) => <code>void</code></table><p><strong>Returns: </strong><a href="shell.md#eventemitter"><code>EventEmitter</code></a>&#x3C;<code>E</code>></section><section class="level5"aria-labelledby="on-1"><h5 id="on-1"><code>on</code></h5><blockquote><p><strong>on</strong>(<code>eventName</code>: <code>E</code>, <code>listener</code>: <code>fn</code>): <a href="shell.md#eventemitter"><code>EventEmitter</code></a>&#x3C;<code>E</code>></blockquote><p>Adds the <code>listener</code> function to the end of the listeners array for the event named <code>eventName</code>. No checks are made to see if the <code>listener</code> has already been added. Multiple calls passing the same combination of <code>eventName</code>and <code>listener</code> will result in the <code>listener</code> being added, and called, multiple times.<p>Returns a reference to the <code>EventEmitter</code>, so that calls can be chained.<p><strong>Since</strong>: 1.0.0<p><strong>Parameters</strong><table><thead><tr><th align="left">Name<th align="left">Type<tbody><tr><td align="left"><code>eventName</code><td align="left"><code>E</code><tr><td align="left"><code>listener</code><td align="left">(...<code>args</code>: <code>any</code>[]) => <code>void</code></table><p><strong>Returns: </strong><a href="shell.md#eventemitter"><code>EventEmitter</code></a>&#x3C;<code>E</code>></section><section class="level5"aria-labelledby="once-1"><h5 id="once-1"><code>once</code></h5><blockquote><p><strong>once</strong>(<code>eventName</code>: <code>E</code>, <code>listener</code>: <code>fn</code>): <a href="shell.md#eventemitter"><code>EventEmitter</code></a>&#x3C;<code>E</code>></blockquote><p>Adds a <strong>one-time</strong><code>listener</code> function for the event named <code>eventName</code>. The next time <code>eventName</code> is triggered, this listener is removed and then invoked.<p>Returns a reference to the <code>EventEmitter</code>, so that calls can be chained.<p><strong>Since</strong>: 1.1.0<p><strong>Parameters</strong><table><thead><tr><th align="left">Name<th align="left">Type<tbody><tr><td align="left"><code>eventName</code><td align="left"><code>E</code><tr><td align="left"><code>listener</code><td align="left">(...<code>args</code>: <code>any</code>[]) => <code>void</code></table><p><strong>Returns: </strong><a href="shell.md#eventemitter"><code>EventEmitter</code></a>&#x3C;<code>E</code>></section><section class="level5"aria-labelledby="prependlistener-1"><h5 id="prependlistener-1"><code>prependListener</code></h5><blockquote><p><strong>prependListener</strong>(<code>eventName</code>: <code>E</code>, <code>listener</code>: <code>fn</code>): <a href="shell.md#eventemitter"><code>EventEmitter</code></a>&#x3C;<code>E</code>></blockquote><p>Adds the <code>listener</code> function to the <em>beginning</em> of the listeners array for the event named <code>eventName</code>. No checks are made to see if the <code>listener</code> has already been added. Multiple calls passing the same combination of <code>eventName</code>and <code>listener</code> will result in the <code>listener</code> being added, and called, multiple times.<p>Returns a reference to the <code>EventEmitter</code>, so that calls can be chained.<p><strong>Since</strong>: 1.1.0<p><strong>Parameters</strong><table><thead><tr><th align="left">Name<th align="left">Type<tbody><tr><td align="left"><code>eventName</code><td align="left"><code>E</code><tr><td align="left"><code>listener</code><td align="left">(...<code>args</code>: <code>any</code>[]) => <code>void</code></table><p><strong>Returns: </strong><a href="shell.md#eventemitter"><code>EventEmitter</code></a>&#x3C;<code>E</code>></section><section class="level5"aria-labelledby="prependoncelistener-1"><h5 id="prependoncelistener-1"><code>prependOnceListener</code></h5><blockquote><p><strong>prependOnceListener</strong>(<code>eventName</code>: <code>E</code>, <code>listener</code>: <code>fn</code>): <a href="shell.md#eventemitter"><code>EventEmitter</code></a>&#x3C;<code>E</code>></blockquote><p>Adds a <strong>one-time</strong><code>listener</code> function for the event named <code>eventName</code> to the<em>beginning</em> of the listeners array. The next time <code>eventName</code> is triggered, this listener is removed, and then invoked.<p>Returns a reference to the <code>EventEmitter</code>, so that calls can be chained.<p><strong>Since</strong>: 1.1.0<p><strong>Parameters</strong><table><thead><tr><th align="left">Name<th align="left">Type<tbody><tr><td align="left"><code>eventName</code><td align="left"><code>E</code><tr><td align="left"><code>listener</code><td align="left">(...<code>args</code>: <code>any</code>[]) => <code>void</code></table><p><strong>Returns: </strong><a href="shell.md#eventemitter"><code>EventEmitter</code></a>&#x3C;<code>E</code>></section><section class="level5"aria-labelledby="removealllisteners-1"><h5 id="removealllisteners-1"><code>removeAllListeners</code></h5><blockquote><p><strong>removeAllListeners</strong>(<code>event?</code>: <code>E</code>): <a href="shell.md#eventemitter"><code>EventEmitter</code></a>&#x3C;<code>E</code>></blockquote><p>Removes all listeners, or those of the specified eventName.<p>Returns a reference to the <code>EventEmitter</code>, so that calls can be chained.<p><strong>Since</strong>: 1.1.0<p><strong>Parameters</strong><table><thead><tr><th align="left">Name<th align="left">Type<tbody><tr><td align="left"><code>event?</code><td align="left"><code>E</code></table><p><strong>Returns: </strong><a href="shell.md#eventemitter"><code>EventEmitter</code></a>&#x3C;<code>E</code>></section><section class="level5"aria-labelledby="removelistener-1"><h5 id="removelistener-1"><code>removeListener</code></h5><blockquote><p><strong>removeListener</strong>(<code>eventName</code>: <code>E</code>, <code>listener</code>: <code>fn</code>): <a href="shell.md#eventemitter"><code>EventEmitter</code></a>&#x3C;<code>E</code>></blockquote><p>Alias for <code>emitter.off(eventName, listener)</code>.<p><strong>Since</strong>: 1.1.0<p><strong>Parameters</strong><table><thead><tr><th align="left">Name<th align="left">Type<tbody><tr><td align="left"><code>eventName</code><td align="left"><code>E</code><tr><td align="left"><code>listener</code><td align="left">(...<code>args</code>: <code>any</code>[]) => <code>void</code></table><p><strong>Returns: </strong><a href="shell.md#eventemitter"><code>EventEmitter</code></a>&#x3C;<code>E</code>></section></section></section></section><section class="level2"aria-labelledby="interfaces"><h2 id="interfaces">Interfaces</h2><section class="level3"aria-labelledby="childprocess"><h3 id="childprocess"><code>ChildProcess</code></h3><p><strong>Since</strong>: 1.0.0<section class="level4"aria-labelledby="properties-2"><h4 id="properties-2">Properties</h4><section class="level5"aria-labelledby="code"><h5 id="code"><code>code</code></h5><blockquote><p><strong>code</strong>: <code>null</code> | <code>number</code></blockquote><p>Exit code of the process. <code>null</code> if the process was terminated by a signal on Unix.<p><strong>Defined in:</strong> <a href="https://github.com/tauri-apps/tauri/blob/73a0ad4/tooling/api/src/shell.ts#L109">shell.ts:109</a></section><section class="level5"aria-labelledby="signal"><h5 id="signal"><code>signal</code></h5><blockquote><p><strong>signal</strong>: <code>null</code> | <code>number</code></blockquote><p>If the process was terminated by a signal, represents that signal.<p><strong>Defined in:</strong> <a href="https://github.com/tauri-apps/tauri/blob/73a0ad4/tooling/api/src/shell.ts#L111">shell.ts:111</a></section><section class="level5"aria-labelledby="stderr-1"><h5 id="stderr-1"><code>stderr</code></h5><blockquote><p><strong>stderr</strong>: <code>string</code></blockquote><p>The data that the process wrote to <code>stderr</code>.<p><strong>Defined in:</strong> <a href="https://github.com/tauri-apps/tauri/blob/73a0ad4/tooling/api/src/shell.ts#L115">shell.ts:115</a></section><section class="level5"aria-labelledby="stdout-1"><h5 id="stdout-1"><code>stdout</code></h5><blockquote><p><strong>stdout</strong>: <code>string</code></blockquote><p>The data that the process wrote to <code>stdout</code>.<p><strong>Defined in:</strong> <a href="https://github.com/tauri-apps/tauri/blob/73a0ad4/tooling/api/src/shell.ts#L113">shell.ts:113</a></section></section></section><section class="level3"aria-labelledby="spawnoptions"><h3 id="spawnoptions"><code>SpawnOptions</code></h3><p><strong>Since</strong>: 1.0.0<section class="level4"aria-labelledby="properties-3"><h4 id="properties-3">Properties</h4><section class="level5"aria-labelledby="cwd"><h5 id="cwd"><code>cwd</code></h5><blockquote><p><code>Optional</code> <strong>cwd</strong>: <code>string</code></blockquote><p>Current working directory.<p><strong>Defined in:</strong> <a href="https://github.com/tauri-apps/tauri/blob/73a0ad4/tooling/api/src/shell.ts#L88">shell.ts:88</a></section><section class="level5"aria-labelledby="encoding"><h5 id="encoding"><code>encoding</code></h5><blockquote><p><code>Optional</code> <strong>encoding</strong>: <code>string</code></blockquote><p>Character encoding for stdout/stderr<p><strong>Since</strong>: 1.1.0<p><strong>Defined in:</strong> <a href="https://github.com/tauri-apps/tauri/blob/73a0ad4/tooling/api/src/shell.ts#L96">shell.ts:96</a></section><section class="level5"aria-labelledby="env"><h5 id="env"><code>env</code></h5><blockquote><p><code>Optional</code> <strong>env</strong>: <a href="https://www.typescriptlang.org/docs/handbook/utility-types.html#recordkeys-type"><code>Record</code></a>&#x3C;<code>string</code>, <code>string</code>></blockquote><p>Environment variables. set to <code>null</code> to clear the process env.<p><strong>Defined in:</strong> <a href="https://github.com/tauri-apps/tauri/blob/73a0ad4/tooling/api/src/shell.ts#L90">shell.ts:90</a></section></section></section></section><section class="level2"aria-labelledby="functions"><h2 id="functions">Functions</h2><section class="level3"aria-labelledby="open"><h3 id="open"><code>open</code></h3><blockquote><p><strong>open</strong>(<code>path</code>: <code>string</code>, <code>openWith?</code>: <code>string</code>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a>&#x3C;<code>void</code>></blockquote><p>Opens a path or URL with the system's default app, or the one specified with <code>openWith</code>.<p>The <code>openWith</code> value must be one of <code>firefox</code>, <code>google chrome</code>, <code>chromium</code> <code>safari</code>, <code>open</code>, <code>start</code>, <code>xdg-open</code>, <code>gio</code>, <code>gnome-open</code>, <code>kde-open</code> or <code>wslview</code>.<p><strong>Example</strong><pre class="language-typescript"><code class="language-typescript"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> open <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@tauri-apps/api/shell'</span><span class="token punctuation">;</span>
<span class="token comment">// opens the given URL on the default browser:</span>
<span class="token keyword control-flow">await</span> <span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'https://github.com/tauri-apps/tauri'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// opens the given URL using `firefox`:</span>
<span class="token keyword control-flow">await</span> <span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'https://github.com/tauri-apps/tauri'</span><span class="token punctuation">,</span> <span class="token string">'firefox'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// opens a file using the default program:</span>
<span class="token keyword control-flow">await</span> <span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'/path/to/file'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>Since</strong>: 1.0.0<p><strong>Parameters</strong><table><thead><tr><th align="left">Name<th align="left">Type<th align="left">Description<tbody><tr><td align="left"><code>path</code><td align="left"><code>string</code><td align="left">The path or URL to open.<br>This value is matched against the string regex defined on <code>tauri.conf.json > tauri > allowlist > shell > open</code>,<br>which defaults to <code>^((mailto:\w+)\|(tel:\w+)\|(https?://\w+)).+</code>.<tr><td align="left"><code>openWith?</code><td align="left"><code>string</code><td align="left">The app to open the file or URL with.<br>Defaults to the system default application for the specified path type.</table><p><strong>Returns: </strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a>&#x3C;<code>void</code>> <span style="float:footnote"><a href="../../index.html#toc">Go to TOC</a></span></section></section></section>