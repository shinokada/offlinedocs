<!doctype html><html lang="cn"><meta charset="utf-8"><title>动画指南</title><meta name="viewport"content="width=device-width,initial-scale=1"><meta name="outline"content="deep"><link rel="stylesheet"type="text/css"href="../../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="动画指南"><h1 id="动画指南">动画指南</h1><p>动画是幻灯片演示的重要组成部分。Slidev 提供了从简单到复杂的各种幻灯片动画制作方法。本指南将告诉你如何有效地使用它们。<section class="level2"aria-labelledby="click-animation"><h2 id="click-animation">点击动画</h2><p>此处我们用 “<strong>点击</strong>” 一词来代表幻灯片中的一步动画。一张幻灯片可以有一个或多个点击，每个点击可以触发一个或多个动画 - 例如，显示或隐藏元素。可以通过按下 <kbd>space</kbd> 键或 <kbd>→</kbd> 键来触发一步点击动画。<blockquote><p>[!NOTE] 自 v0.48.0 版起，我们重写了点击动画系统，使其行为更加一致。在一些情况下，它可能会改变现有幻灯片的行为。本页展示的是新的点击系统，您可以在 <a href="https://github.com/slidevjs/slidev/pull/1279">#1279</a> 中找到有关该重写的更多细节。</blockquote><section class="level3"aria-labelledby="v-click-v-click"><h3 id="v-click-v-click"><code>v-click</code> {#v-click}</h3><p>可以使用 <code>&#x3C;v-click></code> 组件或 <code>v-click</code> 指令来为元素应用简单的显示/隐藏动画。<pre class="language-md"><code class="language-md"><span class="token comment">&#x3C;!-- 组件用法:
     以下内容在第一步动画后才可见 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-click</span><span class="token punctuation">></span></span> Hello World! <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-click</span><span class="token punctuation">></span></span>

<span class="token comment">&#x3C;!-- 指令用法:
     以下内容在第二步动画后才可见 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">v-click</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-xl<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> Hey! <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span></code></pre></section><section class="level3"aria-labelledby="v-after-v-after"><h3 id="v-after-v-after"><code>v-after</code> {#v-after}</h3><p><code>v-after</code> 用于在前一个 <code>v-click</code> 触发时显示元素。下例中，在一步动画后，<code>Hello</code> 和 <code>World</code> 将同时出现。<pre class="language-md"><code class="language-md"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">v-click</span><span class="token punctuation">></span></span> Hello <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">v-after</span><span class="token punctuation">></span></span> World <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>  <span class="token comment">&#x3C;!-- 或 &#x3C;v-after> World &#x3C;/v-after> --></span></code></pre></section><section class="level3"aria-labelledby="hide-after-clicking"><h3 id="hide-after-clicking">点击后隐藏</h3><p>指令用法下，可以使用 <code>.hide</code> 修饰符来隐藏元素：<pre class="language-md"><code class="language-md"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">v-click</span><span class="token punctuation">></span></span> 一步动画后可见 <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">v-click.hide</span><span class="token punctuation">></span></span> 两步动画后隐藏 <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">v-after.hide</span><span class="token punctuation">></span></span> 两步动画后隐藏 <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span></code></pre><p>组件用法下，可以使用 <code>hide</code> prop 来隐藏元素：<pre class="language-md"><code class="language-md"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-click</span><span class="token punctuation">></span></span> 一步动画后可见 <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-click</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-click</span> <span class="token attr-name">hide</span><span class="token punctuation">></span></span> 两步动画后隐藏 <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-click</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-after</span> <span class="token attr-name">hide</span><span class="token punctuation">></span></span> 两步动画后隐藏 <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-after</span><span class="token punctuation">></span></span></code></pre></section><section class="level3"aria-labelledby="v-clicks-v-clicks"><h3 id="v-clicks-v-clicks"><code>v-clicks</code> {#v-clicks}</h3><p><code>v-clicks</code> 只能作为组件使用。它是将 <code>v-click</code> 指令应用于其所有子元素的简写。在处理列表和表格时特别有用：<pre class="language-md"><code class="language-md"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-clicks</span><span class="token punctuation">></span></span>

<span class="token list punctuation">-</span> Item 1
<span class="token list punctuation">-</span> Item 2
<span class="token list punctuation">-</span> Item 3

<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-clicks</span><span class="token punctuation">></span></span></code></pre><p>每一步动画会依次显示列表中的元素。它还接受 <code>depth</code> prop 用于嵌套列表：<pre class="language-md"><code class="language-md"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-clicks</span> <span class="token attr-name">depth</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

<span class="token list punctuation">-</span> Item 1
  <span class="token list punctuation">-</span> Item 1.1
  <span class="token list punctuation">-</span> Item 1.2
<span class="token list punctuation">-</span> Item 2
  <span class="token list punctuation">-</span> Item 2.1
  <span class="token list punctuation">-</span> Item 2.2

<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-clicks</span><span class="token punctuation">></span></span></code></pre><p>另外，你可以使用 <code>every</code> prop 来指定每次点击后显示的项目数：<pre class="language-md"><code class="language-md"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-clicks</span> <span class="token attr-name">every</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

<span class="token list punctuation">-</span> Item 1.1
<span class="token list punctuation">-</span> Item 1.2
<span class="token list punctuation">-</span> Item 2.1
<span class="token list punctuation">-</span> Item 2.2

<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-clicks</span><span class="token punctuation">></span></span></code></pre></section><section class="level3"aria-labelledby="positioning"><h3 id="positioning">动画时机</h3><p>默认情况下，点击动画是依次触发的。你可以通过使用 <code>at</code> prop 或带有值的 <code>v-click</code> 指令来自定义的动画发生时机。<p>就像 CSS 布局系统一样，点击动画发生时机可以是 “相对的” (relative) 或 “绝对的” (absolute)：<section class="level4"aria-labelledby="relative-position"><h4 id="relative-position">相对的时机</h4><p>动画发生时机基于相对于前一个也是相对的时机的动画计算。若该动画是第一个相对时机的动画，则从 0 开始计算：<pre class="language-md"><code class="language-md"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">v-click</span><span class="token punctuation">></span></span> 1 步动画后显示 <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-click</span> <span class="token attr-name">at</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>+2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span><span class="token punctuation">></span></span> 3 步动画后显示 <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-click</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">v-click.hide</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>-1<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span> 2 步动画后隐藏 <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>

<span class="token code"><span class="token punctuation">```</span><span class="token code-language">js {none|1|2}{at:'+5'}</span>
<span class="token code-block language-js"><span class="token number">1</span>  <span class="token comment">// 第 7 步时高亮</span>
<span class="token number">2</span>  <span class="token comment">// 第 8 步时高亮</span></span>
<span class="token punctuation">```</span></span></code></pre><blockquote><p>[!NOTE] 当没有给 <code>v-click</code> 传入参数时，将使用默认值 <code>'+1'</code>，即动画发生在上一个动画的后一步。</blockquote><p>事实上，<code>v-after</code> 只是带有 <code>at="+0"</code> 的 <code>v-click</code> 的简写：<pre class="language-md"><code class="language-md"><span class="token comment">&#x3C;!-- 以下两种写法等价 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>img</span> <span class="token attr-name">v-after</span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>img</span> <span class="token attr-name">v-click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>+0<span class="token punctuation">'</span><span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>

<span class="token comment">&#x3C;!-- 以下三种写法等价 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>img</span> <span class="token attr-name">v-click</span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>img</span> <span class="token attr-name">v-click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>+1<span class="token punctuation">'</span><span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-click-gap</span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>img</span> <span class="token attr-name">v-after</span> <span class="token punctuation">/></span></span></code></pre><p>::: tip <code>at</code> prop 的格式<p>只有以 <code>'+'</code> 或 <code>'-'</code> 开头的字符串值，如 <code>'+1'</code>，才会被视为相对位置：<table><thead><tr><th>Value<th>Kind<tbody><tr><td><code>'-1'</code>, <code>'+1'</code><td>相对时机<tr><td><code>+1</code> === <code>1</code><td>绝对时机<tr><td><code>'1'</code><td>绝对时机</table><p>故不要忘记为相对值添加单引号。<p>:::</section><section class="level4"aria-labelledby="absolute-position"><h4 id="absolute-position">绝对时机</h4><p>传入的值就是触发动画所需的点击次数：<pre class="language-md"><code class="language-md"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">v-click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> 3 步动画后显示 <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-click</span> <span class="token attr-name">at</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span><span class="token punctuation">></span></span> 2 步动画后显示 <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-click</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">v-click.hide</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> 1 步动画后隐藏 <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>

<span class="token code"><span class="token punctuation">```</span><span class="token code-language">js {none|1|2}{at:3}</span>
<span class="token code-block language-js"><span class="token number">1</span>  <span class="token comment">// 3 步动画后高亮</span>
<span class="token number">2</span>  <span class="token comment">// 4 步动画后高亮</span></span>
<span class="token punctuation">```</span></span></code></pre></section><section class="level4"aria-labelledby="mixed-case"><h4 id="mixed-case">混合情况</h4><p>你可以混合地使用绝对和相对时机：<pre class="language-md"><code class="language-md"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">v-click</span><span class="token punctuation">></span></span> 1 步点击后显示 <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">v-click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> 3 步点击后显示 <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">v-click</span><span class="token punctuation">></span></span> 2 步点击后显示 <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">v-click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>-1<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span> 1 步点击后显示 <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">v-click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>4<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> 4 步点击后显示 <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span></code></pre><p>下例中，两个代码块的高亮是同步进行的：<pre class="language-md"><code class="language-md"><span class="token code"><span class="token punctuation">```</span><span class="token code-language">js {1|2}{at:1}</span>
<span class="token code-block language-js"><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">1</span>
<span class="token string">'a'</span> <span class="token operator">+</span> <span class="token string">'b'</span></span>
<span class="token punctuation">```</span></span>

<span class="token code"><span class="token punctuation">```</span><span class="token code-language">js {1|2}{at:1}</span>
<span class="token code-block language-js"><span class="token operator">=</span> <span class="token number">2</span>
<span class="token operator">=</span> <span class="token string">'ab'</span></span>
<span class="token punctuation">```</span></span></code></pre></section></section><section class="level3"aria-labelledby="enter-leave"><h3 id="enter-leave">显示后隐藏</h3><p>你还可以通过传递一个数组来为 <code>v-click</code> 指令指定显示的时机和隐藏的时机：<pre class="language-md"><code class="language-md"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">v-click.hide</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>[2, 4]<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  在第 2 和 3 步时动画显示，之后隐藏。
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">v-click</span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">v-click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>[+1, +1]<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  这将在第 3 步动画后显示，之后在第 4 步动画后隐藏。
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span></code></pre><p>你也可以使用 <code>v-switch</code> 组件来实现相同的效果：<pre class="language-md"><code class="language-md"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-switch</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>template</span> <span class="token attr-name">#1</span><span class="token punctuation">></span></span> 在第 1 步动画显示 <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>template</span> <span class="token attr-name">#2</span><span class="token punctuation">></span></span> 在第 2,3,4 步动画显示 <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>template</span> <span class="token attr-name">#5-7</span><span class="token punctuation">></span></span>  在第 5,6 步动画显示 <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-switch</span><span class="token punctuation">></span></span></code></pre><p>更多细节请查阅 <a href="builtin/components.html"><code>VSwitch</code> 组件</a></section><section class="level3"aria-labelledby="total"><h3 id="total">自定义步骤总数</h3><p>默认地，Slidev 会自动计算在下一张幻灯片之前需要多少次动画。你可以通过 frontmatter 中的 <code>clicks</code> 选项来覆盖这个值：<pre class="language-yaml"><code class="language-yaml"><span class="token punctuation">---</span>
<span class="token comment"># 10 步动画后进入下一张幻灯片</span>
<span class="token key atrule">clicks</span><span class="token punctuation">:</span> <span class="token number">10</span>
<span class="token punctuation">---</span></code></pre></section><section class="level3"aria-labelledby="element-transitions"><h3 id="element-transitions">过渡效果</h3><p>当 <code>v-click</code> 指令应用于元素时，元素会拥有 <code>slidev-vclick-target</code> 类名。当元素被隐藏时，还会附加类名 <code>slidev-vclick-hidden</code>。例如：<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>slidev-vclick-target slidev-vclick-hidden<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Text<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span></code></pre><p>点击一次后，它可能会变成：<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>slidev-vclick-target<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Text<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span></code></pre><p>默认地，以下样式会应用于这些类：<pre class="language-css"><code class="language-css"><span class="token selector"><span class="token class">.slidev-vclick-target</span></span> <span class="token punctuation">{</span>
  <span class="token property">transition</span><span class="token punctuation">:</span> opacity <span class="token number">100</span><span class="token unit">ms</span> ease<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.slidev-vclick-hidden</span></span> <span class="token punctuation">{</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token property">pointer-events</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>你可以在自定义样式表中覆盖它们，以自定义过渡效果。例如，你可以通过以下方式实现缩放效果：<pre class="language-css"><code class="language-css"><span class="token comment">/* styles.css */</span>

<span class="token selector"><span class="token class">.slidev-vclick-target</span></span> <span class="token punctuation">{</span>
  <span class="token property">transition</span><span class="token punctuation">:</span> all <span class="token number">500</span><span class="token unit">ms</span> ease<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.slidev-vclick-hidden</span></span> <span class="token punctuation">{</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>若要针对某几张幻灯片或布局指定动画：<pre class="language-scss"><code class="language-scss"><span class="token selector">.slidev-page-7,
.slidev-layout.my-custom-layout </span><span class="token punctuation">{</span>
  <span class="token selector">.slidev-vclick-target </span><span class="token punctuation">{</span>
    <span class="token property">transition</span><span class="token punctuation">:</span> all <span class="token number">500</span><span class="token unit">ms</span> ease<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.slidev-vclick-hidden </span><span class="token punctuation">{</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p>参阅 <a href="custom/directory-structure.html">自定义样式</a> 以了解更多。</section></section><section class="level2"aria-labelledby="motion"><h2 id="motion">Motion 动画</h2><p>Slidev 内置了 <a href="https://motion.vueuse.org/">@vueuse/motion</a>。你可以使用 <code>v-motion</code> 指令来赋予元素 Motion 动画：<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span>
  <span class="token attr-name">v-motion</span>
  <span class="token attr-name">:initial</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{ x: -80 }<span class="token punctuation">"</span></span>
  <span class="token attr-name">:enter</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{ x: 0 }<span class="token punctuation">"</span></span>
  <span class="token attr-name">:leave</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{ x: 80 }<span class="token punctuation">"</span></span>
<span class="token punctuation">></span></span>
  Slidev
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span></code></pre><p>上例中，当切换至这张幻灯片时，<code>Slidev</code> 几个字将从 <code>-80px</code> 移动到原始位置。当离开该幻灯片时，它将移动到 <code>80px</code>。<blockquote><p>在 v0.48.9 之前，你需要在幻灯片的 frontmatter 中添加 <code>preload: false</code> 来启用 motion。</blockquote><section class="level3"aria-labelledby="motion-with-clicks"><h3 id="motion-with-clicks">基于点击动画的 Motion</h3><blockquote><p>自 v0.48.9 后可用</blockquote><p>也可以通过点击动画来触发 Motion。例如：<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span>
  <span class="token attr-name">v-motion</span>
  <span class="token attr-name">:initial</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{ x: -80 }<span class="token punctuation">"</span></span>
  <span class="token attr-name">:enter</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{ x: 0, y: 0 }<span class="token punctuation">"</span></span>
  <span class="token attr-name">:click-1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{ x: 0, y: 30 }<span class="token punctuation">"</span></span>
  <span class="token attr-name">:click-2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{ y: 60 }<span class="token punctuation">"</span></span>
  <span class="token attr-name">:click-2-4</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{ x: 40 }<span class="token punctuation">"</span></span>
  <span class="token attr-name">:leave</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{ y: 0, x: 80 }<span class="token punctuation">"</span></span>
<span class="token punctuation">></span></span>
  Slidev
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span></code></pre><p>或者组合 <code>v-click</code> 和 <code>v-motion</code>：<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">v-click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>[2, 4]<span class="token punctuation">"</span></span> <span class="token attr-name">v-motion</span>
  <span class="token attr-name">:initial</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{ x: -50 }<span class="token punctuation">"</span></span>
  <span class="token attr-name">:enter</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{ x: 0 }<span class="token punctuation">"</span></span>
  <span class="token attr-name">:leave</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{ x: 50 }<span class="token punctuation">"</span></span>
<span class="token punctuation">></span></span>
  在第 2 步动画后显示，在第 4 步动画后隐藏。
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span></code></pre><p>字段的含义：<ul><li><code>initial</code>: 当 <code>currentPage &#x3C; thisPage</code> 或 <code>v-click</code> 因为 <code>$clicks</code> 太小而隐藏了该元素。<li><code>enter</code>: 当 <code>currentPage === thisPage</code> 且 <code>v-click</code> 显示元素时。<em>优先级：最低</em><li><code>click-x</code>: <code>x</code> 是一个表示 <strong>绝对</strong> 点击数的数字。如果 <code>$clicks >= x</code>，则变体将生效。<em>优先级：<code>x</code></em><li><code>click-x-y</code>: 如果 <code>x &#x3C;= $clicks &#x3C; y</code>，则变体将生效。<em>优先级：<code>x</code></em><li><code>leave</code>: <code>currentPage > thisPage</code>，或 <code>v-click</code> 隐藏当前元素，因为 <code>$clicks</code> 太大。</ul><p>字段的值将根据上述定义的优先级进行合并。<p>::: warning 由于 Vue 内部的 <a href="https://github.com/vuejs/core/issues/10295">bug</a>，目前 <strong>只有</strong> <code>v-click</code> 被作用于和 <code>v-motion</code> 相同的元素才能控制 Motion 动画。作为变通方案，你可以使用 <code>v-if="3 &#x3C; $clicks"</code> 来实现类似的效果。 :::<p>了解更多：<a href="https://sli.dev/demo/starter/10">Demo</a> | <a href="https://motion.vueuse.org/">@vueuse/motion</a> | <a href="https://motion.vueuse.org/features/directive-usage">v-motion</a> | <a href="https://motion.vueuse.org/features/presets">Presets</a></section></section><section class="level2"aria-labelledby="slide-transitions"><h2 id="slide-transitions">Slide Transitions</h2><div id="pages-transitions"><p>Slidev 内置了幻灯片过渡效果。你可以在 frontmatter 中设置 <code>transition</code> 来启用它：<pre class="language-md"><code class="language-md"><span class="token front-matter-block"><span class="token punctuation">---</span>
<span class="token front-matter yaml language-yaml">transition: slide-left</span>
<span class="token punctuation">---</span></span></code></pre><p>这将提供一个幻灯片切换时的滑动效果。在 headmatter 中设置将应用于所有幻灯片。你也可以在 frontmatter 中为每张幻灯片设置不同的过渡效果。<section class="level3"aria-labelledby="builtin-transitions"><h3 id="builtin-transitions">内置的过渡效果</h3><ul><li><code>fade</code> - 淡入淡出<li><code>fade-out</code> - 淡出再淡入<li><code>slide-left</code> - 向左滑动（向右滑动时后退）<li><code>slide-right</code> - 向右滑动（向左滑动时后退）<li><code>slide-up</code> - 向上滑动（向下滑动时后退）<li><code>slide-down</code> - 向下滑动（向上滑动时后退）<li><code>view-transition</code> - 使用 View Transitions API 过渡</ul></section><section class="level3"aria-labelledby="view-transitions"><h3 id="view-transitions">使用 View Transition API</h3><p>View Transitions API 提供了一种在不同 DOM 状态之间轻松创建动画过渡的机制。可以在 <a href="https://developer.mozilla.org/en-US/docs/Web/API/View_Transitions_API">View Transitions API - MDN Web Docs</a> 中了解更多。<p>:::warning 实验性：并非所有浏览器都支持。在使用前请查看 <a href="https://developer.mozilla.org/en-US/docs/Web/API/View_Transitions_API#browser_compatibility">浏览器兼容性表</a>。 :::<p>可以使用 <code>view-transition-name</code> CSS 属性来命名 view transitions，它会在切换幻灯片时创建不同页面元素之间的连接，并实现平滑的过渡效果。<p>同时，你还可以启用 <a href="guide/syntax.html">MDC (Markdown Component) 语法</a> 来更加方便的方便地设置 <code>view-transition-name</code>：<pre class="language-md"><code class="language-md"><span class="token front-matter-block"><span class="token punctuation">---</span>
<span class="token front-matter yaml language-yaml">transition: view-transition
mdc: true</span>
<span class="token punctuation">---</span></span>

<span class="token title important"><span class="token punctuation">#</span> View Transition {.inline-block.view-transition-title}</span>

<span class="token hr punctuation">---</span>

<span class="token title important"><span class="token punctuation">#</span> View Transition {.inline-block.view-transition-title}</span></code></pre></section><section class="level3"aria-labelledby="custom-transitions"><h3 id="custom-transitions">自定义过渡效果</h3><p>Slidev 的幻灯片过渡效果由 <a href="https://vuejs.org/guide/built-ins/transition.html">Vue Transition</a> 提供。你可以通过以下方式提供自定义过渡效果：<pre class="language-md"><code class="language-md"><span class="token front-matter-block"><span class="token punctuation">---</span>
<span class="token front-matter yaml language-yaml">transition: my-transition</span>
<span class="token punctuation">---</span></span></code></pre><p>并在你的自定义样式表中添加以下内容：<pre class="language-css"><code class="language-css"><span class="token selector"><span class="token class">.my-transition-enter-active</span><span class="token punctuation">,</span>
<span class="token class">.my-transition-leave-active</span></span> <span class="token punctuation">{</span>
  <span class="token property">transition</span><span class="token punctuation">:</span> opacity <span class="token number">0.5</span><span class="token unit">s</span> ease<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.my-transition-enter-from</span><span class="token punctuation">,</span>
<span class="token class">.my-transition-leave-to</span></span> <span class="token punctuation">{</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>参阅 <a href="https://vuejs.org/guide/built-ins/transition.html">Vue Transition</a> 以了解更多。</section><section class="level3"aria-labelledby="forward-backward-transitions"><h3 id="forward-backward-transitions">前进后退过渡</h3><p>你可以为前进和后退导航指定不同的过渡效果，使用 <code>|</code> 作为过渡名称的分隔符：<pre class="language-md"><code class="language-md"><span class="token front-matter-block"><span class="token punctuation">---</span>
<span class="token front-matter yaml language-yaml">transition: go-forward | go-backward</span>
<span class="token punctuation">---</span></span></code></pre><p>在上例中，当你从幻灯片 1 切换到幻灯片 2 时，将应用 <code>go-forward</code> 过渡效果。当你从幻灯片 2 切换到幻灯片 1 时，将应用 <code>go-backward</code> 过渡效果。</section><section class="level3"aria-labelledby="advanced-usage"><h3 id="advanced-usage">高级过渡选项</h3><p><code>transition</code> 字段接受一个选项对象，该选项对象将传递给 <a href="https://vuejs.org/api/built-in-components.html#transition"><code>&#x3C;TransitionGroup></code></a> 组件。例如：<pre class="language-md"><code class="language-md"><span class="token front-matter-block"><span class="token punctuation">---</span>
<span class="token front-matter yaml language-yaml">transition:
  name: my-transition
  enterFromClass: custom-enter-from
  enterActiveClass: custom-enter-active</span>
<span class="token punctuation">---</span></span></code></pre><p><span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></section></div></section></section>