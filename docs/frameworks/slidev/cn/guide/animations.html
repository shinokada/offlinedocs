<!doctype html><html lang="cn"><meta charset="utf-8"><title>动画</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"href="../../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="animations"><h1 id="animations">动画</h1><section class="level2"aria-labelledby="click-animations"><h2 id="click-animations">点击动画</h2><section class="level3"aria-labelledby="v-click"><h3 id="v-click"><code>v-click</code></h3><p>如需为元素添加 “点击动画”，你可以使用 <code>v-click</code> 指令或 <code>&#x3C;v-click></code> 组件<pre class="language-md"><code class="language-md"><span class="token title important"><span class="token punctuation">#</span> Hello</span>

<span class="token comment">&#x3C;!-- 组件用法：在你按下 “下一步” 之前，这是不可见的 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-click</span><span class="token punctuation">></span></span>

Hello World

<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-click</span><span class="token punctuation">></span></span>

<span class="token comment">&#x3C;!-- 指令用法：在你第二次按下 “下一步” 之前，这是不可见的 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">v-click</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-xl p-2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

Hey!

<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span></code></pre></section><section class="level3"aria-labelledby="v-after"><h3 id="v-after"><code>v-after</code></h3><p><code>v-after</code> 和 <code>v-click</code> 用法类似，但是 <code>v-after</code> 会在上一个 <code>v-click</code> 触发后使元素可见。<pre class="language-md"><code class="language-md"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">v-click</span><span class="token punctuation">></span></span>Hello<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">v-after</span><span class="token punctuation">></span></span>World<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span></code></pre><p>当你点击了“下一步”按钮之后，<code>Hello</code> 和 <code>World</code> 会同时出现。</section><section class="level3"aria-labelledby="v-click-hide"><h3 id="v-click-hide"><code>v-click-hide</code></h3><p>与 <code>v-click</code> 相同，但不是让元素出现，而是让元素在点击后不可见。<pre class="language-md"><code class="language-md"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">v-click-hide</span><span class="token punctuation">></span></span>Hello<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span></code></pre></section><section class="level3"aria-labelledby="v-clicks"><h3 id="v-clicks"><code>v-clicks</code></h3><p><code>v-clicks</code> 仅作为组件提供。它可以快速将其子元素全部添加 <code>v-click</code> 指令。它在列表中尤为实用。<pre class="language-md"><code class="language-md"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-clicks</span><span class="token punctuation">></span></span>

<span class="token list punctuation">-</span> Item 1
<span class="token list punctuation">-</span> Item 2
<span class="token list punctuation">-</span> Item 3
<span class="token list punctuation">-</span> Item 4

<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-clicks</span><span class="token punctuation">></span></span></code></pre><p>每次你点击“下一步”按钮时，元素会逐条依次出现。</section><section class="level3"aria-labelledby="custom-clicks-count"><h3 id="custom-clicks-count">自定义点击数量</h3><p>默认情况下，Slidev 会计算进入下一张幻灯片之前需要执行多少步。你可以在 frontmatter 选项中设置 <code>clicks</code> 来覆盖该设置：<pre class="language-yaml"><code class="language-yaml"><span class="token punctuation">---</span>
<span class="token comment"># 在你进入下一页之前，需要点击 10 次</span>
<span class="token key atrule">clicks</span><span class="token punctuation">:</span> <span class="token number">10</span>
<span class="token punctuation">---</span></code></pre></section><section class="level3"aria-labelledby="ordering"><h3 id="ordering">排序</h3><p>通过传递点击索引，你可以自定义展示的顺序<pre class="language-md"><code class="language-md"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">v-click</span><span class="token punctuation">></span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">v-click</span><span class="token punctuation">></span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">v-click</span><span class="token punctuation">></span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span></code></pre><pre class="language-md"><code class="language-md"><span class="token comment">&#x3C;!-- 顺序颠倒了 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">v-click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">v-click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">v-click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span></code></pre><pre class="language-md"><code class="language-md"><span class="token front-matter-block"><span class="token punctuation">---</span>
<span class="token front-matter yaml language-yaml">clicks: 3</span>
<span class="token punctuation">---</span></span>

<span class="token comment">&#x3C;!-- 三次点击后可见 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-clicks</span> <span class="token attr-name">at</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span><span class="token punctuation">></span></span>Hi<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-clicks</span><span class="token punctuation">></span></span></code></pre></section><section class="level3"aria-labelledby="element-transitions"><h3 id="element-transitions">元素过渡</h3><p>当你在元素中应用 <code>v-click</code> 指令时，它会给该元素添加名为 <code>slidev-vclick-target</code> 的类。当元素隐藏时，还加上了 <code>slidev-vclick-hidden</code> 类。例如：<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>slidev-vclick-target slidev-vclick-hidden<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Text<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span></code></pre><p>点击后，会变成：<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>slidev-vclick-target<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Text<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span></code></pre><p>默认情况下，这些类都应用了半透明的过渡效果：<pre class="language-css"><code class="language-css"><span class="token selector">// the default

<span class="token class">.slidev-vclick-target</span></span> <span class="token punctuation">{</span>
  <span class="token property">transition</span><span class="token punctuation">:</span> opacity <span class="token number">100</span><span class="token unit">ms</span> ease<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.slidev-vclick-hidden</span></span> <span class="token punctuation">{</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token property">pointer-events</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>你可以在你的自定义样式表中自定义过渡效果来覆盖默认配置。<p>例如，你可以通过以下方式实现缩放过渡效果：<pre class="language-css"><code class="language-css"><span class="token selector">// styles<span class="token class">.css</span>

<span class="token class">.slidev-vclick-target</span></span> <span class="token punctuation">{</span>
  <span class="token property">transition</span><span class="token punctuation">:</span> all <span class="token number">500</span><span class="token unit">ms</span> ease<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.slidev-vclick-hidden</span></span> <span class="token punctuation">{</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>只为某页幻灯片或布局指定动画：<pre class="language-scss"><code class="language-scss"><span class="token selector">.slidev-page-7,
.slidev-layout.my-custom-layout </span><span class="token punctuation">{</span>
  <span class="token selector">.slidev-vclick-target </span><span class="token punctuation">{</span>
    <span class="token property">transition</span><span class="token punctuation">:</span> all <span class="token number">500</span><span class="token unit">ms</span> ease<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.slidev-vclick-hidden </span><span class="token punctuation">{</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p>欲了解更多详细信息，请参阅 <a href="custom/directory-structure.html">自定义样式</a></section></section><section class="level2"aria-labelledby="motion"><h2 id="motion">运动</h2><p>Slidev 内置了 <a href="https://motion.vueuse.org/">@vueuse/motion</a>。你可以对任何元素应用 <code>v-motion</code> 指令，以对它们施加运动效果。例如：<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span>
  <span class="token attr-name">v-motion</span>
  <span class="token attr-name">:initial</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{ x: -80 }<span class="token punctuation">"</span></span>
  <span class="token attr-name">:enter</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{ x: 0 }<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  Slidev
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span></code></pre><p>文本 <code>Slidev</code> 将从其初始化位置 <code>-80px</code> 移至其原始位置。<blockquote><p>注意：Slidev 会预加载下一张幻灯片以提高性能，这意味着动画可能会在你导航到该页面之前就开始了。为了使其正常工作，你可以禁用指定幻灯片的预加载<pre class="language-md"><code class="language-md"><span class="token front-matter-block"><span class="token punctuation">---</span>
<span class="token front-matter yaml language-yaml">preload: false</span>
<span class="token punctuation">---</span></span></code></pre><p>或者使用 <code>v-if</code> 控制元素的生命周期来获得对组件更细粒度的控制<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span>
  <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$slidev.nav.currentPage === 7<span class="token punctuation">"</span></span>
  <span class="token attr-name">v-motion</span>
  <span class="token attr-name">:initial</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{ x: -80 }<span class="token punctuation">"</span></span>
  <span class="token attr-name">:enter</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{ x: 0 }<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  Slidev
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span></code></pre></blockquote><p>学习模式： <a href="https://sli.dev/demo/starter/7">Demo</a> | <a href="https://motion.vueuse.org/">@vueuse/motion</a> | <a href="https://motion.vueuse.org/directive-usage.html">v-motion</a> | <a href="https://motion.vueuse.org/presets.html">Presets</a></section><section class="level2"aria-labelledby="slide-transitions"><h2 id="slide-transitions">幻灯片过渡</h2><div id="pages-transitions"><blockquote><p>自 v0.39.0 开始可用</blockquote><p>Slidev 支持开箱即用的幻灯片过渡，你可以通过设置 <code>transition</code> 扉页配置项来启用它:<pre class="language-md"><code class="language-md"><span class="token front-matter-block"><span class="token punctuation">---</span>
<span class="token front-matter yaml language-yaml">transition: slide-left</span>
<span class="token punctuation">---</span></span></code></pre><p>这将给你一个很好的滑动幻灯片切换效果。将其设置在扉页会应用到所有幻灯片。你还可以为每张幻灯片设置不同的过渡。<section class="level3"aria-labelledby="builtin-transitions"><h3 id="builtin-transitions">内置过渡</h3><ul><li><code>fade</code> - 淡入/淡出<li><code>fade-out</code> - 淡出，然后淡入<li><code>slide-left</code> - 向左滑动 (后退时向右滑动)<li><code>slide-right</code> - 向右滑动 (后退时向左滑动)<li><code>slide-up</code> - 向上滑动 (后退时向下滑动)<li><code>slide-down</code> - 向下滑动 (后退时向上滑动)</ul></section><section class="level3"aria-labelledby="custom-transitions"><h3 id="custom-transitions">自定义过渡</h3><p>Slidev 的幻灯片过渡是由 <a href="https://vuejs.org/guide/built-ins/transition.html">Vue 过渡</a>驱动的，你可以通过以下方式提供自定义过渡:<pre class="language-md"><code class="language-md"><span class="token front-matter-block"><span class="token punctuation">---</span>
<span class="token front-matter yaml language-yaml">transition: my-transition</span>
<span class="token punctuation">---</span></span></code></pre><p>然后在你的自定义样式表中如下配置:<pre class="language-css"><code class="language-css"><span class="token selector"><span class="token class">.my-transition-enter-active</span><span class="token punctuation">,</span>
<span class="token class">.my-transition-leave-active</span></span> <span class="token punctuation">{</span>
  <span class="token property">transition</span><span class="token punctuation">:</span> opacity <span class="token number">0.5</span><span class="token unit">s</span> ease<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.my-transition-enter-from</span><span class="token punctuation">,</span>
<span class="token class">.my-transition-leave-to</span></span> <span class="token punctuation">{</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>在 <a href="https://vuejs.org/guide/built-ins/transition.html">Vue 过渡</a>中了解更多。</section><section class="level3"aria-labelledby="forward-backward-transitions"><h3 id="forward-backward-transitions">向前和向后过渡</h3><p>你可以使用 <code>|</code> 作为过渡名称中的分隔符来指定向前和向后导航的不同过渡属性:<pre class="language-md"><code class="language-md"><span class="token front-matter-block"><span class="token punctuation">---</span>
<span class="token front-matter yaml language-yaml">transition: go-forward | go-backward</span>
<span class="token punctuation">---</span></span></code></pre><p>这样，当你从幻灯片 1 到幻灯片 2 时， <code>go-forward</code> 过渡生效；从幻灯片 2 到幻灯片 1 时，<code>go-backward</code> 过渡生效。</section><section class="level3"aria-labelledby="advanced-usage"><h3 id="advanced-usage">高级用法</h3><p><code>transition</code> 字段还可以是一个选项，该选项会传递给 <a href="https://vuejs.org/api/built-in-components.html#transition"><code>&#x3C;TransitionGroup></code></a> 组件：<pre class="language-md"><code class="language-md"><span class="token front-matter-block"><span class="token punctuation">---</span>
<span class="token front-matter yaml language-yaml">transition:
  name: my-transition
  enterFromClass: custom-enter-from
  enterActiveClass: custom-enter-active</span>
<span class="token punctuation">---</span></span></code></pre><p><span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></section></div></section></section>