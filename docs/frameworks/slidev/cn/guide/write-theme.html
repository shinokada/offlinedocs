<!doctype html><html lang="cn"><meta charset="utf-8"><title>编写主题</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"type="text/css"href="../../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="编写主题"><h1 id="编写主题">编写主题</h1><blockquote><p>请先阅读<linkinline link="guide/theme-addon">。</linkinline></blockquote><p>每个幻灯片项目只能有一个主题。主题应专注于提供幻灯片的外观。如果功能与外观无关且可以单独使用，则应将其实现为 <a href="./write-addon">插件</a>。<p>我们建议您使用我们的生成器来搭建您的第一个主题：<p>::: code-group<pre class="language-bash"><code class="language-bash">$ <span class="token function">npm</span> init slidev-theme@latest</code></pre><pre class="language-bash"><code class="language-bash">$ <span class="token function">pnpm</span> init slidev-theme</code></pre><pre class="language-bash"><code class="language-bash">$ <span class="token function">yarn</span> create slidev-theme</code></pre><p>:::<p>你也可以参考<a href="../resources/theme-gallery#official-themes">官方主题</a>作为示例。<section class="level2"aria-labelledby="capability"><h2 id="capability">主题能力</h2><p>一个主题可以实现以下功能：<ul><li>全局样式<li>提供默认配置<li>提供自定义布局或覆盖现有布局<li>提供自定义组件<li>配置 UnoCSS、Shiki 等工具</ul><p>但是，不建议在主题中实现以下功能，这些功能可能更适合 <a href="./write-addon">实现为插件</a>：<ul><li>新的代码片段<li>新的代码运行器<li>其他可以单独使用的功能</ul><p>基本上，提供全局样式、布局、组件和配置工具的方式与在幻灯片项目中提供这些的方式相同。例如，要配置 Shiki，您可以创建一个 <code>./setup/shiki.ts</code>，如<a href="../custom/config-highlighter">配置高亮</a>中所述。您可以参考<a href="custom/">自定义指南</a>获取更多信息。<p>若要提供默认的 Slidev 配置，您可以在 <code>package.json</code> 文件中添加一个 <code>slidev.defaults</code> 字段，它将与用户的配置合并：<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"slidev"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"defaults"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"transition"</span><span class="token operator">:</span> <span class="token string">"slide-left"</span><span class="token punctuation">,</span>
      <span class="token property">"aspectRatio"</span><span class="token operator">:</span> <span class="token string">"4/3"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><section class="level3"aria-labelledby="restrict-version"><h3 id="restrict-version">限制 Slidev 版本</h3><p>若该主题依赖于 Slidev 的某个新功能，您可以设置主题所需的最低 Slidev 版本：<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"engines"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"slidev"</span><span class="token operator">:</span> <span class="token string">">=0.48.0"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p>当使用不兼容的版本时，将显示错误消息。</section><section class="level3"aria-labelledby="metadata"><h3 id="metadata">元信息</h3><p>Slidev 默认主题支持浅色模式和深色模式。如果您只希望您的主题在特定颜色模式下呈现，您需要在 <code>package.json</code> 中显式指定：<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"slidev"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"colorSchema"</span><span class="token operator">:</span> <span class="token string">"light"</span> <span class="token comment">// or "dark" or "both"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></section></section><section class="level2"aria-labelledby="previewing"><h2 id="previewing">预览插件</h2><p>你可以通过一个示例幻灯片来预览主题。为此，请创建一个 <code>./slides.md</code> 文件，并在其中添加以下 headmatter 配置：<pre class="language-md"><code class="language-md"><span class="token front-matter-block"><span class="token punctuation">---</span>
<span class="token front-matter yaml language-yaml">theme: ./  # 使用当前目录的作为主题</span>
<span class="token punctuation">---</span></span></code></pre><p>其他使用方式与普通的幻灯片相同。</section><section class="level2"aria-labelledby="publishing"><h2 id="publishing">发布插件</h2><p>当发布主题时，非 JS 文件（如 <code>.vue</code> 和 <code>.ts</code> 文件）可以直接发布而无需编译。Slidev 在使用主题时会自动编译它们。<p>主题应遵循以下约定：<ul><li>包名应以 <code>slidev-theme-</code> 开头。例如，<code>slidev-theme-name</code> 或 <code>@scope/slidev-theme-name</code><li>在 <code>package.json</code> 的 <code>keywords</code> 字段中添加 <code>"slidev-theme"</code> 和 <code>"slidev"</code></ul><p>主题可以在本地使用而无需发布到 NPM。如果您的主题仅供个人使用，您可以将其简单地用作本地主题，或者将其发布为私有作用域包。但是，如果您想与他人分享，建议将其发布到 NPM。 <span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></section></section>