<!doctypehtml><html lang="cn"><meta charset="utf-8"><title>静态部署</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"href="../../../../../../../../docs/themes/packages/prism-coy-theme/theme_common.css"><section id="static-hosting"class="level1"><h1>静态部署</h1><section id="build-single-page-application-spa"class="level2"><h2>构建单页应用（SPA）</h2><p>你还可以将幻灯片构建成可部署的单页应用（SPA）：<pre class="language-bash"><code class="language-bash">$ slidev build</code></pre><p>生成的应用程序会保存在 <code>dist/</code> 目录下，然后你可以将该目录部署在 <a href="https://pages.github.com/">GitHub Pages</a>，<a href="https://netlify.app/">Netlify</a>，<a href="https://vercel.com/">Vercel</a>，等你想部署的任何地方。接着，就可以将你幻灯片的链接分享给任何人。<section id="base-path"class="level3"><h3>配置基础路径</h3><p>如果你需要将幻灯片部署在网站的子路由下，你可以使用 <code>--base</code> 选项来进行修改。例如：<pre class="language-bash"><code class="language-bash">$ slidev build --base /talks/my-cool-talk/</code></pre><p>欲了解更多，请参阅 <a href="https://cn.vitejs.dev/guide/build.html#public-base-path">Vite 的文档</a>。</section><section id="provide-downloadable-pdf"class="level3"><h3>提供可下载的 PDF</h3><p>你可以向浏览幻灯片单页应用的观众提供一个可下载的 PDF。你可以通过如下配置来启用它：<pre class="language-md"><code class="language-md"><span class="token front-matter-block"><span class="token punctuation">---</span>
<span class="token front-matter yaml language-yaml">download: true</span>
<span class="token punctuation">---</span></span></code></pre><p>配置好后，Slidev 将生成一个 PDF 文件，并在单页应用中展示下载按钮。<p>你也可以为 PDF 提供一个自定义的 URL。在这种情况下，PDF 的渲染过程将被忽略。<pre class="language-md"><code class="language-md"><span class="token front-matter-block"><span class="token punctuation">---</span>
<span class="token front-matter yaml language-yaml">download: 'https://myside.com/my-talk.pdf'</span>
<span class="token punctuation">---</span></span></code></pre></section><section id="examples"class="level3"><h3>示例</h3><p>下面是几个导出为单页应用的示例：<ul><li><a href="https://sli.dev/demo/starter">Starter Template</a><li><a href="https://talks.antfu.me/2021/composable-vue">Composable Vue</a> by <a href="https://github.com/antfu">Anthony Fu</a></ul><p>欲了解更多，请参阅 <a href="showcases">Showcases</a>。</section></section><section id="部署"class="level2"><h2>部署</h2><p>我们建议使用 <code>npm init slidev@latest</code> 来为你初始化你的项目，它包含了部署服务开箱即用的配置文件。<section id="netlify"class="level3"><h3>Netlify</h3><ul><li><a href="https://netlify.com/">Netlify</a></ul><p>在你项目的根目录创建 <code>netlify.toml</code> 文件，其内容如下：<pre class="language-ts"><code class="language-ts"><span class="token punctuation">[</span>build<span class="token punctuation">.</span><span class="token property-access">environment</span><span class="token punctuation">]</span>
  <span class="token constant">NODE_VERSION</span> <span class="token operator">=</span> <span class="token string">"14"</span>

<span class="token punctuation">[</span>build<span class="token punctuation">]</span>
  publish <span class="token operator">=</span> <span class="token string">"dist"</span>
  command <span class="token operator">=</span> <span class="token string">"npm run build"</span>

<span class="token punctuation">[</span><span class="token punctuation">[</span>redirects<span class="token punctuation">]</span><span class="token punctuation">]</span>
  <span class="token keyword module">from</span> <span class="token operator">=</span> <span class="token string">"/*"</span>
  to <span class="token operator">=</span> <span class="token string">"/index.html"</span>
  status <span class="token operator">=</span> <span class="token number">200</span></code></pre><p>接着，去 Netlify 的仪表盘，选择对应仓库并创建新的站点。</section><section id="vercel"class="level3"><h3>Vercel</h3><ul><li><a href="https://vercel.com/">Vercel</a></ul><p>在你项目的根目录创建 <code>vercel.json</code> 文件，其内容如下：<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"rewrites"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token property">"source"</span><span class="token operator">:</span> <span class="token string">"/(.*)"</span><span class="token punctuation">,</span> <span class="token property">"destination"</span><span class="token operator">:</span> <span class="token string">"/index.html"</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre><p>接着，去 Vercel 的仪表盘，选择对应仓库并创建新的站点。</section></section><section id="github-pages"class="level2"><h2>GitHub Pages</h2><ul><li><a href="https://pages.github.com/">GitHub Pages</a></ul><p>将你的幻灯片部署到 GitHub Pages：<ul><li>上传你的仓库里该项目的全部文件（例如，名字为 <code>name_of_repo</code>）<li>创建 <code>.github/workflows/deploy.yml</code> 文件，并包含如下内容。然后通过 Github Action 将你的幻灯片部署到 Github Pages。在该文件中，用 <code>name_of_repo</code> 替换 <code>&#x3C;name_of_repo></code>。</ul><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy pages
<span class="token key atrule">on</span><span class="token punctuation">:</span> push
<span class="token key atrule">jobs</span><span class="token punctuation">:</span>
  <span class="token key atrule">deploy</span><span class="token punctuation">:</span>
    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest
    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v2
      <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>node@v2
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">node-version</span><span class="token punctuation">:</span> <span class="token string">'14'</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Install dependencies
        <span class="token key atrule">run</span><span class="token punctuation">:</span> npm install
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Install slidev
        <span class="token key atrule">run</span><span class="token punctuation">:</span>  npm i <span class="token punctuation">-</span>g @slidev/cli
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Build
        <span class="token key atrule">run</span><span class="token punctuation">:</span> slidev build <span class="token punctuation">-</span><span class="token punctuation">-</span>base &#x3C;name_of_repo<span class="token punctuation">></span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy pages
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> crazy<span class="token punctuation">-</span>max/ghaction<span class="token punctuation">-</span>github<span class="token punctuation">-</span>pages@v2
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">build_dir</span><span class="token punctuation">:</span> dist
        <span class="token key atrule">env</span><span class="token punctuation">:</span>
          <span class="token key atrule">GITHUB_TOKEN</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.GITHUB_TOKEN <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><ul><li>在你的仓库里，选择 “Settings > Pages”。在 “Build and deployment” 下，选择 “Deploy from a branch”，选择 “gh-pages” 和 “root”，点击保存。<li>最终，在全部工作流执行之后，在 “Settings > Pages” 下会出现幻灯片的链接。 <span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></ul></section></section>