<!doctype html><html lang="cn"><meta charset="utf-8"><title>Monaco 代码运行器</title><meta name="viewport"content="width=device-width,initial-scale=1"><meta name="depends"content="features/monaco-editor,guide/animations"><meta name="relates"content="[object Object]"><meta name="since"content="v0.48.0"><meta name="tags"content="代码块,编辑器"><meta name="description"content="直接在编辑器中运行代码并获取结果。
"><link rel="stylesheet"type="text/css"href="../../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="monaco-代码运行器"><h1 id="monaco-代码运行器">Monaco 代码运行器</h1><p>Slidev 还提供了 Monaco Runner 编辑器，它允许你直接在编辑器中运行代码并查看结果。使用<code>{monaco-run}</code>将块转换为 Monaco Runner 编辑器。<pre class="language-md"><code class="language-md"><span class="token code"><span class="token punctuation">```</span><span class="token code-language">ts {monaco-run}</span>
<span class="token code-block language-ts"><span class="token keyword">function</span> <span class="token function">distance</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">sqrt</span><span class="token punctuation">(</span>x <span class="token operator">**</span> <span class="token number">2</span> <span class="token operator">+</span> y <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token function">distance</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="token punctuation">```</span></span></code></pre><p>它为编辑器提供了一个 “运行” 按钮，并在代码块正下方显示代码执行的结果。你也可以修改代码，结果将实时更新。<p>默认情况下，加载幻灯片时，它将自动运行代码；如果你想显式触发运行，你可以设置<code>{autorun:false}</code>。<pre class="language-md"><code class="language-md"><span class="token code"><span class="token punctuation">```</span><span class="token code-language">ts {monaco-run} {autorun:false}</span>
<span class="token code-block language-ts"><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'请点击右上角的运行按钮'</span><span class="token punctuation">)</span></span>
<span class="token punctuation">```</span></span></code></pre><p>如果你只想在某些点击中显示输出，你可以使用 <code>showOutputAt</code> prop。该值与<code>v-click</code> 相同。<pre class="language-md"><code class="language-md"><span class="token code"><span class="token punctuation">```</span><span class="token code-language">ts {monaco-run} {showOutputAt:'+1'}</span>
<span class="token code-block language-ts"><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'一步动画后后显示该结果'</span><span class="token punctuation">)</span></span>
<span class="token punctuation">```</span></span></code></pre><p>目前，Slidev 内置支持运行 JavaScript 和 TypeScript 代码。若要运行自定义语言，请参阅 <a href="custom/config-code-runners">自定义代码运行程序</a>。 <span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></section>