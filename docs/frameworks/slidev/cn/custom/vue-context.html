<!doctype html>
<html lang="cn">
  <head>
    <meta charset="utf-8">
    <title>Vue 全局上下文</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://raw.githubusercontent.com/shinokada/prism-coy-theme/main/theme_common.css">
  </head>
  <body>
    <section id="vue-global-context" class="level1">
      <h1>Vue 全局上下文</h1>
      <p>Slidev 注入了一个 <a href="https://v3.vuejs.org/api/application-config.html#globalproperties">全局的 Vue 上下文</a> <code>$slidev</code>，它用于高级的条件判断或导航控制。</p>
      <section id="usage" class="level2">
        <h2>用法</h2>
        <p>你可以在你的 markdown 文件以及 Vue 模板的任何位置使用 <a href="https://v3.vuejs.org/guide/template-syntax.html#interpolations">"Mustache" 语法</a> 访问它。</p>
        <pre class="language-md"><code class="language-md"><span class="token comment">&#x3C;!-- slides.md --></span>

<span class="token title important"><span class="token punctuation">#</span> Page 1</span>

Current page is: {{ $slidev.nav.currentPage }}</code></pre>
        <pre class="language-html"><code class="language-html"><span class="token comment">&#x3C;!-- Foo.vue --></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span><span class="token punctuation">></span></span>Title: {{ $slidev.configs.title }}<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$slidev.nav.next<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Next Page<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>button</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>template</span><span class="token punctuation">></span></span></code></pre>
      </section>
      <section id="properties" class="level2">
        <h2>属性</h2>
        <section id="slidevnav-slidev-nav" class="level3">
          <h3><code>$slidev.nav</code> {#slidev-nav}</h3>
          <p>一个响应式对象，它拥有幻灯片导航的属性以及控制权。例如：</p>
          <pre class="language-js"><code class="language-js">$slidev<span class="token punctuation">.</span><span class="token property-access">nav</span><span class="token punctuation">.</span><span class="token method function property-access">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 执行下一步</span>

$slidev<span class="token punctuation">.</span><span class="token property-access">nav</span><span class="token punctuation">.</span><span class="token method function property-access">nextSlide</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 跳转下一张幻灯片 (忽略 v-clicks)</span>

$slidev<span class="token punctuation">.</span><span class="token property-access">nav</span><span class="token punctuation">.</span><span class="token method function property-access">go</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment">// 去到幻灯片的第 10 页</span></code></pre>
          <pre class="language-js"><code class="language-js">$slidev<span class="token punctuation">.</span><span class="token property-access">nav</span><span class="token punctuation">.</span><span class="token property-access">currentPage</span> <span class="token comment">// 获取当前幻灯片的页数</span>

$slidev<span class="token punctuation">.</span><span class="token property-access">nav</span><span class="token punctuation">.</span><span class="token property-access">currentLayout</span> <span class="token comment">// 当前的布局 id</span>

$slidev<span class="token punctuation">.</span><span class="token property-access">nav</span><span class="token punctuation">.</span><span class="token property-access">clicks</span> <span class="token comment">// 目前的点击次数</span></code></pre>
          <p>欲了解更多可用属性，请参阅 <a href="https://github.com/slidevjs/slidev/blob/main/packages/client/logic/nav.ts">nav.ts</a> 的 exports。</p>
        </section>
        <section id="slidevconfigs-slidev-configs" class="level3">
          <h3><code>$slidev.configs</code> {#slidev-configs}</h3>
          <p>一个响应式对象，它存储着你 <code>slides.md</code> 中解析后的 <a href="custom/.html">第一个 frontmatter 中的配置</a></p>
          <pre class="language-yaml"><code class="language-yaml"><span class="token punctuation">---</span>
<span class="token key atrule">title</span><span class="token punctuation">:</span> My First Slidev<span class="token tag">!</span>
<span class="token punctuation">---</span></code></pre>
          <pre class="language-text"><code class="language-text">{{ $slidev.configs.title }} // 'My First Slidev!'</code></pre>
        </section>
        <section id="slidevthemeconfigs-slidev-themeconfigs" class="level3">
          <h3><code>$slidev.themeConfigs</code> {#slidev-themeconfigs}</h3>
          <p>一个响应式对象，它存储着解析后的主题配置。</p>
          <pre class="language-yaml"><code class="language-yaml"><span class="token punctuation">---</span>
<span class="token key atrule">title</span><span class="token punctuation">:</span> My First Slidev<span class="token tag">!</span>
<span class="token key atrule">themeConfig</span><span class="token punctuation">:</span>
  <span class="token key atrule">primary</span><span class="token punctuation">:</span> <span class="token comment">#213435</span>
<span class="token punctuation">---</span></code></pre>
          <pre class="language-text"><code class="language-text">{{ $slidev.themeConfigs.primary }} // '#213435'</code></pre>
          <p><span style="float: footnote;"><a href="../index.html#toc">Go to TOC</a></span></p>
        </section>
      </section>
    </section>
  </body>
</html>
