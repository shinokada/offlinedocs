<!doctypehtml><html lang="cn"><meta charset="utf-8"><title>语法高亮器</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"href="https://raw.githubusercontent.com/shinokada/prism-coy-theme/main/theme_common.css"><section id="highlighters"class="level1"><h1>语法高亮器</h1><p>Slidev 内建了两种语法高亮器供你使用：<ul><li><a href="https://prismjs.com/">Prism</a><li><a href="https://github.com/shikijs/shiki">Shiki</a></ul><p><strong>Prism</strong> 是最受欢迎的语法高亮器之一。它在代码文本中插入标签包裹需要高亮的元素并通过 CSS 文件来设置高亮样式。你可以直接使用 Prism <a href="https://github.com/PrismJS/prism-themes">官方预设的主题</a>，或者通过 <a href="https://github.com/antfu/prism-theme-vars"><code>prism-theme-vars</code></a> 快速创建自己的高亮主题。<p><strong>Shiki</strong>，一个基于 TextMate 语法的代码高亮器。它直接生成带样式的包裹元素，所以不需要引入额外的 CSS 文件。因为基于 TextMate 语法，所以生成的高亮区块非常准确，效果类似于 VS Code。Shiki 也提供了 <a href="https://github.com/shikijs/shiki/blob/master/docs/themes.md">很多预设主题</a>。不过 Shiki 需要通过 TextMate 主题（与 VS Code 主题相兼容）来自定义高亮，这相对来说会比较麻烦。<p>Slidev 主题通常会同时支持 Prism 和 Shiki，不过需要注意有些主题可能只会支持其中一种。<p>你可以参考以下描述来选择使用哪种高亮器：<ul><li><strong>Prism</strong> 更容易自定义样式<li><strong>Shiki</strong> 生成的高亮区块更加准确</ul><p>默认情况下 Slidev 使用 Prism，你可以在 frontmatter 中修改设置：<pre class="language-yaml"><code class="language-yaml"><span class="token punctuation">---</span>
<span class="token key atrule">highlighter</span><span class="token punctuation">:</span> shiki
<span class="token punctuation">---</span></code></pre><section id="configure-prism"class="level2"><h2>配置 Prism</h2><p>直接引入预设主题或者使用 <a href="https://github.com/antfu/prism-theme-vars"><code>prism-theme-vars</code></a> 就可以配置 Prism 高亮，更多细节可以参阅相应文档。</section><section id="configure-shiki"class="level2"><h2>配置 Shiki</h2><environment type="node"><p>创建 <code>./setup/shiki.ts</code> 文件并添加以下代码：<pre class="language-ts"><code class="language-ts"><span class="token comment">/* ./setup/shiki.ts */</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> defineShikiSetup <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@slidev/types'</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token function">defineShikiSetup</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
    theme<span class="token operator">:</span> <span class="token punctuation">{</span>
      dark<span class="token operator">:</span> <span class="token string">'min-dark'</span><span class="token punctuation">,</span>
      light<span class="token operator">:</span> <span class="token string">'min-light'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>所有可选的主题请参阅 <a href="https://github.com/shikijs/shiki/blob/master/docs/themes.md#all-themes">Shiki 文档</a>。<p>如果想使用自己的主题可以将配置文件改为：<pre class="language-ts"><code class="language-ts"><span class="token comment">/* ./setup/shiki.ts */</span>

<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> defineShikiSetup <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@slidev/types'</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token function">defineShikiSetup</span><span class="token punctuation">(</span><span class="token keyword">async</span><span class="token punctuation">(</span><span class="token punctuation">{</span> loadTheme <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
    theme<span class="token operator">:</span> <span class="token punctuation">{</span>
      dark<span class="token operator">:</span> <span class="token keyword control-flow">await</span> <span class="token function">loadTheme</span><span class="token punctuation">(</span><span class="token string">'path/to/theme.json'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      light<span class="token operator">:</span> <span class="token keyword control-flow">await</span> <span class="token function">loadTheme</span><span class="token punctuation">(</span><span class="token string">'path/to/theme.json'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p><span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></p></environment></section></section>