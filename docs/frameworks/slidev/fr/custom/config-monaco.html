<!doctype html><html lang="fr"><meta charset="utf-8"><title>Configurer Monaco</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"type="text/css"href="../../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="configurer-monaco"><h1 id="configurer-monaco">Configurer Monaco</h1><environment type="client"><blockquote><p>Par défaut, uniquement Monaco est activé uniquement en mode développement. Pour le faire fonctionner sur la version SPA, ajoutez <code>monaco: true</code> à vos configurations frontmatter.</blockquote><p>Créer <code>./setup/monaco.ts</code> avec le contenu suivant :<pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> defineMonacoSetup <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@slidev/types'</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token function">defineMonacoSetup</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span>monaco<span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// use `monaco` to configure</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>En savoir plus sur <a href="https://github.com/Microsoft/monaco-editor">la configuration de Monaco</a>.<section class="level2"aria-labelledby="utilisation"><h2 id="utilisation">Utilisation</h2><p>Pour utiliser Monaco dans vos diapositives, ajoutez simplement <code>{monaco}</code> à vos extraits de code :<pre class="language-js"><code class="language-js"><span class="token comment">//```js</span>
<span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> plusOne <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> count<span class="token punctuation">.</span><span class="token property-access">value</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>

<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>plusOne<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span> <span class="token comment">// 2</span>

plusOne<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token operator">++</span> <span class="token comment">// error</span>
<span class="token comment">//```</span></code></pre><p>À<pre class="language-js"><code class="language-js"><span class="token comment">//```js {monaco}</span>
<span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> plusOne <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> count<span class="token punctuation">.</span><span class="token property-access">value</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>

<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>plusOne<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span> <span class="token comment">// 2</span>

plusOne<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token operator">++</span> <span class="token comment">// error</span>
<span class="token comment">//```</span></code></pre></section><section class="level2"aria-labelledby="exporter"><h2 id="exporter">Exporter</h2><p>Par défaut, Monaco fonctionnera UNIQUEMENT en mode <code>dev</code>. Si vous souhaitez également l'avoir disponible dans le SPA exporté, vous pouvez le configurer dans votre frontmatter :<pre class="language-yaml"><code class="language-yaml"><span class="token punctuation">---</span>
<span class="token key atrule">monaco</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># default "dev"</span>
<span class="token punctuation">---</span></code></pre></section><section class="level2"aria-labelledby="types-dinstallation-automatique"><h2 id="types-dinstallation-automatique">Types d'installation automatique</h2><p>Lorsque vous utilisez TypeScript avec Monaco, les types de dépendances sont installés automatiquement côté client.<pre class="language-ts"><code class="language-ts"><span class="token comment">//```ts {monaco}</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> ref <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vue'</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> useMouse <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@vueuse/core'</span>

<span class="token keyword">const</span> counter <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token comment">//```</span></code></pre><p>Dans l'exemple ci-dessus, assurez-vous simplement que <code>vue</code> et<code>@vueuse/core</code> sont installés localement en tant que dependencies / devDependencies, Slidev s'occupera du reste et votre éditeur fonctionnera !</section><section class="level2"aria-labelledby="configure-themes"><h2 id="configure-themes">Configure Themes</h2><p>Le thème est controllé par Slidev basé sur le thème clair/sombre. Si vous souhaitez le customiser, vous pouvez passer l'identifiant du thème dans la fonction setup :<pre class="language-ts"><code class="language-ts"><span class="token comment">// ./setup/monaco.ts</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> defineMonacoSetup <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@slidev/types'</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token function">defineMonacoSetup</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
    theme<span class="token operator">:</span> <span class="token punctuation">{</span>
      dark<span class="token operator">:</span> <span class="token string">'vs-dark'</span><span class="token punctuation">,</span>
      light<span class="token operator">:</span> <span class="token string">'vs'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>Si vous souhaitez charger des thèmes customisés :<pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> defineMonacoSetup <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@slidev/types'</span>

<span class="token comment">// change to your themes</span>
<span class="token keyword module">import</span> <span class="token imports">dark</span> <span class="token keyword module">from</span> <span class="token string">'theme-vitesse/themes/vitesse-dark.json'</span>
<span class="token keyword module">import</span> <span class="token imports">light</span> <span class="token keyword module">from</span> <span class="token string">'theme-vitesse/themes/vitesse-light.json'</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token function">defineMonacoSetup</span><span class="token punctuation">(</span><span class="token punctuation">(</span>monaco<span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  monaco<span class="token punctuation">.</span><span class="token property-access">editor</span><span class="token punctuation">.</span><span class="token method function property-access">defineTheme</span><span class="token punctuation">(</span><span class="token string">'vitesse-light'</span><span class="token punctuation">,</span> light <span class="token keyword module">as</span> <span class="token builtin">any</span><span class="token punctuation">)</span>
  monaco<span class="token punctuation">.</span><span class="token property-access">editor</span><span class="token punctuation">.</span><span class="token method function property-access">defineTheme</span><span class="token punctuation">(</span><span class="token string">'vitesse-dark'</span><span class="token punctuation">,</span> dark <span class="token keyword module">as</span> <span class="token builtin">any</span><span class="token punctuation">)</span>

  <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
    theme<span class="token operator">:</span> <span class="token punctuation">{</span>
      light<span class="token operator">:</span> <span class="token string">'vitesse-light'</span><span class="token punctuation">,</span>
      dark<span class="token operator">:</span> <span class="token string">'vitesse-dark'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><blockquote><p>Si vous créez un thème pour Slidev, utilisez dynamiquement <code>import()</code> au sein de la fonction de setup afin d'avoir le meilleur résultat d'arborescence et de fractionnement de code possible. <span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></blockquote></section></environment></section>