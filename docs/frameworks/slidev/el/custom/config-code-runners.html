<!doctype html><html lang="el"><meta charset="utf-8"><title>Ρυθμίστε τους Code Runners</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"type="text/css"href="../../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="ρυθμίστε-τους-code-runners"><h1 id="ρυθμίστε-τους-code-runners">Ρυθμίστε τους Code Runners</h1><environment type="client"><p>Ορίστε code runners για προσαρμοσμένες γλώσσες στο Monaco Editor.<p>Από προεπιλογή, οι runners JavaScript, TypeScript υποστηρίζονται ενσωματωμένα. Εκτελούνται στο πρόγραμμα περιήγησης <strong>χωρίς</strong> περιβάλλον sandbox. Αν θέλετε πιο προηγμένες ενσωματώσεις, μπορείτε να παρέχετε τον δικό σας code runner που στέλνει τον κώδικα σε έναν απομακρυσμένο διακομιστή, εκτελείται σε έναν Web Worker ή οτιδήποτε άλλο, εξαρτάται από εσάς.<p>Δημιουργήστε το αρχείο <code>./setup/code-runners.ts</code> με το ακόλουθο περιεχόμενο:<pre class="language-ts"><code class="language-ts"><span class="token comment">// @noErrors</span>
<span class="token keyword">declare</span> <span class="token keyword">const</span> <span class="token function-variable function">executePythonCodeRemotely</span><span class="token operator">:</span> <span class="token punctuation">(</span>code<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token known-class-name class-name">Promise</span><span class="token operator">&#x3C;</span><span class="token builtin">string</span><span class="token operator">></span>
<span class="token keyword">declare</span> <span class="token keyword">const</span> <span class="token function-variable function">sanitizeHtml</span><span class="token operator">:</span> <span class="token punctuation">(</span>html<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token builtin">string</span>
<span class="token comment">// ---cut---</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> defineCodeRunnersSetup <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@slidev/types'</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token function">defineCodeRunnersSetup</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
    <span class="token keyword">async</span> <span class="token function">python</span><span class="token punctuation">(</span>code<span class="token punctuation">,</span> ctx<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Κάπως εκτελείτε τον κώδικα και επιστρέψτε το αποτέλεσμα</span>
      <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token function">executePythonCodeRemotely</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span>
      <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
        text<span class="token operator">:</span> result
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">html</span><span class="token punctuation">(</span>code<span class="token punctuation">,</span> ctx<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
        html<span class="token operator">:</span> <span class="token function">sanitizeHtml</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// ή άλλες γλώσσες, το κλειδί είναι το αναγνωριστικό γλώσσας</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><section class="level2"aria-labelledby="runner-context"><h2 id="runner-context">Runner Context</h2><p>Το δεύτερο όρισμα <code>ctx</code> είναι το context του runner, το οποίο περιέχει τις ακόλουθες ιδιότητες:<pre class="language-ts"><code class="language-ts"><span class="token comment">// @noErrors</span>
<span class="token keyword module">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> <span class="token maybe-class-name">CodeRunnerOutputs</span> <span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">'@slidev/types'</span>
<span class="token keyword module">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> <span class="token maybe-class-name">CodeToHastOptions</span> <span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">'shiki'</span>
<span class="token comment">// ---cut---</span>
<span class="token keyword module">export</span> <span class="token keyword">interface</span> <span class="token class-name"><span class="token maybe-class-name">CodeRunnerContext</span></span> <span class="token punctuation">{</span>
  <span class="token doc-comment comment">/**
   * Επιλογές που μεταβιβάζονται στον runner μέσω του prop `runnerOptions`.
   */</span>
  options<span class="token operator">:</span> <span class="token maybe-class-name">Record</span><span class="token operator">&#x3C;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">unknown</span><span class="token operator">></span>
  <span class="token doc-comment comment">/**
   * Επισημάνετε τον κώδικα με shiki.
   */</span>
  <span class="token function-variable function">highlight</span><span class="token operator">:</span> <span class="token punctuation">(</span>code<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> lang<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> options<span class="token operator">?</span><span class="token operator">:</span> <span class="token maybe-class-name">Partial</span><span class="token operator">&#x3C;</span><span class="token maybe-class-name">CodeToHastOptions</span><span class="token operator">></span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token builtin">string</span>
  <span class="token doc-comment comment">/**
   * Χρησιμοποιήστε (άλλο) code runner για να εκτελέσετε κώδικα.
   */</span>
  <span class="token function-variable function">run</span><span class="token operator">:</span> <span class="token punctuation">(</span>code<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> lang<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token known-class-name class-name">Promise</span><span class="token operator">&#x3C;</span><span class="token maybe-class-name">CodeRunnerOutputs</span><span class="token operator">></span>
<span class="token punctuation">}</span></code></pre></section><section class="level2"aria-labelledby="έξοδος-runner"><h2 id="έξοδος-runner">Έξοδος Runner</h2><p>Ο runner μπορεί είτε να επιστρέψει ένα κείμενο ή μια έξοδο HTML, είτε ένα στοιχείο προς τοποθέτηση. Ανατρέξτε στο <a href="https://github.com/slidevjs/slidev/blob/main/packages/types/src/code-runner.ts">https://github.com/slidevjs/slidev/blob/main/packages/types/src/code-runner.ts</a> για περισσότερες πληροφορίες.</section><section class="level2"aria-labelledby="πρόσθετες-εξαρτήσεις-του-runner"><h2 id="πρόσθετες-εξαρτήσεις-του-runner">Πρόσθετες Εξαρτήσεις του Runner</h2><p>Από προεπιλογή, το Slidev θα σαρώσει την πηγή Markdown και θα εισάγει αυτόματα τις απαραίτητες εξαρτήσεις για τους code runners. Αν θέλετε να εισάγετε εξαρτήσεις χειροκίνητα, μπορείτε να χρησιμοποιήσετε την επιλογή <code>monacoRunAdditionalDeps</code> στο frontmatter της διαφάνειας:<pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">monacoRunAdditionalDeps</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> ./διαδρομή/προς/την/εξάρτηση
  <span class="token punctuation">-</span> lodash<span class="token punctuation">-</span>es</code></pre><p>::: tip Οι διαδρομές επιλύονται σχετικά με τον φάκελο <code>snippets</code>. Και τα ονόματα των εξαρτήσεων θα πρέπει να είναι ακριβώς τα ίδια με τα εισαγόμενα στον κώδικα. :::<span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></section></environment></section>