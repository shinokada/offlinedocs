<!doctype html><html lang="ru"><meta charset="utf-8"><title>Создание темы</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"type="text/css"href="../../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="создание-темы"><h1 id="создание-темы">Создание темы</h1><p>Для начала мы рекомендуем использовать наш генератор для создания вашей первой темы.<pre class="language-bash"><code class="language-bash">$ <span class="token function">npm</span> init slidev-theme</code></pre><p>Затем вы можете изменить и поиграться с ней. Вы также можете посмотреть <a href="themes/gallery">официальные темы</a> в качестве примеров.<section class="level2"aria-labelledby="возможности"><h2 id="возможности">Возможности</h2><p>Тема может содержать:<ul><li>Глобальные стили<li>Дефолтные конфигурации (шрифты, цветовые схемы, подсветки, и т.д.)<li>Кастомные шаблоны или замена существующих<li>Кастомные компоненты или замена существующих<li>Расширение конфигурации Windi CSS<li>Настройка таких инструментов, как Monaco или Prism</ul></section><section class="level2"aria-labelledby="соглашения"><h2 id="соглашения">Соглашения</h2><p>Темы публикуются в реестре npm, и они должны соответствовать приведённым ниже соглашениям:<ul><li>Имя пакета должно начинаться с <code>slidev-theme-</code>, например: <code>slidev-theme-awesome</code><li>Содержать <code>slidev-theme</code> и <code>slidev</code> в поле <code>keywords</code> вашего <code>package.json</code></ul></section><section class="level2"aria-labelledby="настройка"><h2 id="настройка">Настройка</h2><p>Чтобы настроить тестовую песочницу для вашей темы, вы можете создать <code>example.md</code> со следующим frontmatter, чтобы сообщить Slidev, что вы используете текущий каталог в качестве темы.<pre class="language-md"><code class="language-md"><span class="token front-matter-block"><span class="token punctuation">---</span>
<span class="token front-matter yaml language-yaml">theme: ./</span>
<span class="token punctuation">---</span></span></code></pre><p>При желании вы также можете добавить несколько скриптов в свой <code>packages.json</code><pre class="language-json"><code class="language-json"><span class="token comment">// package.json</span>
<span class="token punctuation">{</span>
  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"dev"</span><span class="token operator">:</span> <span class="token string">"slidev example.md"</span><span class="token punctuation">,</span>
    <span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"slidev build example.md"</span><span class="token punctuation">,</span>
    <span class="token property">"export"</span><span class="token operator">:</span> <span class="token string">"slidev export example.md"</span><span class="token punctuation">,</span>
    <span class="token property">"screenshot"</span><span class="token operator">:</span> <span class="token string">"slidev export example.md --format png"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p>Чтобы опубликовать свою тему, просто запустите <code>npm publish</code>, и всё. Процесс сборки не требуется (это означает, что вы можете напрямую публиковать файлы <code>.vue</code> и<code>.ts</code>, Slidev достаточно умён, чтобы понять их).<p>Пункты добавления темы следуют тем же соглашениям, что и локальная настройка, подробнее в <a href="custom/">документации по соглашениям об именовании</a>.</section><section class="level2"aria-labelledby="конфигурации-по-умолчанию"><h2 id="конфигурации-по-умолчанию">Конфигурации по умолчанию</h2><blockquote><p>Доступно с версии v0.19</blockquote><p>Тема может предоставлять дефолтные <a href="custom/.html">конфигурации</a> через <code>package.json</code>.<pre class="language-json"><code class="language-json"><span class="token comment">// package.json</span>
<span class="token punctuation">{</span>
  <span class="token property">"slidev"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"default"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"aspectRatio"</span><span class="token operator">:</span> <span class="token string">"16/9"</span><span class="token punctuation">,</span>
      <span class="token property">"canvasWidth"</span><span class="token operator">:</span> <span class="token number">980</span><span class="token punctuation">,</span>
      <span class="token property">"fonts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"sans"</span><span class="token operator">:</span> <span class="token string">"Robot"</span><span class="token punctuation">,</span>
        <span class="token property">"mono"</span><span class="token operator">:</span> <span class="token string">"Fira Code"</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p>Шрифты будут автоматически импортированы из <a href="https://fonts.google.com/">Google Fonts</a>.<p>Подробнее о <a href="custom/fonts">шрифтах</a> и <a href="/custom/.html">frontmatter конфигурации</a></section><section class="level2"aria-labelledby="метаданные-темы"><h2 id="метаданные-темы">Метаданные темы</h2><section class="level3"aria-labelledby="цветовая-палитра"><h3 id="цветовая-палитра">Цветовая палитра</h3><p>По умолчанию Slidev предполагает, что темы поддерживают как светлый, так и тёмный режим. Если вы хотите, чтобы ваша тема была представлена только в разработанной цветовой схеме, вам нужно будет явно указать её в <code>package.json</code>.<pre class="language-json"><code class="language-json"><span class="token comment">// package.json</span>
<span class="token punctuation">{</span>
  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"slidev-theme-my-cool-theme"</span><span class="token punctuation">,</span>
  <span class="token property">"keywords"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">"slidev-theme"</span><span class="token punctuation">,</span>
    <span class="token string">"slidev"</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">"slidev"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"colorSchema"</span><span class="token operator">:</span> <span class="token string">"light"</span> <span class="token comment">// или "dark", или "both"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p>Чтобы получить доступ к тёмному режиму при стилизации вашей темы, вы можете обернуть CSS, зависящий от тёмного режима, внутри класса <code>dark</code>:<pre class="language-css"><code class="language-css"><span class="token comment">/* основные css стили */</span>

<span class="token selector">html<span class="token pseudo-class">:not</span><span class="token punctuation">(</span><span class="token class">.dark</span><span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token comment">/* css для светлой темы */</span>
<span class="token punctuation">}</span>

<span class="token selector">html<span class="token class">.dark</span></span> <span class="token punctuation">{</span>
  <span class="token comment">/* css для тёмной темы */</span>
<span class="token punctuation">}</span></code></pre><p>Slidev переключает класс <code>dark</code> в элементе <code>html</code> страницы для переключения цветовой схемы.</section><section class="level3"aria-labelledby="подсветка"><h3 id="подсветка">Подсветка</h3><p>В теме также предусмотрены цвета для подсветки синтаксиса. Мы поддерживаем как <a href="https://prismjs.com/">Prism</a>, так и <a href="https://github.com/shikijs/shiki">Shiki</a>. Подробнее в <a href="custom/highlighters">документации по подсветке синтаксиса</a>.<p>Вы можете использовать как один из них, так и оба. Примеры конфигураций дефолтной темы смотрите в <a href="https://github.com/slidevjs/slidev/blob/main/packages/theme-default/styles/prism.css"><code>./styles/prism.css</code></a> / <a href="https://github.com/slidevjs/slidev/blob/main/packages/theme-default/setup/shiki.ts"><code>./setup/shiki.ts</code></a>.<p>Также не забудьте указать поддерживаемую подсветку в вашем <code>package.json</code><pre class="language-json"><code class="language-json"><span class="token comment">// package.json</span>
<span class="token punctuation">{</span>
  <span class="token property">"slidev"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"highlighter"</span><span class="token operator">:</span> <span class="token string">"shiki"</span> <span class="token comment">// или "prism", или "all"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></section><section class="level3"aria-labelledby="версионирование-slidev"><h3 id="версионирование-slidev">Версионирование Slidev</h3><p>Если тема ссылается на определённую функцию Slidev, которая была недавно добавлена, то вы можете установить минимальную версию Slidev, необходимую для правильной работы вашей темы:<pre class="language-json"><code class="language-json"><span class="token comment">// package.json</span>
<span class="token punctuation">{</span>
  <span class="token property">"engines"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"slidev"</span><span class="token operator">:</span> <span class="token string">">=0.19.3"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p>Если пользователи будут использовать более старую версию Slidev, то будет выведена ошибка. <span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></section></section></section>