<!doctype html>
<html lang="ru">
  <head>
    <meta charset="utf-8">
    <title>Подсветка</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://raw.githubusercontent.com/shinokada/prism-coy-theme/main/theme_common.css">
  </head>
  <body>
    <section id="подсветка" class="level1">
      <h1>Подсветка</h1>
      <p>Slidev поставляется с двумя подсветками синтаксиса на выбор:</p>
      <ul>
        <li><a href="https://prismjs.com/">Prism</a></li>
        <li><a href="https://github.com/shikijs/shiki">Shiki</a></li>
      </ul>
      <p><strong>Prism</strong> - один из самых популярных инструментов подсветки синтаксиса. Подсветка выполняется путём добавления токенов в виде классов и стилизации их через CSS. Вы можете просмотреть <a href="https://github.com/PrismJS/prism-themes">официальные темы</a> или очень легко создать/настроить их самостоятельно, используя <a href="https://github.com/antfu/prism-theme-vars"><code>prism-theme-vars</code></a>.</p>
      <p><strong>Shiki</strong>, с другой стороны, представляет собой средство выделения синтаксиса на основе грамматики TextMate. Он генерирует цветовые токены, поэтому дополнительный CSS не требуется. Поскольку он имеет отличную поддержку грамматики, сгенерированные цвета очень точны, как, например, в VS Code. Shiki также поставляется с <a href="https://github.com/shikijs/shiki/blob/master/docs/themes.md">набором встроенных тем</a>. Обратной стороной Shiki является то, что для выделения также требуются темы TextMate (совместимые с темой VS Code), что может быть немного сложнее настроить.</p>
      <p>Темы Slidev обычно поддерживают как Prism, так и Shiki, но в зависимости от темы, которую вы используете, он может поддерживать только одну из них.</p>
      <p>Когда у вас есть выбор, компромисс заключается в следующем:</p>
      <ul>
        <li><strong>Prism</strong> – для лёгкой кастомизации</li>
        <li><strong>Shiki</strong> – для более аккуратной подсветки</li>
      </ul>
      <p>По умолчанию Slidev использует Prism. Вы можете изменить его в frontmatter:</p>
      <pre class="language-yaml"><code class="language-yaml"><span class="token punctuation">---</span>
<span class="token key atrule">highlighter</span><span class="token punctuation">:</span> shiki
<span class="token punctuation">---</span></code></pre>
      <section id="конфигурация-prism" class="level2">
        <h2>Конфигурация Prism</h2>
        <p>Чтобы настроить Prism, вы можете просто импортировать css тему или использовать <a href="https://github.com/antfu/prism-theme-vars"><code>prism-theme-vars</code></a> для настройки тем как для светлого, так и для тёмного режима. Обратитесь к документации Prism для получения более подробной информации.</p>
      </section>
      <section id="конфигурация-shiki" class="level2">
        <h2>Конфигурация Shiki</h2>
        <environment type="node">
          <p>Создайте файл <code>./setup/shiki.ts</code> со следующим содержанием:</p>
          <pre class="language-ts"><code class="language-ts"><span class="token comment">/* ./setup/shiki.ts */</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> defineShikiSetup <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@slidev/types'</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token function">defineShikiSetup</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
    theme<span class="token operator">:</span> <span class="token punctuation">{</span>
      dark<span class="token operator">:</span> <span class="token string">'min-dark'</span><span class="token punctuation">,</span>
      light<span class="token operator">:</span> <span class="token string">'min-light'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
          <p>Доступные имена тем можно посмотреть в <a href="https://github.com/shikijs/shiki/blob/master/docs/themes.md#all-themes">документации Shiki</a>.</p>
          <p>Или, если вы хотите использовать свою собственную тему:</p>
          <pre class="language-ts"><code class="language-ts"><span class="token comment">/* ./setup/shiki.ts */</span>

<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> defineShikiSetup <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@slidev/types'</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token function">defineShikiSetup</span><span class="token punctuation">(</span><span class="token keyword">async</span><span class="token punctuation">(</span><span class="token punctuation">{</span> loadTheme <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
    theme<span class="token operator">:</span> <span class="token punctuation">{</span>
      dark<span class="token operator">:</span> <span class="token keyword control-flow">await</span> <span class="token function">loadTheme</span><span class="token punctuation">(</span><span class="token string">'path/to/theme.json'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      light<span class="token operator">:</span> <span class="token keyword control-flow">await</span> <span class="token function">loadTheme</span><span class="token punctuation">(</span><span class="token string">'path/to/theme.json'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
          <p><span style="float: footnote;"><a href="../index.html#toc">Go to TOC</a></span></p>
        </environment>
      </section>
    </section>
  </body>
</html>
