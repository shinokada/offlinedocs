<!doctype html><html lang="es"><meta charset="utf-8"><title>Configurar Monaco</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"href="../../../../../../../../docs/themes/packages/prism-coy-theme/theme_common.css"><section id="configurar-monaco"class="level1"><h1>Configurar Monaco</h1><environment type="client"><p>Crea <code>./setup/monaco.ts</code> con el siguiente contenido:<pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> defineMonacoSetup <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@slidev/types'</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token function">defineMonacoSetup</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span>monaco<span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// usa `monaco` para configurarlo</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>Revisa más información sobre la <a href="https://github.com/Microsoft/monaco-editor">configuración de Mónaco</a>.<section id="uso"class="level2"><h2>Uso</h2><p>Para usar Monaco en tus diapositivas, simplemente añade <code>{monaco}</code> a tus fragmentos de código:<pre class="language-js"><code class="language-js"><span class="token comment">//```js</span>
<span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> plusOne <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> count<span class="token punctuation">.</span><span class="token property-access">value</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>

<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>plusOne<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span> <span class="token comment">// 2</span>

plusOne<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token operator">++</span> <span class="token comment">// error</span>
<span class="token comment">//```</span></code></pre><p>A<pre class="language-js"><code class="language-js"><span class="token comment">//```js {monaco}</span>
<span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> plusOne <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> count<span class="token punctuation">.</span><span class="token property-access">value</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>

<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>plusOne<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span> <span class="token comment">// 2</span>

plusOne<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token operator">++</span> <span class="token comment">// error</span>
<span class="token comment">//```</span></code></pre></section><section id="exportando"class="level2"><h2>Exportando</h2><p>Por defecto, Monaco sólo funcionará en modo <code>dev</code>. Si también quieres tenerlo disponible en el SPA exportado, puedes configurarlo en tu frontmatter:<pre class="language-yaml"><code class="language-yaml"><span class="token punctuation">---</span>
<span class="token key atrule">monaco</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># default "dev"</span>
<span class="token punctuation">---</span></code></pre></section><section id="instalación-automática-de-tipos"class="level2"><h2>Instalación automática de tipos</h2><p>Cuando se utiliza TypeScript con Monaco, los tipos para las dependencias se instalarán en el lado del cliente automáticamente.<pre class="language-ts"><code class="language-ts"><span class="token comment">//```ts {monaco}</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> ref <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vue'</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> useMouse <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@vueuse/core'</span>

<span class="token keyword">const</span> counter <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token comment">//```</span></code></pre><p>En el ejemplo anterior, solo asegúrate de que <code>vue</code> y <code>@vueuse/core</code> están instalados localmente bajo <code>dependencies</code> / <code>devDependencies</code>, ¡Slidev se encargará del resto y tu editor funcionará mágicamente!</section><section id="configurar-un-tema"class="level2"><h2>Configurar un tema</h2><p>El tema es controlado por Slidev basado en el tema claro/oscuro. Si quieres personalizarlo, puedes pasar el id del tema a las funciones de configuración:<pre class="language-ts"><code class="language-ts"><span class="token comment">// ./setup/monaco.ts</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> defineMonacoSetup <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@slidev/types'</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token function">defineMonacoSetup</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
    theme<span class="token operator">:</span> <span class="token punctuation">{</span>
      dark<span class="token operator">:</span> <span class="token string">'vs-dark'</span><span class="token punctuation">,</span>
      light<span class="token operator">:</span> <span class="token string">'vs'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>Si quieres cargar temas personalizados:<pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> defineMonacoSetup <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@slidev/types'</span>

<span class="token comment">// cambios a tus temas</span>
<span class="token keyword module">import</span> <span class="token imports">dark</span> <span class="token keyword module">from</span> <span class="token string">'theme-vitesse/themes/vitesse-dark.json'</span>
<span class="token keyword module">import</span> <span class="token imports">light</span> <span class="token keyword module">from</span> <span class="token string">'theme-vitesse/themes/vitesse-light.json'</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token function">defineMonacoSetup</span><span class="token punctuation">(</span><span class="token punctuation">(</span>monaco<span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  monaco<span class="token punctuation">.</span><span class="token property-access">editor</span><span class="token punctuation">.</span><span class="token method function property-access">defineTheme</span><span class="token punctuation">(</span><span class="token string">'vitesse-light'</span><span class="token punctuation">,</span> light <span class="token keyword module">as</span> <span class="token builtin">any</span><span class="token punctuation">)</span>
  monaco<span class="token punctuation">.</span><span class="token property-access">editor</span><span class="token punctuation">.</span><span class="token method function property-access">defineTheme</span><span class="token punctuation">(</span><span class="token string">'vitesse-dark'</span><span class="token punctuation">,</span> dark <span class="token keyword module">as</span> <span class="token builtin">any</span><span class="token punctuation">)</span>

  <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
    theme<span class="token operator">:</span> <span class="token punctuation">{</span>
      light<span class="token operator">:</span> <span class="token string">'vitesse-light'</span><span class="token punctuation">,</span>
      dark<span class="token operator">:</span> <span class="token string">'vitesse-dark'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><blockquote><p>Si estás creando un tema para Slidev, puedes usar el <code>import()</code> dinámico dentro de la función de configuración para obtener resultados con tree-shaking o code-splitting. <span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></blockquote></section></environment></section>