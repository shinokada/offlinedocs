<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <title>テーマを作成する</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://raw.githubusercontent.com/shinokada/prism-coy-theme/main/theme_common.css">
  </head>
  <body>
    <section id="テーマを作成する" class="level1">
      <h1>テーマを作成する</h1>
      <p>最初のテーマを作成するために、ジェネレータを作成することを推奨します。</p>
      <pre class="language-bash"><code class="language-bash">$ <span class="token function">npm</span> init slidev-theme</code></pre>
      <p>作成されたテーマを修正し、試すことができます。例として <a href="themes/gallery">公式テーマ</a>を参照することもできます。</p>
      <section id="できること" class="level2">
        <h2>できること</h2>
        <p>テーマでは次のことができます：</p>
        <ul>
          <li>グローバルスタイル</li>
          <li>デフォルトの設定を指定する (フォント、 カラースキーマ、 ハイライト、など）</li>
          <li>カスタムレイアウトを指定する、もしくは既存のレイアウトを上書きする</li>
          <li>カスタムコンポーネントを指定する、もしくは既存のコンポーネントを上書きする</li>
          <li>Windi CSSの設定を拡張する</li>
          <li>MonacoやPrismのようなツールの設定をする</li>
        </ul>
      </section>
      <section id="規約" class="level2">
        <h2>規約</h2>
        <p>テーマはnpmレジストリに公開され、以下の規約に従います。</p>
        <ul>
          <li>パッケージ名は<code>slidev-theme-</code>から始めます。例： <code>slidev-theme-awesome</code></li>
          <li><code>package.json</code>の<code>keywords</code>フィールドに、<code>slidev-theme</code>と<code>slidev</code>を追加します。</li>
        </ul>
      </section>
      <section id="セットアップ" class="level2">
        <h2>セットアップ</h2>
        <p>テーマのテスト用プレイグラウンドをセットアップするには、以下のようなフロントマターで<code>example.md</code>を作成し、現在のディレクトリをテーマとして使用することをSlidevに伝えます。</p>
        <pre class="language-md"><code class="language-md"><span class="token front-matter-block"><span class="token punctuation">---</span>
<span class="token front-matter yaml language-yaml">theme: ./</span>
<span class="token punctuation">---</span></span></code></pre>
        <p>オプションで、いくつかのスクリプトを<code>package.json</code>に追加することもできます。</p>
        <pre class="language-json"><code class="language-json"><span class="token comment">// package.json</span>
<span class="token punctuation">{</span>
  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"dev"</span><span class="token operator">:</span> <span class="token string">"slidev example.md"</span><span class="token punctuation">,</span>
    <span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"slidev build example.md"</span><span class="token punctuation">,</span>
    <span class="token property">"export"</span><span class="token operator">:</span> <span class="token string">"slidev export example.md"</span><span class="token punctuation">,</span>
    <span class="token property">"screenshot"</span><span class="token operator">:</span> <span class="token string">"slidev export example.md --format png"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
        <p>テーマを公開するには<code>npm publish</code>を実行すればOKです。ビルドプロセスは必要ありません（つまり、<code>.vue</code>と<code>.ts</code>ファイルを直接公開することができ、Slidevはスマートなのでそれらを読み込むことができます）。</p>
        <p>テーマのコントリビューションポイントはローカルカスタマイズと同じ規約に従います。<a href="custom/">命名規約についてはドキュメント</a>を参照してください。</p>
      </section>
      <section id="デフォルトの設定" class="level2">
        <h2>デフォルトの設定</h2>
        <blockquote>
          <p>v0.19から使用可能です</p>
        </blockquote>
        <p>テーマでは<code>package.json</code>を介して、デフォルトの<a href="custom/.html">設定</a></p>
        <pre class="language-json"><code class="language-json"><span class="token comment">// package.json</span>
<span class="token punctuation">{</span>
  <span class="token property">"slidev"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"default"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"aspectRatio"</span><span class="token operator">:</span> <span class="token string">"16/9"</span><span class="token punctuation">,</span>
      <span class="token property">"canvasWidth"</span><span class="token operator">:</span> <span class="token number">980</span><span class="token punctuation">,</span>
      <span class="token property">"fonts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"sans"</span><span class="token operator">:</span> <span class="token string">"Robot"</span><span class="token punctuation">,</span>
        <span class="token property">"mono"</span><span class="token operator">:</span> <span class="token string">"Fira Code"</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
        <p>フォントは<a href="https://fonts.google.com/">Google Fonts</a>から自動でインポートされます。</p>
        <p>詳細は<a href="custom/fonts">フォント</a>と<a href="/custom/.html">フロントマターの設定</a></p>
      </section>
      <section id="メタデータ" class="level2">
        <h2>メタデータ</h2>
        <section id="カラースキーマ" class="level3">
          <h3>カラースキーマ</h3>
          <p>デフォルトでは、Slidevはライトモードとダークモードの両方をサポートするテーマを想定しています。もしデザインされたカラースキーマだけでテーマを表示したいなら、<code>package.json</code>で明示的に指定する必要があります。</p>
          <pre class="language-json"><code class="language-json"><span class="token comment">// package.json</span>
<span class="token punctuation">{</span>
  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"slidev-theme-my-cool-theme"</span><span class="token punctuation">,</span>
  <span class="token property">"keywords"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">"slidev-theme"</span><span class="token punctuation">,</span>
    <span class="token string">"slidev"</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">"slidev"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"colorSchema"</span><span class="token operator">:</span> <span class="token string">"light"</span> <span class="token comment">// or "dark" or "both"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
          <p>テーマのスタイルを作成する際にダークモードにアクセスするには、ダークモード特有の設定を<code>dark</code>クラスで囲みます：</p>
          <pre class="language-css"><code class="language-css"><span class="token comment">/* 全体に適用されるCSS */</span>

<span class="token selector">html<span class="token pseudo-class">:not</span><span class="token punctuation">(</span><span class="token class">.dark</span><span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token comment">/* ライトモードのCSS */</span>
<span class="token punctuation">}</span>

<span class="token selector">html<span class="token class">.dark</span></span> <span class="token punctuation">{</span>
  <span class="token comment">/* ダークモードのCSS */</span>
<span class="token punctuation">}</span></code></pre>
          <p>Slidevはカラースキーマを切り替えるために、ページの<code>html</code>要素の<code>dark</code>クラスを切り替えます。</p>
        </section>
        <section id="シンタックスハイライト" class="level3">
          <h3>シンタックスハイライト</h3>
          <p>シンタックスハイライトの色もテーマで指定することができます。<a href="https://prismjs.com/">Prism</a>と<a href="https://github.com/shikijs/shiki">Shiki</a>の両方をサポートしています。詳細は<a href="custom/highlighters">シンタックスハイライトについてのドキュメント</a>を参照してください。</p>
          <p>どちらかだけをサポートすることもできます。サンプルとして、デフォルトテーマを参照してください <a href="https://github.com/slidevjs/slidev/blob/main/packages/create-theme/template/styles/code.css"><code>./styles/code.css</code></a> / <a href="https://github.com/slidevjs/slidev/blob/main/packages/create-theme/template/setup/shiki.ts"><code>./setup/shiki.ts</code></a></p>
          <p>また<code>package.json</code>でサポートしているシンタックスハイライトを指定することを忘れないでください。</p>
          <pre class="language-json"><code class="language-json"><span class="token comment">// package.json</span>
<span class="token punctuation">{</span>
  <span class="token property">"slidev"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"highlighter"</span><span class="token operator">:</span> <span class="token string">"shiki"</span> <span class="token comment">// or "prism" or "all"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
        </section>
        <section id="slidevのバージョン" class="level3">
          <h3>Slidevのバージョン</h3>
          <p>テーマが新しく追加されたSlidevの機能に依存している場合は、テーマが正しく動作するのに必要な最小のSlidevのバージョンを指定する必要があります。</p>
          <pre class="language-json"><code class="language-json"><span class="token comment">// package.json</span>
<span class="token punctuation">{</span>
  <span class="token property">"engines"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"slidev"</span><span class="token operator">:</span> <span class="token string">">=0.19.3"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
          <p>
            ユーザーが指定されたバージョンよりも古いSlidevを使用している場合、例外が発生します。
            <span style="float: footnote;"><a href="../index.html#toc">Go to TOC</a></span>
          </p>
        </section>
      </section>
    </section>
  </body>
</html>
