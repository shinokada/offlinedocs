<!doctype html><html lang="ja"><meta charset="utf-8"><title>アニメーション</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"href="../../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="アニメーション"><h1 id="アニメーション">アニメーション</h1><section class="level2"aria-labelledby="クリックアニメーション"><h2 id="クリックアニメーション">クリックアニメーション</h2><section class="level3"aria-labelledby="v-click"><h3 id="v-click"><code>v-click</code></h3><p>要素に対して"クリックアニメーション"を適用するには、<code>v-click</code>ディレクティブか<code>&#x3C;v-click></code>コンポーネントを使用することができます。<pre class="language-md"><code class="language-md"><span class="token title important"><span class="token punctuation">#</span> Hello</span>

<span class="token comment">&#x3C;!-- コンポーネントの使い方: "次へ"を押すまで、ここから下の内容は表示されません --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-click</span><span class="token punctuation">></span></span>

Hello World

<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-click</span><span class="token punctuation">></span></span>

<span class="token comment">&#x3C;!-- ディレクティブの使い方: 2回目の"次へ"を押すまで、ここから下の内容は表示されません --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">v-click</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-xl p-2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

Hey!

<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span></code></pre></section><section class="level3"aria-labelledby="v-after"><h3 id="v-after"><code>v-after</code></h3><p><code>v-after</code>は<code>v-click</code>に似ていますが、直前の<code>v-click</code>がトリガーされたときに要素を可視化します。<pre class="language-md"><code class="language-md"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">v-click</span><span class="token punctuation">></span></span>Hello<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">v-after</span><span class="token punctuation">></span></span>World<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span></code></pre><p>"次へ"ボタンを押した時に、<code>Hello</code>と<code>World</code>の両方が一緒に表示されます。</section><section class="level3"aria-labelledby="v-click-hide"><h3 id="v-click-hide"><code>v-click-hide</code></h3><p><code>v-click</code>と同じですが、要素を表示するのではなく、クリックした後に要素を非表示にします。<pre class="language-md"><code class="language-md"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">v-click-hide</span><span class="token punctuation">></span></span>Hello<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span></code></pre></section><section class="level3"aria-labelledby="v-clicks"><h3 id="v-clicks"><code>v-clicks</code></h3><p><code>v-clicks</code>はコンポーネントとしてのみ提供されています。これは<code>v-click</code>ディレクティブをそのすべての子要素に適用するためのショートハンドです。特にリストを扱う場合に便利です。<pre class="language-md"><code class="language-md"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-clicks</span><span class="token punctuation">></span></span>

<span class="token list punctuation">-</span> Item 1
<span class="token list punctuation">-</span> Item 2
<span class="token list punctuation">-</span> Item 3
<span class="token list punctuation">-</span> Item 4

<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-clicks</span><span class="token punctuation">></span></span></code></pre><p>"次へ"をクリックするたびに、項目が表示されるようになります。</section><section class="level3"aria-labelledby="カスタムクリックカウント"><h3 id="カスタムクリックカウント">カスタムクリックカウント</h3><p>デフォルトでは、Slidevは次のスライドに進む前に必要なステップ数をカウントします。<code>clicks</code>というフロントマターオプションを記述することで、この設定をオーバーライドできます。<pre class="language-yaml"><code class="language-yaml"><span class="token punctuation">---</span>
<span class="token comment"># このスライドでは、次のスライドに進むまでに10回クリックする</span>
<span class="token key atrule">clicks</span><span class="token punctuation">:</span> <span class="token number">10</span>
<span class="token punctuation">---</span></code></pre></section><section class="level3"aria-labelledby="並び替え"><h3 id="並び替え">並び替え</h3><p>ディレクティブにクリックインデックスを渡すことで、公開する順番をカスタマイズすることができます。<pre class="language-md"><code class="language-md"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">v-click</span><span class="token punctuation">></span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">v-click</span><span class="token punctuation">></span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">v-click</span><span class="token punctuation">></span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span></code></pre><pre class="language-md"><code class="language-md"><span class="token comment">&#x3C;!-- 順番が逆転する --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">v-click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">v-click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">v-click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span></code></pre><pre class="language-md"><code class="language-md"><span class="token front-matter-block"><span class="token punctuation">---</span>
<span class="token front-matter yaml language-yaml">clicks: 3</span>
<span class="token punctuation">---</span></span>

<span class="token comment">&#x3C;!-- 3回クリックした後に見えるようになる --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>v-clicks</span> <span class="token attr-name">at</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span><span class="token punctuation">></span></span>Hi<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>v-clicks</span><span class="token punctuation">></span></span></code></pre></section><section class="level3"aria-labelledby="要素のトランジション"><h3 id="要素のトランジション">要素のトランジション</h3><p>要素に<code>v-click</code>ディレクティブを適用すると、<code>slidev-vclick-target</code>というクラス名が付与されます。要素が非表示になった場合、クラス名<code>slidev-vclick-hidden</code>が付与されます。例：<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>slidev-vclick-target slidev-vclick-hidden<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>テキスト<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span></code></pre><p>クリックすると、以下のようになります<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>slidev-vclick-target<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>テキスト<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span></code></pre><p>デフォルトでは、これらのクラスにはわずかな透明度のトランジションが適用されます。<pre class="language-css"><code class="language-css"><span class="token selector">// デフォルト

<span class="token class">.slidev-vclick-target</span></span> <span class="token punctuation">{</span>
  <span class="token property">transition</span><span class="token punctuation">:</span> opacity <span class="token number">100</span><span class="token unit">ms</span> ease<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.slidev-vclick-hidden</span></span> <span class="token punctuation">{</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token property">pointer-events</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>トランジション効果をカスタマイズするために、カスタムスタイルシートでそれらをオーバーライドすることができます。<p>例えば、スケールアップのトランジションは次のようにして実現することができます：<pre class="language-css"><code class="language-css"><span class="token selector">// styles<span class="token class">.css</span>

<span class="token class">.slidev-vclick-target</span></span> <span class="token punctuation">{</span>
  <span class="token property">transition</span><span class="token punctuation">:</span> all <span class="token number">500</span><span class="token unit">ms</span> ease<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.slidev-vclick-hidden</span></span> <span class="token punctuation">{</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>特定のスライドもしくはレイアウトにのみアニメーションを適用する場合<pre class="language-scss"><code class="language-scss"><span class="token selector">.slidev-page-7,
.slidev-layout.my-custom-layout </span><span class="token punctuation">{</span>
  <span class="token selector">.slidev-vclick-target </span><span class="token punctuation">{</span>
    <span class="token property">transition</span><span class="token punctuation">:</span> all <span class="token number">500</span><span class="token unit">ms</span> ease<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.slidev-vclick-hidden </span><span class="token punctuation">{</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p>詳細は<a href="custom/directory-structure.html">スタイルのカスタマイズ</a></section></section><section class="level2"aria-labelledby="モーション"><h2 id="モーション">モーション</h2><p>Slidevは<a href="https://motion.vueuse.org/">@vueuse/motion</a>を内蔵しています。任意の要素にモーションを適用するために<code>v-motion</code>ディレクティブを使用することができます。例：<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span>
  <span class="token attr-name">v-motion</span>
  <span class="token attr-name">:initial</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{ x: -80 }<span class="token punctuation">"</span></span>
  <span class="token attr-name">:enter</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{ x: 0 }<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  Slidev
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span></code></pre><p><code>Slidev</code>というテキストは初期化時に<code>-80px</code>から元の位置へ移動します。<blockquote><p>注: Slidevはパフォーマンスのために次のスライドをプリロードします、つまり、ページに遷移する前にアニメーションが始まる可能性があります。正しく動作させるために、特定のスライドに対してプリロードを無効にすることができます。<pre class="language-md"><code class="language-md"><span class="token front-matter-block"><span class="token punctuation">---</span>
<span class="token front-matter yaml language-yaml">preload: false</span>
<span class="token punctuation">---</span></span></code></pre><p>もしくは要素のライフサイクルを<code>v-if</code>で制御することで、きめ細やかな制御を行うこともできます。<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span>
  <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$slidev.nav.currentPage === 7<span class="token punctuation">"</span></span>
  <span class="token attr-name">v-motion</span>
  <span class="token attr-name">:initial</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{ x: -80 }<span class="token punctuation">"</span></span>
  <span class="token attr-name">:enter</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{ x: 0 }<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  Slidev
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span></code></pre></blockquote><p>詳細： <a href="https://sli.dev/demo/starter/7">デモ</a> | <a href="https://motion.vueuse.org/">@vueuse/motion</a> | <a href="https://motion.vueuse.org/directive-usage.html">v-motion</a> | <a href="https://motion.vueuse.org/presets.html">Presets</a></section><section class="level2"aria-labelledby="ページのトランジション"><h2 id="ページのトランジション">ページのトランジション</h2><blockquote><p>現在のバージョンでは、スライドのビルトインサポートはまだ提供されていません。次のメジャーバージョンでサポートする予定です。それまでは、カスタムスタイルやライブラリを使ってスライドを作成することができます。 <span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></blockquote></section></section>