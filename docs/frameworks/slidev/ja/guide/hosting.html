<!doctype html><html lang="ja"><meta charset="utf-8"><title>静的ホスティング</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"type="text/css"href="../../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="静的ホスティング"><h1 id="静的ホスティング">静的ホスティング</h1><section class="level2"aria-labelledby="シングルページアプリケーションspaを構築する"><h2 id="シングルページアプリケーションspaを構築する">シングルページアプリケーション(SPA)を構築する</h2><p>スライドをセルフホスティング可能なSPAとして構築することができます：<pre class="language-bash"><code class="language-bash">$ slidev build</code></pre><p>生成されたアプリケーションは<code>dist/</code>の配下に配置され、<a href="https://pages.github.com/">GitHub Pages</a>、<a href="https://netlify.app/">Netlify</a>、<a href="https://vercel.com/">Vercel</a>など、好きな場所にホストすることができます。これでリンク1つで世界中の人とスライドを共有することできます。<section class="level3"aria-labelledby="ベースパス"><h3 id="ベースパス">ベースパス</h3><p>サブルート下にスライドをデプロイするには、<code>--base</code>オプションを指定する必要があります。例：<pre class="language-bash"><code class="language-bash">$ slidev build --base /talks/my-cool-talk/</code></pre><p>詳細は<a href="https://vitejs.dev/guide/build.html#public-base-path">Viteのドキュメント</a>を参照してください。</section><section class="level3"aria-labelledby="ダウンロード可能なpdfを提供する"><h3 id="ダウンロード可能なpdfを提供する">ダウンロード可能なPDFを提供する</h3><p>以下の設定により、SPAの閲覧者向けにダウンロード可能なPDFを提供することができます：<pre class="language-md"><code class="language-md"><span class="token front-matter-block"><span class="token punctuation">---</span>
<span class="token front-matter yaml language-yaml">download: true</span>
<span class="token punctuation">---</span></span></code></pre><p>Slidevはビルドと一緒にPDFファイルを生成し、SPAにダウンロードボタンが表示されます。<p>またPDFに対してカスタムURLを指定することもできます。その場合、レンダリング処理はスキップされます。<pre class="language-md"><code class="language-md"><span class="token front-matter-block"><span class="token punctuation">---</span>
<span class="token front-matter yaml language-yaml">download: 'https://myside.com/my-talk.pdf'</span>
<span class="token punctuation">---</span></span></code></pre></section></section><section class="level2"aria-labelledby="サンプル"><h2 id="サンプル">サンプル</h2><p>以下はSPAとしてエクスポートされた例です：<ul><li><a href="https://sli.dev/demo/starter">Starter Template</a><li><a href="https://talks.antfu.me/2021/composable-vue">Composable Vue</a> by <a href="https://github.com/antfu">Anthony Fu</a></ul><p>詳しくは<a href="showcases">ショーケース</a>を参照してください。</section><section class="level2"aria-labelledby="ホスティング"><h2 id="ホスティング">ホスティング</h2><p><code>npm init slidev@lastest</code>を使って、サービスをそのままホスティングするために必要な設定ファイルが含まれたプロジェクトの雛形を生成することを推奨します。<section class="level3"aria-labelledby="netlify"><h3 id="netlify">Netlify</h3><ul><li><a href="https://netlify.com/">Netlify</a></ul><p>プロジェクトルートに以下の内容で<code>netlify.toml</code>を作成します。<pre class="language-ts"><code class="language-ts"><span class="token punctuation">[</span>build<span class="token punctuation">.</span><span class="token property-access">environment</span><span class="token punctuation">]</span>
  <span class="token constant">NODE_VERSION</span> <span class="token operator">=</span> <span class="token string">"14"</span>

<span class="token punctuation">[</span>build<span class="token punctuation">]</span>
  publish <span class="token operator">=</span> <span class="token string">"dist"</span>
  command <span class="token operator">=</span> <span class="token string">"npm run build"</span>

<span class="token punctuation">[</span><span class="token punctuation">[</span>redirects<span class="token punctuation">]</span><span class="token punctuation">]</span>
  <span class="token keyword module">from</span> <span class="token operator">=</span> <span class="token string">"/*"</span>
  to <span class="token operator">=</span> <span class="token string">"/index.html"</span>
  status <span class="token operator">=</span> <span class="token number">200</span></code></pre><p>Netlifyのダッシュボードを開き、リポジトリを指定して新しいサイトを作成してください。</section><section class="level3"aria-labelledby="vercel"><h3 id="vercel">Vercel</h3><ul><li><a href="https://vercel.com/">Vercel</a></ul><p>プロジェクトルートに以下の内容で<code>vercel.json</code>を作成します。<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"rewrites"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token property">"source"</span><span class="token operator">:</span> <span class="token string">"/(.*)"</span><span class="token punctuation">,</span> <span class="token property">"destination"</span><span class="token operator">:</span> <span class="token string">"/index.html"</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre><p>Vercelのダッシュボードを開き、リポジトリを指定して新しいサイトを作成してください。</section></section><section class="level2"aria-labelledby="github-pages"><h2 id="github-pages">GitHub Pages</h2><ul><li><a href="https://pages.github.com/">GitHub Pages</a></ul><p>GitHub Actionsを使用してGitHub Pagesにスライドをデプロイするために、以下の内容で<code>.github/workflows/deploy.yml</code>を作成してください。<pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy pages
<span class="token key atrule">on</span><span class="token punctuation">:</span> push
<span class="token key atrule">jobs</span><span class="token punctuation">:</span>
  <span class="token key atrule">deploy</span><span class="token punctuation">:</span>
    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest
    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v2
      <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>node@v2
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">node-version</span><span class="token punctuation">:</span> <span class="token string">'14'</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Install dependencies
        <span class="token key atrule">run</span><span class="token punctuation">:</span> npm install
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Build
        <span class="token key atrule">run</span><span class="token punctuation">:</span> npm run build
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy pages
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> crazy<span class="token punctuation">-</span>max/ghaction<span class="token punctuation">-</span>github<span class="token punctuation">-</span>pages@v2
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">build_dir</span><span class="token punctuation">:</span> dist
        <span class="token key atrule">env</span><span class="token punctuation">:</span>
          <span class="token key atrule">GITHUB_TOKEN</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.GITHUB_TOKEN <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p><span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></section></section>