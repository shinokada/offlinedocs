<!doctype html><html lang="en"><meta charset="utf-8"><title>Configure Monaco</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"type="text/css"href="../../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="configure-monaco"><h1 id="configure-monaco">Configure Monaco</h1><environment type="client"><p>Create <code>./setup/monaco.ts</code> with the following content:<pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> defineMonacoSetup <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@slidev/types'</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token function">defineMonacoSetup</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span>monaco<span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// use `monaco` to configure</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>Learn more about <a href="https://github.com/Microsoft/monaco-editor">configuring Monaco</a>.<section class="level2"aria-labelledby="usage"><h2 id="usage">Usage</h2><p>To use Monaco in your slides, simply append <code>{monaco}</code> to your code snippets:<pre class="language-md"><code class="language-md"><span class="token code"><span class="token punctuation">```</span><span class="token code-language">js {monaco} // [!code ++]</span>
<span class="token code-block language-js"><span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> plusOne <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> count<span class="token punctuation">.</span><span class="token property-access">value</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>

<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>plusOne<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span> <span class="token comment">// 2</span>

plusOne<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token operator">++</span> <span class="token comment">// error</span></span>
<span class="token punctuation">```</span></span></code></pre></section><section class="level2"aria-labelledby="typescript-types"><h2 id="typescript-types">TypeScript Types</h2><p>When use TypeScript with Monaco, types for dependencies will be installed to the client-side automatically.<pre class="language-md"><code class="language-md"><span class="token code"><span class="token punctuation">```</span><span class="token code-language">ts {monaco}</span>
<span class="token code-block language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> ref <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vue'</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> useMouse <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@vueuse/core'</span>

<span class="token keyword">const</span> counter <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></span>
<span class="token punctuation">```</span></span></code></pre><p>In the example above, make sure <code>vue</code> and <code>@vueuse/core</code> are installed locally as dependencies / devDependencies, Slidev will handle the rest to get the types working for the editor automatically. When deploy as SPA, those types will also be bundled for static hosting.<section class="level3"aria-labelledby="additional-types"><h3 id="additional-types">Additional Types</h3><p>Slidev will scan all the monaco codeblocks in your slides and import the types for those used libraries for you. In case it missed some, you can explicitly specify extra packages to import the types for:<pre class="language-md"><code class="language-md"><span class="token front-matter-block"><span class="token punctuation">---</span>
<span class="token front-matter yaml language-yaml">monacoTypesAdditionalPackages:
  - lodash-es
  - foo</span>
<span class="token punctuation">---</span></span></code></pre></section><section class="level3"aria-labelledby="auto-type-acquisition"><h3 id="auto-type-acquisition">Auto Type Acquisition</h3><p>You can optionally switch to load types from CDN by setting the following headmatter:<pre class="language-md"><code class="language-md"><span class="token front-matter-block"><span class="token punctuation">---</span>
<span class="token front-matter yaml language-yaml">monacoTypesSource: ata</span>
<span class="token punctuation">---</span></span></code></pre><p>This feature is powered by <a href="https://github.com/microsoft/TypeScript-Website/tree/v2/packages/ata"><code>@typescript/ata</code></a> and runs completely on the client-side.</section></section><section class="level2"aria-labelledby="configure-themes"><h2 id="configure-themes">Configure Themes</h2><p>Since v0.48.0, Monaco will reuse the Shiki theme you configured in <a href="custom/highlighters.html">Shiki's setup file</a> powered by <a href="https://shiki.style/packages/monaco"><code>@shikijs/monaco</code></a>. You don't need to worry about it anymore and it will have a consistent style with the rest of your code blocks.</section><section class="level2"aria-labelledby="configure-the-editor"><h2 id="configure-the-editor">Configure the Editor</h2><blockquote><p>Available since v0.43.0</blockquote><p>If you would like to customize the Monaco editor you may pass an <code>editorOptions</code> object that matches the <a href="https://microsoft.github.io/monaco-editor/docs.html#interfaces/editor.IEditorOptions.html">Monaco IEditorOptions</a> definition.<pre class="language-md"><code class="language-md"><span class="token code"><span class="token punctuation">```</span><span class="token code-language">ts {monaco} { editorOptions: { wordWrap:'on'} }</span>
<span class="token code-block language-ts"><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'HelloWorld'</span><span class="token punctuation">)</span></span>
<span class="token punctuation">```</span></span></code></pre><p>Alternatively if you would like these options to be applied to every Monaco instance, you can return them in the <code>defineMonacoSetup</code> function<pre class="language-ts"><code class="language-ts"><span class="token comment">// ./setup/monaco.ts</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> defineMonacoSetup <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@slidev/types'</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token function">defineMonacoSetup</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
    editorOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
      wordWrap<span class="token operator">:</span> <span class="token string">'on'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></section><section class="level2"aria-labelledby="disabling"><h2 id="disabling">Disabling</h2><p>Since v0.48.0, Monaco editor is enabled by default and only be bundled when you use it. If you want to disable it, you can set <code>monaco</code> to <code>false</code> in the frontmatter of your slide:<pre class="language-yaml"><code class="language-yaml"><span class="token punctuation">---</span>
<span class="token key atrule">monaco</span><span class="token punctuation">:</span> <span class="token boolean important">false</span> <span class="token comment"># can also be `dev` or `build` tp conditionally enable it</span>
<span class="token punctuation">---</span></code></pre><p><span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></section></environment></section>