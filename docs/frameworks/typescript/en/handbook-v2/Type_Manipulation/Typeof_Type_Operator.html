<!doctype html><html lang="en"><meta charset="utf-8"><title>Typeof Type Operator</title><meta name="viewport"content="width=device-width,initial-scale=1"><meta name="layout"content="docs"><meta name="permalink"content="/docs/handbook/2/typeof-types.html"><meta name="oneline"content="Using the typeof operator in type contexts."><link rel="stylesheet"href="../../../../../../../../../docs/themes/packages/prism-coy-theme/theme_common.css"><section id="the-typeof-type-operator"class="level2"><h2>The <code>typeof</code> type operator</h2><p>JavaScript already has a <code>typeof</code> operator you can use in an <em>expression</em> context:<pre class="language-ts"><code class="language-ts"><span class="token comment">// Prints "string"</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token string">"Hello world"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>TypeScript adds a <code>typeof</code> operator you can use in a <em>type</em> context to refer to the <em>type</em> of a variable or property:<pre class="language-ts"><code class="language-ts"><span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token string">"hello"</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> n<span class="token operator">:</span> <span class="token keyword">typeof</span> s<span class="token punctuation">;</span>
<span class="token comment">//  ^?</span></code></pre><p>This isn't very useful for basic types, but combined with other type operators, you can use <code>typeof</code> to conveniently express many patterns. For an example, let's start by looking at the predefined type <code>ReturnType&#x3C;T></code>. It takes a <em>function type</em> and produces its return type:<pre class="language-ts"><code class="language-ts"><span class="token keyword">type</span> <span class="token class-name"><span class="token maybe-class-name">Predicate</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">K</span></span> <span class="token operator">=</span> <span class="token maybe-class-name">ReturnType</span><span class="token operator">&#x3C;</span><span class="token maybe-class-name">Predicate</span><span class="token operator">></span><span class="token punctuation">;</span>
<span class="token comment">//   ^?</span></code></pre><p>If we try to use <code>ReturnType</code> on a function name, we see an instructive error:<pre class="language-ts"><code class="language-ts"><span class="token comment">// @errors: 2749</span>
<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">P</span></span> <span class="token operator">=</span> <span class="token maybe-class-name">ReturnType</span><span class="token operator">&#x3C;</span>f<span class="token operator">></span><span class="token punctuation">;</span></code></pre><p>Remember that <em>values</em> and <em>types</em> aren't the same thing. To refer to the <em>type</em> that the <em>value <code>f</code></em> has, we use <code>typeof</code>:<pre class="language-ts"><code class="language-ts"><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">P</span></span> <span class="token operator">=</span> <span class="token maybe-class-name">ReturnType</span><span class="token operator">&#x3C;</span><span class="token keyword">typeof</span> f<span class="token operator">></span><span class="token punctuation">;</span>
<span class="token comment">//   ^?</span></code></pre><section id="limitations"class="level3"><h3>Limitations</h3><p>TypeScript intentionally limits the sorts of expressions you can use <code>typeof</code> on.<p>Specifically, it's only legal to use <code>typeof</code> on identifiers (i.e. variable names) or their properties. This helps avoid the confusing trap of writing code you think is executing, but isn't:<pre class="language-ts"><code class="language-ts"><span class="token comment">// @errors: 1005</span>
<span class="token keyword">declare</span> <span class="token keyword">const</span> <span class="token function-variable function">msgbox</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
<span class="token comment">// type msgbox = any;</span>
<span class="token comment">// ---cut---</span>
<span class="token comment">// Meant to use = ReturnType&#x3C;typeof msgbox></span>
<span class="token keyword">let</span> shouldContinue<span class="token operator">:</span> <span class="token keyword">typeof</span> <span class="token function">msgbox</span><span class="token punctuation">(</span><span class="token string">"Are you sure you want to continue?"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><span style="float:footnote"><a href="../../index.html#toc">Go to TOC</a></span></section></section>