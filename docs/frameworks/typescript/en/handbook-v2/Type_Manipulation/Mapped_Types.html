<!doctype html><html lang="en"><meta charset="utf-8"><title>Mapped Types</title><meta name="viewport"content="width=device-width,initial-scale=1"><meta name="layout"content="docs"><meta name="permalink"content="/docs/handbook/2/mapped-types.html"><meta name="oneline"content="Generating types by re-using an existing type."><link rel="stylesheet"href="../../../../../../../../../docs/themes/packages/prism-coy-theme/theme_common.css"><p>When you don't want to repeat yourself, sometimes a type needs to be based on another type.<p>Mapped types build on the syntax for index signatures, which are used to declare the types of properties which have not been declared ahead of time:<pre class="language-ts"><code class="language-ts"><span class="token keyword">type</span> <span class="token class-name"><span class="token maybe-class-name">Horse</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// ---cut---</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token maybe-class-name">OnlyBoolsAndHorses</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">|</span> <span class="token maybe-class-name">Horse</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> conforms<span class="token operator">:</span> <span class="token maybe-class-name">OnlyBoolsAndHorses</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  del<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  rodney<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>A mapped type is a generic type which uses a union of <code>PropertyKey</code>s (frequently created <a href="/docs/handbook/2/indexed-access-types.html">via a <code>keyof</code></a>) to iterate through keys to create a type:<pre class="language-ts"><code class="language-ts"><span class="token keyword">type</span> <span class="token class-name"><span class="token maybe-class-name">OptionsFlags</span><span class="token operator">&#x3C;</span><span class="token maybe-class-name">Type</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token maybe-class-name">Property</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token maybe-class-name">Type</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>In this example, <code>OptionsFlags</code> will take all the properties from the type <code>Type</code> and change their values to be a boolean.<pre class="language-ts"><code class="language-ts"><span class="token keyword">type</span> <span class="token class-name"><span class="token maybe-class-name">OptionsFlags</span><span class="token operator">&#x3C;</span><span class="token maybe-class-name">Type</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token maybe-class-name">Property</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token maybe-class-name">Type</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// ---cut---</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token maybe-class-name">FeatureFlags</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">darkMode</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token keyword">void</span><span class="token punctuation">;</span>
  <span class="token function-variable function">newUserProfile</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token maybe-class-name">FeatureOptions</span></span> <span class="token operator">=</span> <span class="token maybe-class-name">OptionsFlags</span><span class="token operator">&#x3C;</span><span class="token maybe-class-name">FeatureFlags</span><span class="token operator">></span><span class="token punctuation">;</span>
<span class="token comment">//   ^?</span></code></pre><section id="mapping-modifiers"class="level3"><h3>Mapping Modifiers</h3><p>There are two additional modifiers which can be applied during mapping: <code>readonly</code> and <code>?</code> which affect mutability and optionality respectively.<p>You can remove or add these modifiers by prefixing with <code>-</code> or <code>+</code>. If you don't add a prefix, then <code>+</code> is assumed.<pre class="language-ts"><code class="language-ts"><span class="token comment">// Removes 'readonly' attributes from a type's properties</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token maybe-class-name">CreateMutable</span><span class="token operator">&#x3C;</span><span class="token maybe-class-name">Type</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">-</span><span class="token keyword">readonly</span> <span class="token punctuation">[</span><span class="token maybe-class-name">Property</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token maybe-class-name">Type</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token maybe-class-name">Type</span><span class="token punctuation">[</span><span class="token maybe-class-name">Property</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token maybe-class-name">LockedAccount</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">readonly</span> id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token keyword">readonly</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token maybe-class-name">UnlockedAccount</span></span> <span class="token operator">=</span> <span class="token maybe-class-name">CreateMutable</span><span class="token operator">&#x3C;</span><span class="token maybe-class-name">LockedAccount</span><span class="token operator">></span><span class="token punctuation">;</span>
<span class="token comment">//   ^?</span></code></pre><pre class="language-ts"><code class="language-ts"><span class="token comment">// Removes 'optional' attributes from a type's properties</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token maybe-class-name">Concrete</span><span class="token operator">&#x3C;</span><span class="token maybe-class-name">Type</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token maybe-class-name">Property</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token maybe-class-name">Type</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">?</span><span class="token operator">:</span> <span class="token maybe-class-name">Type</span><span class="token punctuation">[</span><span class="token maybe-class-name">Property</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token maybe-class-name">MaybeUser</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  name<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token maybe-class-name">User</span></span> <span class="token operator">=</span> <span class="token maybe-class-name">Concrete</span><span class="token operator">&#x3C;</span><span class="token maybe-class-name">MaybeUser</span><span class="token operator">></span><span class="token punctuation">;</span>
<span class="token comment">//   ^?</span></code></pre></section><section id="key-remapping-via-as"class="level2"><h2>Key Remapping via <code>as</code></h2><p>In TypeScript 4.1 and onwards, you can re-map keys in mapped types with an <code>as</code> clause in a mapped type:<pre class="language-ts"><code class="language-ts"><span class="token keyword">type</span> <span class="token class-name"><span class="token maybe-class-name">MappedTypeWithNewProperties</span><span class="token operator">&#x3C;</span><span class="token maybe-class-name">Type</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token maybe-class-name">Properties</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token maybe-class-name">Type</span> <span class="token keyword module">as</span> <span class="token maybe-class-name">NewKeyType</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token maybe-class-name">Type</span><span class="token punctuation">[</span><span class="token maybe-class-name">Properties</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre><p>You can leverage features like <a href="/docs/handbook/2/template-literal-types.html">template literal types</a> to create new property names from prior ones:<pre class="language-ts"><code class="language-ts"><span class="token keyword">type</span> <span class="token class-name"><span class="token maybe-class-name">Getters</span><span class="token operator">&#x3C;</span><span class="token maybe-class-name">Type</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token maybe-class-name">Property</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token maybe-class-name">Type</span> <span class="token keyword module">as</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">get</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token maybe-class-name">Capitalize</span><span class="token operator">&#x3C;</span><span class="token builtin">string</span> <span class="token operator">&#x26;</span> <span class="token maybe-class-name">Property</span><span class="token operator">></span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token maybe-class-name">Type</span><span class="token punctuation">[</span><span class="token maybe-class-name">Property</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name"><span class="token maybe-class-name">Person</span></span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token dom variable">location</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token maybe-class-name">LazyPerson</span></span> <span class="token operator">=</span> <span class="token maybe-class-name">Getters</span><span class="token operator">&#x3C;</span><span class="token maybe-class-name">Person</span><span class="token operator">></span><span class="token punctuation">;</span>
<span class="token comment">//   ^?</span></code></pre><p>You can filter out keys by producing <code>never</code> via a conditional type:<pre class="language-ts"><code class="language-ts"><span class="token comment">// Remove the 'kind' property</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token maybe-class-name">RemoveKindField</span><span class="token operator">&#x3C;</span><span class="token maybe-class-name">Type</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token maybe-class-name">Property</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token maybe-class-name">Type</span> <span class="token keyword module">as</span> <span class="token maybe-class-name">Exclude</span><span class="token operator">&#x3C;</span><span class="token maybe-class-name">Property</span><span class="token punctuation">,</span> <span class="token string">"kind"</span><span class="token operator">></span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token maybe-class-name">Type</span><span class="token punctuation">[</span><span class="token maybe-class-name">Property</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name"><span class="token maybe-class-name">Circle</span></span> <span class="token punctuation">{</span>
    kind<span class="token operator">:</span> <span class="token string">"circle"</span><span class="token punctuation">;</span>
    radius<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token maybe-class-name">KindlessCircle</span></span> <span class="token operator">=</span> <span class="token maybe-class-name">RemoveKindField</span><span class="token operator">&#x3C;</span><span class="token maybe-class-name">Circle</span><span class="token operator">></span><span class="token punctuation">;</span>
<span class="token comment">//   ^?</span></code></pre><p>You can map over arbitrary unions, not just unions of <code>string | number | symbol</code>, but unions of any type:<pre class="language-ts"><code class="language-ts"><span class="token keyword">type</span> <span class="token class-name"><span class="token maybe-class-name">EventConfig</span><span class="token operator">&#x3C;</span><span class="token maybe-class-name">Events</span> <span class="token keyword">extends</span> <span class="token punctuation">{</span> kind<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token constant">E</span> <span class="token keyword">in</span> <span class="token maybe-class-name">Events</span> <span class="token keyword module">as</span> <span class="token constant">E</span><span class="token punctuation">[</span><span class="token string">"kind"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token punctuation">(</span>event<span class="token operator">:</span> <span class="token constant">E</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token maybe-class-name">SquareEvent</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span> kind<span class="token operator">:</span> <span class="token string">"square"</span><span class="token punctuation">,</span> x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token maybe-class-name">CircleEvent</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span> kind<span class="token operator">:</span> <span class="token string">"circle"</span><span class="token punctuation">,</span> radius<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token maybe-class-name">Config</span></span> <span class="token operator">=</span> <span class="token maybe-class-name">EventConfig</span><span class="token operator">&#x3C;</span><span class="token maybe-class-name">SquareEvent</span> <span class="token operator">|</span> <span class="token maybe-class-name">CircleEvent</span><span class="token operator">></span>
<span class="token comment">//   ^?</span></code></pre><section id="further-exploration"class="level3"><h3>Further Exploration</h3><p>Mapped types work well with other features in this type manipulation section, for example here is <a href="/docs/handbook/2/conditional-types.html">a mapped type using a conditional type</a> which returns either a <code>true</code> or <code>false</code> depending on whether an object has the property <code>pii</code> set to the literal <code>true</code>:<pre class="language-ts"><code class="language-ts"><span class="token keyword">type</span> <span class="token class-name"><span class="token maybe-class-name">ExtractPII</span><span class="token operator">&#x3C;</span><span class="token maybe-class-name">Type</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token maybe-class-name">Property</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token maybe-class-name">Type</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token maybe-class-name">Type</span><span class="token punctuation">[</span><span class="token maybe-class-name">Property</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token punctuation">{</span> pii<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token maybe-class-name">DBFields</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token punctuation">{</span> format<span class="token operator">:</span> <span class="token string">"incrementing"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  name<span class="token operator">:</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> pii<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token maybe-class-name">ObjectsNeedingGDPRDeletion</span></span> <span class="token operator">=</span> <span class="token maybe-class-name">ExtractPII</span><span class="token operator">&#x3C;</span><span class="token maybe-class-name">DBFields</span><span class="token operator">></span><span class="token punctuation">;</span>
<span class="token comment">//   ^?</span></code></pre><p><span style="float:footnote"><a href="../../index.html#toc">Go to TOC</a></span></section></section>