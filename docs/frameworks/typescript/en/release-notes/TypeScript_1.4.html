<!doctype html><html lang="en"><meta charset="utf-8"><title>TypeScript 1.4</title><meta name="viewport"content="width=device-width,initial-scale=1"><meta name="layout"content="docs"><meta name="permalink"content="/docs/handbook/release-notes/typescript-1-4.html"><meta name="oneline"content="TypeScript 1.3 Release Notes"><link rel="stylesheet"href="../../../../../../../../docs/themes/packages/prism-coy-theme/theme_common.css"><section id="union-types"class="level2"><h2>Union types</h2><section id="overview"class="level3"><h3>Overview</h3><p>Union types are a powerful way to express a value that can be one of several types. For example, you might have an API for running a program that takes a commandline as either a <code>string</code>, a <code>string[]</code> or a function that returns a <code>string</code>. You can now write:<pre class="language-ts"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name"><span class="token maybe-class-name">RunOptions</span></span> <span class="token punctuation">{</span>
  program<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  commandline<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>Assignment to union types works very intuitively -- anything you could assign to one of the union type's members is assignable to the union:<pre class="language-ts"><code class="language-ts"><span class="token keyword">var</span> opts<span class="token operator">:</span> <span class="token maybe-class-name">RunOptions</span> <span class="token operator">=</span> <span class="token comment">/* ... */</span><span class="token punctuation">;</span>
opts<span class="token punctuation">.</span><span class="token property-access">commandline</span> <span class="token operator">=</span> <span class="token string">'-hello world'</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
opts<span class="token punctuation">.</span><span class="token property-access">commandline</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'-hello'</span><span class="token punctuation">,</span> <span class="token string">'world'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
opts<span class="token punctuation">.</span><span class="token property-access">commandline</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">42</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// Error, number is not string or string[]</span></code></pre><p>When reading from a union type, you can see any properties that are shared by them:<pre class="language-ts"><code class="language-ts"><span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>opts<span class="token punctuation">.</span><span class="token property-access">commandline</span><span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// OK, string and string[] both have 'length' property</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"it's empty"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>Using Type Guards, you can easily work with a variable of a union type:<pre class="language-ts"><code class="language-ts"><span class="token keyword">function</span> <span class="token function">formatCommandline</span><span class="token punctuation">(</span>c<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> c <span class="token operator">===</span> <span class="token string">"string"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> c<span class="token punctuation">.</span><span class="token method function property-access">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword control-flow">else</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> c<span class="token punctuation">.</span><span class="token method function property-access">join</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></section><section id="stricter-generics"class="level3"><h3>Stricter Generics</h3><p>With union types able to represent a wide range of type scenarios, we've decided to improve the strictness of certain generic calls. Previously, code like this would (surprisingly) compile without error:<pre class="language-ts"><code class="language-ts"><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">equal</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>lhs<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> rhs<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> lhs <span class="token operator">===</span> rhs<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Previously: No error</span>
<span class="token comment">// New behavior: Error, no best common type between 'string' and 'number'</span>
<span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token function">equal</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">,</span> <span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>With union types, you can now specify the desired behavior at both the function declaration site and the call site:<pre class="language-ts"><code class="language-ts"><span class="token comment">// 'choose' function where types must match</span>
<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">choose1</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0.5</span> <span class="token operator">?</span> a <span class="token operator">:</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">choose1</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token generic-function"><span class="token function">choose1</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>

<span class="token comment">// 'choose' function where types need not match</span>
<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">choose2</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token constant">U</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token operator">|</span> <span class="token constant">U</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0.5</span> <span class="token operator">?</span> a <span class="token operator">:</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token function">choose2</span><span class="token punctuation">(</span><span class="token string">"bar"</span><span class="token punctuation">,</span> <span class="token string">"foo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK, c: string</span>
<span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token function">choose2</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK, d: string|number</span></code></pre></section><section id="better-type-inference"class="level3"><h3>Better Type Inference</h3><p>Union types also allow for better type inference in arrays and other places where you might have multiple kinds of values in a collection:<pre class="language-ts"><code class="language-ts"><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"hello"</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// x: Array&#x3C;string|number></span>
x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"world"</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// Error, boolean is not string or number</span></code></pre></section></section><section id="let-declarations"class="level2"><h2><code>let</code> declarations</h2><p>In JavaScript, <code>var</code> declarations are "hoisted" to the top of their enclosing scope. This can result in confusing bugs:<pre class="language-ts"><code class="language-ts"><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// meant to write 'y' here</span>
<span class="token comment">/* later in the same block */</span>
<span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token string">"hello"</span><span class="token punctuation">;</span></code></pre><p>The new ES6 keyword <code>let</code>, now supported in TypeScript, declares a variable with more intuitive "block" semantics. A <code>let</code> variable can only be referred to after its declaration, and is scoped to the syntactic block where it is defined:<pre class="language-ts"><code class="language-ts"><span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>foo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error, cannot refer to x before its declaration</span>
  <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token string">"hello"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword control-flow">else</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error, x is not declared in this block</span>
<span class="token punctuation">}</span></code></pre><p><code>let</code> is only available when targeting ECMAScript 6 (<code>--target ES6</code>).</section><section id="const-declarations"class="level2"><h2><code>const</code> declarations</h2><p>The other new ES6 declaration type supported in TypeScript is <code>const</code>. A <code>const</code> variable may not be assigned to, and must be initialized where it is declared. This is useful for declarations where you don't want to change the value after its initialization:<pre class="language-ts"><code class="language-ts"><span class="token keyword">const</span> halfPi <span class="token operator">=</span> <span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
halfPi <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// Error, can't assign to a `const`</span></code></pre><p><code>const</code> is only available when targeting ECMAScript 6 (<code>--target ES6</code>).</section><section id="template-strings"class="level2"><h2>Template strings</h2><p>TypeScript now supports ES6 template strings. These are an easy way to embed arbitrary expressions in strings:<pre class="language-ts"><code class="language-ts"><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">"TypeScript"</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> greeting <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">! Your name has </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> characters</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></code></pre><p>When compiling to pre-ES6 targets, the string is decomposed:<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">"TypeScript!"</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> greeting <span class="token operator">=</span>
  <span class="token string">"Hello, "</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">"! Your name has "</span> <span class="token operator">+</span> name<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">+</span> <span class="token string">" characters"</span><span class="token punctuation">;</span></code></pre></section><section id="type-guards"class="level2"><h2>Type Guards</h2><p>A common pattern in JavaScript is to use <code>typeof</code> or <code>instanceof</code> to examine the type of an expression at runtime. TypeScript now understands these conditions and will change type inference accordingly when used in an <code>if</code> block.<p>Using <code>typeof</code> to test a variable:<pre class="language-ts"><code class="language-ts"><span class="token keyword">var</span> x<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token comment">/* ... */</span><span class="token punctuation">;</span>
<span class="token keyword control-flow">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> x <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token method function property-access">subtr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error, 'subtr' does not exist on 'string'</span>
<span class="token punctuation">}</span>
<span class="token comment">// x is still any here</span>
x<span class="token punctuation">.</span><span class="token method function property-access">unknown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK</span></code></pre><p>Using <code>typeof</code> with union types and <code>else</code>:<pre class="language-ts"><code class="language-ts"><span class="token keyword">var</span> x<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token maybe-class-name">HTMLElement</span> <span class="token operator">=</span> <span class="token comment">/* ... */</span><span class="token punctuation">;</span>
<span class="token keyword control-flow">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> x <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// x is string here, as shown above</span>
<span class="token punctuation">}</span>
<span class="token keyword control-flow">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// x is HTMLElement here</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token property-access">innerHTML</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>Using <code>instanceof</code> with classes and union types:<pre class="language-ts"><code class="language-ts"><span class="token keyword">class</span> <span class="token class-name"><span class="token maybe-class-name">Dog</span></span> <span class="token punctuation">{</span> <span class="token function">woof</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name"><span class="token maybe-class-name">Cat</span></span> <span class="token punctuation">{</span> <span class="token function">meow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
<span class="token keyword">var</span> pet<span class="token operator">:</span> <span class="token maybe-class-name">Dog</span><span class="token operator">|</span><span class="token maybe-class-name">Cat</span> <span class="token operator">=</span> <span class="token comment">/* ... */</span><span class="token punctuation">;</span>
<span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>pet <span class="token keyword">instanceof</span> <span class="token class-name"><span class="token maybe-class-name">Dog</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    pet<span class="token punctuation">.</span><span class="token method function property-access">woof</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
<span class="token punctuation">}</span>
<span class="token keyword control-flow">else</span> <span class="token punctuation">{</span>
    pet<span class="token punctuation">.</span><span class="token method function property-access">woof</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error</span>
<span class="token punctuation">}</span></code></pre></section><section id="type-aliases"class="level2"><h2>Type Aliases</h2><p>You can now define an <em>alias</em> for a type using the <code>type</code> keyword:<pre class="language-ts"><code class="language-ts"><span class="token keyword">type</span> <span class="token class-name"><span class="token maybe-class-name">PrimitiveArray</span></span> <span class="token operator">=</span> <span class="token known-class-name class-name">Array</span><span class="token operator">&#x3C;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">boolean</span><span class="token operator">></span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token maybe-class-name">MyNumber</span></span> <span class="token operator">=</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token maybe-class-name">NgScope</span></span> <span class="token operator">=</span> ng<span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">IScope</span></span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token maybe-class-name">Callback</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token keyword">void</span><span class="token punctuation">;</span></code></pre><p>Type aliases are exactly the same as their original types; they are simply alternative names.</section><section id="const-enum-completely-inlined-enums"class="level2"><h2><code>const enum</code> (completely inlined enums)</h2><p>Enums are very useful, but some programs don't actually need the generated code and would benefit from simply inlining all instances of enum members with their numeric equivalents. The new <code>const enum</code> declaration works just like a regular <code>enum</code> for type safety, but erases completely at compile time.<pre class="language-ts"><code class="language-ts"><span class="token keyword">const</span> <span class="token keyword">enum</span> <span class="token maybe-class-name">Suit</span> <span class="token punctuation">{</span>
  <span class="token maybe-class-name">Clubs</span><span class="token punctuation">,</span>
  <span class="token maybe-class-name">Diamonds</span><span class="token punctuation">,</span>
  <span class="token maybe-class-name">Hearts</span><span class="token punctuation">,</span>
  <span class="token maybe-class-name">Spades</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token maybe-class-name">Suit</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Diamonds</span></span><span class="token punctuation">;</span></code></pre><p>Compiles to exactly:<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></code></pre><p>TypeScript will also now compute enum values when possible:<pre class="language-ts"><code class="language-ts"><span class="token keyword">enum</span> <span class="token maybe-class-name">MyFlags</span> <span class="token punctuation">{</span>
  <span class="token maybe-class-name">None</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token maybe-class-name">Neat</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token maybe-class-name">Cool</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token maybe-class-name">Awesome</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">,</span>
  <span class="token maybe-class-name">Best</span> <span class="token operator">=</span> <span class="token maybe-class-name">Neat</span> <span class="token operator">|</span> <span class="token maybe-class-name">Cool</span> <span class="token operator">|</span> <span class="token maybe-class-name">Awesome</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token maybe-class-name">MyFlags</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Best</span></span><span class="token punctuation">;</span> <span class="token comment">// emits var b = 7;</span></code></pre></section><section id="-noemitonerror-commandline-option"class="level2"><h2><code>-noEmitOnError</code> commandline option</h2><p>The default behavior for the TypeScript compiler is to still emit .js files if there were type errors (for example, an attempt to assign a <code>string</code> to a <code>number</code>). This can be undesirable on build servers or other scenarios where only output from a "clean" build is desired. The new flag <a href="/tsconfig#noEmitOnError"><code>noEmitOnError</code></a> prevents the compiler from emitting .js code if there were any errors.<p>This is now the default for MSBuild projects; this allows MSBuild incremental build to work as expected, as outputs are only generated on clean builds.</section><section id="amd-module-names"class="level2"><h2>AMD Module names</h2><p>By default AMD modules are generated anonymous. This can lead to problems when other tools are used to process the resulting modules like a bundlers (e.g. <code>r.js</code>).<p>The new <code>amd-module name</code> tag allows passing an optional module name to the compiler:<pre class="language-ts"><code class="language-ts"><span class="token comment">//// [amdModule.ts]</span>
<span class="token comment">///&#x3C;amd-module name='NamedModule'/></span>
<span class="token keyword module">export</span> <span class="token keyword">class</span> <span class="token class-name"><span class="token constant">C</span></span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre><p>Will result in assigning the name <code>NamedModule</code> to the module as part of calling the AMD <code>define</code>:<pre class="language-js"><code class="language-js"><span class="token comment">//// [amdModule.js]</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token string">"NamedModule"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"require"</span><span class="token punctuation">,</span> <span class="token string">"exports"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">require<span class="token punctuation">,</span> exports</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> <span class="token constant">C</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token constant">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword control-flow">return</span> <span class="token constant">C</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  exports<span class="token punctuation">.</span><span class="token constant">C</span> <span class="token operator">=</span> <span class="token constant">C</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></section>