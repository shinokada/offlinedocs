<!doctype html><html lang="en"><meta charset="utf-8"><title>TypeScript 3.2</title><meta name="viewport"content="width=device-width,initial-scale=1"><meta name="layout"content="docs"><meta name="permalink"content="/docs/handbook/release-notes/typescript-3-2.html"><meta name="oneline"content="TypeScript 3.2 Release Notes"><link rel="stylesheet"href="../../../../../../../../docs/themes/packages/prism-coy-theme/theme_common.css"><section id="strictbindcallapply"class="level2"><h2><code>strictBindCallApply</code></h2><p>TypeScript 3.2 introduces a new <a href="/tsconfig#strictBindCallApply"><code>strictBindCallApply</code></a> compiler option (in the <a href="/tsconfig#strict"><code>strict</code></a> family of options) with which the <code>bind</code>, <code>call</code>, and <code>apply</code> methods on function objects are strongly typed and strictly checked.<pre class="language-ts"><code class="language-ts"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> foo<span class="token punctuation">.</span><span class="token method function property-access">apply</span><span class="token punctuation">(</span><span class="token keyword nil">undefined</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// error: too few argumnts</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> foo<span class="token punctuation">.</span><span class="token method function property-access">apply</span><span class="token punctuation">(</span><span class="token keyword nil">undefined</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// error: 2nd argument is a number</span>
<span class="token keyword">let</span> c <span class="token operator">=</span> foo<span class="token punctuation">.</span><span class="token method function property-access">apply</span><span class="token punctuation">(</span><span class="token keyword nil">undefined</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">"hello"</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// error: too many arguments</span>
<span class="token keyword">let</span> d <span class="token operator">=</span> foo<span class="token punctuation">.</span><span class="token method function property-access">apply</span><span class="token punctuation">(</span><span class="token keyword nil">undefined</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">"hello"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// okay! returns a string</span></code></pre><p>This is achieved by introducing two new types, <code>CallableFunction</code> and <code>NewableFunction</code>, in <code>lib.d.ts</code>. These types contain specialized generic method declarations for <code>bind</code>, <code>call</code>, and <code>apply</code> for regular functions and constructor functions, respectively. The declarations use generic rest parameters (see #24897) to capture and reflect parameter lists in a strongly typed manner. In <a href="/tsconfig#strictBindCallApply"><code>strictBindCallApply</code></a> mode these declarations are used in place of the (very permissive) declarations provided by type <code>Function</code>.</section><section id="caveats"class="level2"><h2>Caveats</h2><p>Since the stricter checks may uncover previously unreported errors, this is a breaking change in <a href="/tsconfig#strict"><code>strict</code></a> mode.<p>Additionally, <a href="https://github.com/Microsoft/TypeScript/pull/27028#issuecomment-429334450">another caveat</a> of this new functionality is that due to certain limitations, <code>bind</code>, <code>call</code>, and <code>apply</code> can't yet fully model generic functions or functions that have overloads. When using these methods on a generic function, type parameters will be substituted with the empty object type (<code>{}</code>), and when used on a function with overloads, only the last overload will ever be modeled.</section><section id="generic-spread-expressions-in-object-literals"class="level2"><h2>Generic spread expressions in object literals</h2><p>In TypeScript 3.2, object literals now allow generic spread expressions which now produce intersection types, similar to the <code>Object.assign</code> function and JSX literals. For example:<pre class="language-ts"><code class="language-ts"><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">taggedObject</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span> <span class="token keyword">extends</span> <span class="token builtin">string</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>obj<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> tag<span class="token operator">:</span> <span class="token constant">U</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span>obj<span class="token punctuation">,</span> tag <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// T &#x26; { tag: U }</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token function">taggedObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">20</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">"point"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { x: number, y: number } &#x26; { tag: "point" }</span></code></pre><p>Property assignments and non-generic spread expressions are merged to the greatest extent possible on either side of a generic spread expression. For example:<pre class="language-ts"><code class="language-ts"><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">foo1</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>t<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> obj1<span class="token operator">:</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> obj2<span class="token operator">:</span> <span class="token punctuation">{</span> b<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span>obj1<span class="token punctuation">,</span> x<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token spread operator">...</span>t<span class="token punctuation">,</span> <span class="token spread operator">...</span>obj2<span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// { a: string, x: number } &#x26; T &#x26; { b: string, y: number }</span>
<span class="token punctuation">}</span></code></pre><p>Non-generic spread expressions continue to be processed as before: Call and construct signatures are stripped, only non-method properties are preserved, and for properties with the same name, the type of the rightmost property is used. This contrasts with intersection types which concatenate call and construct signatures, preserve all properties, and intersect the types of properties with the same name. Thus, spreads of the same types may produce different results when they are created through instantiation of generic types:<pre class="language-ts"><code class="language-ts"><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">spread</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>t<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> u<span class="token operator">:</span> <span class="token constant">U</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span>t<span class="token punctuation">,</span> <span class="token spread operator">...</span>u <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// T &#x26; U</span>
<span class="token punctuation">}</span>

<span class="token keyword">declare</span> <span class="token keyword">let</span> x<span class="token operator">:</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> b<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">declare</span> <span class="token keyword">let</span> y<span class="token operator">:</span> <span class="token punctuation">{</span> b<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> c<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> s1 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span>x<span class="token punctuation">,</span> <span class="token spread operator">...</span>y <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// { a: string, b: string, c: boolean }</span>
<span class="token keyword">let</span> s2 <span class="token operator">=</span> <span class="token function">spread</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { a: string, b: number } &#x26; { b: string, c: boolean }</span>
<span class="token keyword">let</span> b1 <span class="token operator">=</span> s1<span class="token punctuation">.</span><span class="token property-access">b</span><span class="token punctuation">;</span> <span class="token comment">// string</span>
<span class="token keyword">let</span> b2 <span class="token operator">=</span> s2<span class="token punctuation">.</span><span class="token property-access">b</span><span class="token punctuation">;</span> <span class="token comment">// number &#x26; string</span></code></pre></section><section id="generic-object-rest-variables-and-parameters"class="level2"><h2>Generic object rest variables and parameters</h2><p>TypeScript 3.2 also allows destructuring a rest binding from a generic variable. This is achieved by using the predefined <code>Pick</code> and <code>Exclude</code> helper types from <code>lib.d.ts</code>, and using the generic type in question as well as the names of the other bindings in the destructuring pattern.<pre class="language-ts"><code class="language-ts"><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">excludeTag</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">{</span> tag<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>obj<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> <span class="token punctuation">{</span> tag<span class="token punctuation">,</span> <span class="token spread operator">...</span>rest <span class="token punctuation">}</span> <span class="token operator">=</span> obj<span class="token punctuation">;</span>
  <span class="token keyword control-flow">return</span> rest<span class="token punctuation">;</span> <span class="token comment">// Pick&#x3C;T, Exclude&#x3C;keyof T, "tag">></span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> taggedPoint <span class="token operator">=</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> tag<span class="token operator">:</span> <span class="token string">"point"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> point <span class="token operator">=</span> <span class="token function">excludeTag</span><span class="token punctuation">(</span>taggedPoint<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { x: number, y: number }</span></code></pre></section><section id="bigint"class="level2"><h2>BigInt</h2><p>BigInts are part of an upcoming proposal in ECMAScript that allow us to model theoretically arbitrarily large integers. TypeScript 3.2 brings type-checking for BigInts, as well as support for emitting BigInt literals when targeting <code>esnext</code>.<p>BigInt support in TypeScript introduces a new primitive type called the <code>bigint</code> (all lowercase). You can get a <code>bigint</code> by calling the <code>BigInt()</code> function or by writing out a BigInt literal by adding an <code>n</code> to the end of any integer numeric literal:<pre class="language-ts"><code class="language-ts"><span class="token keyword">let</span> foo<span class="token operator">:</span> bigint <span class="token operator">=</span> <span class="token known-class-name class-name">BigInt</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// the BigInt function</span>
<span class="token keyword">let</span> bar<span class="token operator">:</span> bigint <span class="token operator">=</span> <span class="token number">100n</span><span class="token punctuation">;</span> <span class="token comment">// a BigInt literal</span>

<span class="token comment">// *Slaps roof of fibonacci function*</span>
<span class="token comment">// This bad boy returns ints that can get *so* big!</span>
<span class="token keyword">function</span> <span class="token function">fibonacci</span><span class="token punctuation">(</span>n<span class="token operator">:</span> bigint<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">1n</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> last <span class="token operator">=</span> <span class="token number">0n</span><span class="token punctuation">,</span> i <span class="token operator">=</span> <span class="token number">0n</span><span class="token punctuation">;</span> i <span class="token operator">&#x3C;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> current <span class="token operator">=</span> result<span class="token punctuation">;</span>
    result <span class="token operator">+=</span> last<span class="token punctuation">;</span>
    last <span class="token operator">=</span> current<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">fibonacci</span><span class="token punctuation">(</span><span class="token number">10000n</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>While you might imagine close interaction between <code>number</code> and <code>bigint</code>, the two are separate domains.<pre class="language-ts"><code class="language-ts"><span class="token keyword">declare</span> <span class="token keyword">let</span> foo<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token keyword">declare</span> <span class="token keyword">let</span> bar<span class="token operator">:</span> bigint<span class="token punctuation">;</span>

foo <span class="token operator">=</span> bar<span class="token punctuation">;</span> <span class="token comment">// error: Type 'bigint' is not assignable to type 'number'.</span>
bar <span class="token operator">=</span> foo<span class="token punctuation">;</span> <span class="token comment">// error: Type 'number' is not assignable to type 'bigint'.</span></code></pre><p>As specified in ECMAScript, mixing <code>number</code>s and <code>bigint</code>s in arithmetic operations is an error. You'll have to explicitly convert values to <code>BigInt</code>s.<pre class="language-ts"><code class="language-ts"><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token number">3.141592</span> <span class="token operator">*</span> <span class="token number">10000n</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// error</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token number">3145</span> <span class="token operator">*</span> <span class="token number">10n</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// error</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token known-class-name class-name">BigInt</span><span class="token punctuation">(</span><span class="token number">3145</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10n</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// okay!</span></code></pre><p>Also important to note is that <code>bigint</code>s produce a new string when using the <code>typeof</code> operator: the string <code>"bigint"</code>. Thus, TypeScript correctly narrows using <code>typeof</code> as you'd expect.<pre class="language-ts"><code class="language-ts"><span class="token keyword">function</span> <span class="token function">whatKindOfNumberIsIt</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> bigint<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> x <span class="token operator">===</span> <span class="token string">"bigint"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"'x' is a bigint!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword control-flow">else</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"'x' is a floating-point number"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p>We'd like to extend a huge thanks to <a href="https://github.com/calebsander">Caleb Sander</a> for all the work on this feature. We're grateful for the contribution, and we're sure our users are too!</section><section id="caveats-1"class="level2"><h2>Caveats</h2><p>As we mentioned, BigInt support is only available for the <code>esnext</code> target. It may not be obvious, but because BigInts have different behavior for mathematical operators like <code>+</code>, <code>-</code>, <code>*</code>, etc., providing functionality for older targets where the feature doesn't exist (like <code>es2017</code> and below) would involve rewriting each of these operations. TypeScript would need to dispatch to the correct behavior depending on the type, and so every addition, string concatenation, multiplication, etc. would involve a function call.<p>For that reason, we have no immediate plans to provide downleveling support. On the bright side, Node 11 and newer versions of Chrome already support this feature, so you'll be able to use BigInts there when targeting <code>esnext</code>.<p>Certain targets may include a polyfill or BigInt-like runtime object. For those purposes you may want to add <code>esnext.bigint</code> to the <a href="/tsconfig#lib"><code>lib</code></a> setting in your compiler options.</section><section id="non-unit-types-as-union-discriminants"class="level2"><h2>Non-unit types as union discriminants</h2><p>TypeScript 3.2 makes narrowing easier by relaxing rules for what it considers a discriminant property. Common properties of unions are now considered discriminants as long as they contain <em>some</em> singleton type (e.g. a string literal, <code>null</code>, or <code>undefined</code>), and they contain no generics.<p>As a result, TypeScript 3.2 considers the <code>error</code> property in the following example to be a discriminant, whereas before it wouldn't since <code>Error</code> isn't a singleton type. Thanks to this, narrowing works correctly in the body of the <code>unwrap</code> function.<pre class="language-ts"><code class="language-ts"><span class="token keyword">type</span> <span class="token class-name"><span class="token maybe-class-name">Result</span><span class="token operator">&#x3C;</span><span class="token constant">T</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token punctuation">{</span> error<span class="token operator">:</span> <span class="token known-class-name class-name">Error</span><span class="token punctuation">;</span> data<span class="token operator">:</span> <span class="token keyword null nil">null</span> <span class="token punctuation">}</span> <span class="token operator">|</span> <span class="token punctuation">{</span> error<span class="token operator">:</span> <span class="token keyword null nil">null</span><span class="token punctuation">;</span> data<span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">unwrap</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>result<span class="token operator">:</span> <span class="token maybe-class-name">Result</span><span class="token operator">&#x3C;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token property-access">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Here 'error' is non-null</span>
    <span class="token keyword control-flow">throw</span> result<span class="token punctuation">.</span><span class="token property-access">error</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// Now 'data' is non-null</span>
  <span class="token keyword control-flow">return</span> result<span class="token punctuation">.</span><span class="token property-access">data</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></section><section id="tsconfigjson-inheritance-via-nodejs-packages"class="level2"><h2><code>tsconfig.json</code> inheritance via Node.js packages</h2><p>TypeScript 3.2 now resolves <code>tsconfig.json</code>s from <code>node_modules</code>. When using a bare path for the <code>extends</code> field in <code>tsconfig.json</code>, TypeScript will dive into <code>node_modules</code> packages for us.<pre class="language-jsonc"><code class="language-jsonc">{
  "extends": "@my-team/tsconfig-base",
  "include": ["./**/*"],
  "compilerOptions": {
    // Override certain options on a project-by-project basis.
    "strictBindCallApply": false
  }
}</code></pre><p>Here, TypeScript will climb up <code>node_modules</code> folders looking for a <code>@my-team/tsconfig-base</code> package. For each of those packages, TypeScript will first check whether <code>package.json</code> contains a <code>"tsconfig"</code> field, and if it does, TypeScript will try to load a configuration file from that field. If neither exists, TypeScript will try to read from a <code>tsconfig.json</code> at the root. This is similar to the lookup process for <code>.js</code> files in packages that Node uses, and the <code>.d.ts</code> lookup process that TypeScript already uses.<p>This feature can be extremely useful for bigger organizations, or projects with lots of distributed dependencies.</section><section id="the-new---showconfig-flag"class="level2"><h2>The new <code>--showConfig</code> flag</h2><p><code>tsc</code>, the TypeScript compiler, supports a new flag called <code>--showConfig</code>. When running <code>tsc --showConfig</code>, TypeScript will calculate the effective <code>tsconfig.json</code> (after calculating options inherited from the <code>extends</code> field) and print that out. This can be useful for diagnosing configuration issues in general.</section><section id="objectdefineproperty-declarations-in-javascript"class="level2"><h2><code>Object.defineProperty</code> declarations in JavaScript</h2><p>When writing in JavaScript files (using <a href="/tsconfig#allowJs"><code>allowJs</code></a>), TypeScript now recognizes declarations that use <code>Object.defineProperty</code>. This means you'll get better completions, and stronger type-checking when enabling type-checking in JavaScript files (by turning on the <a href="/tsconfig#checkJs"><code>checkJs</code></a> option or adding a <code>// @ts-check</code> comment to the top of your file).<pre class="language-js"><code class="language-js"><span class="token comment">// @ts-check</span>

<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token method function property-access">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">"x"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">"hello"</span><span class="token punctuation">,</span> <span class="token literal-property property">writable</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

obj<span class="token punctuation">.</span><span class="token property-access">x</span><span class="token punctuation">.</span><span class="token method function property-access">toLowercase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//    ~~~~~~~~~~~</span>
<span class="token comment">//    error:</span>
<span class="token comment">//     Property 'toLowercase' does not exist on type 'string'.</span>
<span class="token comment">//     Did you mean 'toLowerCase'?</span>

obj<span class="token punctuation">.</span><span class="token property-access">x</span> <span class="token operator">=</span> <span class="token string">"world"</span><span class="token punctuation">;</span>
<span class="token comment">//  ~</span>
<span class="token comment">//  error:</span>
<span class="token comment">//   Cannot assign to 'x' because it is a read-only property.</span></code></pre><p><span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></section>