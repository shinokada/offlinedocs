<!doctype html><html lang="en"><meta charset="utf-8"><title>Declaration Reference</title><meta name="viewport"content="width=device-width,initial-scale=1"><meta name="layout"content="docs"><meta name="permalink"content="/docs/handbook/declaration-files/by-example.html"><meta name="oneline"content="How to create a d.ts file for a module"><link rel="stylesheet"href="../../../../../../../../docs/themes/packages/prism-coy-theme/theme_common.css"><p>The purpose of this guide is to teach you how to write a high-quality definition file. This guide is structured by showing documentation for some API, along with sample usage of that API, and explaining how to write the corresponding declaration.<p>These examples are ordered in approximately increasing order of complexity.<section id="objects-with-properties"class="level2"><h2>Objects with Properties</h2><p><em>Documentation</em><blockquote><p>The global variable <code>myLib</code> has a function <code>makeGreeting</code> for creating greetings, and a property <code>numberOfGreetings</code> indicating the number of greetings made so far.</blockquote><p><em>Code</em><pre class="language-ts"><code class="language-ts"><span class="token keyword">let</span> result <span class="token operator">=</span> myLib<span class="token punctuation">.</span><span class="token method function property-access">makeGreeting</span><span class="token punctuation">(</span><span class="token string">"hello, world"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"The computed greeting is:"</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> count <span class="token operator">=</span> myLib<span class="token punctuation">.</span><span class="token property-access">numberOfGreetings</span><span class="token punctuation">;</span></code></pre><p><em>Declaration</em><p>Use <code>declare namespace</code> to describe types or values accessed by dotted notation.<pre class="language-ts"><code class="language-ts"><span class="token keyword">declare</span> <span class="token keyword">namespace</span> myLib <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">makeGreeting</span><span class="token punctuation">(</span>s<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> numberOfGreetings<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></section><section id="overloaded-functions"class="level2"><h2>Overloaded Functions</h2><p><em>Documentation</em><p>The <code>getWidget</code> function accepts a number and returns a Widget, or accepts a string and returns a Widget array.<p><em>Code</em><pre class="language-ts"><code class="language-ts"><span class="token keyword">let</span> x<span class="token operator">:</span> <span class="token maybe-class-name">Widget</span> <span class="token operator">=</span> <span class="token function">getWidget</span><span class="token punctuation">(</span><span class="token number">43</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> arr<span class="token operator">:</span> <span class="token maybe-class-name">Widget</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">getWidget</span><span class="token punctuation">(</span><span class="token string">"all of them"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><em>Declaration</em><pre class="language-ts"><code class="language-ts"><span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">getWidget</span><span class="token punctuation">(</span>n<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token maybe-class-name">Widget</span><span class="token punctuation">;</span>
<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">getWidget</span><span class="token punctuation">(</span>s<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token maybe-class-name">Widget</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre></section><section id="reusable-types-interfaces"class="level2"><h2>Reusable Types (Interfaces)</h2><p><em>Documentation</em><blockquote><p>When specifying a greeting, you must pass a <code>GreetingSettings</code> object. This object has the following properties:<p>1 - greeting: Mandatory string<p>2 - duration: Optional length of time (in milliseconds)<p>3 - color: Optional string, e.g. '#ff00ff'</blockquote><p><em>Code</em><pre class="language-ts"><code class="language-ts"><span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  greeting<span class="token operator">:</span> <span class="token string">"hello world"</span><span class="token punctuation">,</span>
  duration<span class="token operator">:</span> <span class="token number">4000</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><em>Declaration</em><p>Use an <code>interface</code> to define a type with properties.<pre class="language-ts"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name"><span class="token maybe-class-name">GreetingSettings</span></span> <span class="token punctuation">{</span>
  greeting<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  duration<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  color<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">greet</span><span class="token punctuation">(</span>setting<span class="token operator">:</span> <span class="token maybe-class-name">GreetingSettings</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span></code></pre></section><section id="reusable-types-type-aliases"class="level2"><h2>Reusable Types (Type Aliases)</h2><p><em>Documentation</em><blockquote><p>Anywhere a greeting is expected, you can provide a <code>string</code>, a function returning a <code>string</code>, or a <code>Greeter</code> instance.</blockquote><p><em>Code</em><pre class="language-ts"><code class="language-ts"><span class="token keyword">function</span> <span class="token function">getGreeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token string">"howdy"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name"><span class="token maybe-class-name">MyGreeter</span></span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token maybe-class-name">Greeter</span></span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token function">greet</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">greet</span><span class="token punctuation">(</span>getGreeting<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">greet</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name"><span class="token maybe-class-name">MyGreeter</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><em>Declaration</em><p>You can use a type alias to make a shorthand for a type:<pre class="language-ts"><code class="language-ts"><span class="token keyword">type</span> <span class="token class-name"><span class="token maybe-class-name">GreetingLike</span></span> <span class="token operator">=</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token maybe-class-name">MyGreeter</span><span class="token punctuation">;</span>

<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">greet</span><span class="token punctuation">(</span>g<span class="token operator">:</span> <span class="token maybe-class-name">GreetingLike</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span></code></pre></section><section id="organizing-types"class="level2"><h2>Organizing Types</h2><p><em>Documentation</em><blockquote><p>The <code>greeter</code> object can log to a file or display an alert. You can provide LogOptions to <code>.log(...)</code> and alert options to <code>.alert(...)</code></blockquote><p><em>Code</em><pre class="language-ts"><code class="language-ts"><span class="token keyword">const</span> g <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token maybe-class-name">Greeter</span></span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
g<span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span> verbose<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
g<span class="token punctuation">.</span><span class="token method function property-access">alert</span><span class="token punctuation">(</span><span class="token punctuation">{</span> modal<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> title<span class="token operator">:</span> <span class="token string">"Current Greeting"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><em>Declaration</em><p>Use namespaces to organize types.<pre class="language-ts"><code class="language-ts"><span class="token keyword">declare</span> <span class="token keyword">namespace</span> <span class="token maybe-class-name">GreetingLib</span> <span class="token punctuation">{</span>
  <span class="token keyword">interface</span> <span class="token class-name"><span class="token maybe-class-name">LogOptions</span></span> <span class="token punctuation">{</span>
    verbose<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">interface</span> <span class="token class-name"><span class="token maybe-class-name">AlertOptions</span></span> <span class="token punctuation">{</span>
    modal<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
    title<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    color<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p>You can also create nested namespaces in one declaration:<pre class="language-ts"><code class="language-ts"><span class="token keyword">declare</span> <span class="token keyword">namespace</span> <span class="token maybe-class-name">GreetingLib</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Options</span></span> <span class="token punctuation">{</span>
  <span class="token comment">// Refer to via GreetingLib.Options.Log</span>
  <span class="token keyword">interface</span> <span class="token class-name"><span class="token maybe-class-name">Log</span></span> <span class="token punctuation">{</span>
    verbose<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">interface</span> <span class="token class-name"><span class="token maybe-class-name">Alert</span></span> <span class="token punctuation">{</span>
    modal<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
    title<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    color<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></section><section id="classes"class="level2"><h2>Classes</h2><p><em>Documentation</em><blockquote><p>You can create a greeter by instantiating the <code>Greeter</code> object, or create a customized greeter by extending from it.</blockquote><p><em>Code</em><pre class="language-ts"><code class="language-ts"><span class="token keyword">const</span> myGreeter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token maybe-class-name">Greeter</span></span><span class="token punctuation">(</span><span class="token string">"hello, world"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
myGreeter<span class="token punctuation">.</span><span class="token property-access">greeting</span> <span class="token operator">=</span> <span class="token string">"howdy"</span><span class="token punctuation">;</span>
myGreeter<span class="token punctuation">.</span><span class="token method function property-access">showGreeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name"><span class="token maybe-class-name">SpecialGreeter</span></span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token maybe-class-name">Greeter</span></span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token string">"Very special greetings"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p><em>Declaration</em><p>Use <code>declare class</code> to describe a class or class-like object. Classes can have properties and methods as well as a constructor.<pre class="language-ts"><code class="language-ts"><span class="token keyword">declare</span> <span class="token keyword">class</span> <span class="token class-name"><span class="token maybe-class-name">Greeter</span></span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>greeting<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  greeting<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token function">showGreeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></section><section id="global-variables"class="level2"><h2>Global Variables</h2><p><em>Documentation</em><blockquote><p>The global variable <code>foo</code> contains the number of widgets present.</blockquote><p><em>Code</em><pre class="language-ts"><code class="language-ts"><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"Half the number of widgets is "</span> <span class="token operator">+</span> foo <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><em>Declaration</em><p>Use <code>declare var</code> to declare variables. If the variable is read-only, you can use <code>declare const</code>. You can also use <code>declare let</code> if the variable is block-scoped.<pre class="language-ts"><code class="language-ts"><span class="token doc-comment comment">/** The number of widgets present */</span>
<span class="token keyword">declare</span> <span class="token keyword">var</span> foo<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span></code></pre></section><section id="global-functions"class="level2"><h2>Global Functions</h2><p><em>Documentation</em><blockquote><p>You can call the function <code>greet</code> with a string to show a greeting to the user.</blockquote><p><em>Code</em><pre class="language-ts"><code class="language-ts"><span class="token function">greet</span><span class="token punctuation">(</span><span class="token string">"hello, world"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><em>Declaration</em><p>Use <code>declare function</code> to declare functions.<pre class="language-ts"><code class="language-ts"><span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">greet</span><span class="token punctuation">(</span>greeting<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span></code></pre><p><span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></section>