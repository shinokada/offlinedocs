<!doctype html><html lang="en"><meta charset="utf-8"><title>ASP.NET Core</title><meta name="viewport"content="width=device-width,initial-scale=1"><meta name="layout"content="docs"><meta name="permalink"content="/docs/handbook/asp-net-core.html"><meta name="oneline"content="Using TypeScript in ASP.NET Core"><link rel="stylesheet"href="../../../../../../../../docs/themes/packages/prism-coy-theme/theme_common.css"><section id="install-aspnet-core-and-typescript"class="level2"><h2>Install ASP.NET Core and TypeScript</h2><p>First, install <a href="https://dotnet.microsoft.com/apps/aspnet">ASP.NET Core</a> if you need it. This quick-start guide requires Visual Studio 2015 or 2017.<p>Next, if your version of Visual Studio does not already have the latest TypeScript, you can <a href="https://www.typescriptlang.org/index.html#download-links">install it</a>.</section><section id="create-a-new-project"class="level2"><h2>Create a new project</h2><ol><li>Choose <strong>File</strong><li>Choose <strong>New Project</strong> (Ctrl + Shift + N)<li>Search for <strong>.NET Core</strong> in the project search bar<li>Select <strong>ASP.NET Core Web Application</strong> and press the <em>Next</em> button</ol><figure><img src="/images/tutorials/aspnet/createwebapp.png"alt="Visual Studio Project Window Screenshot"><figcaption aria-hidden="true">Visual Studio Project Window Screenshot</figcaption></figure><ol start="5"><li>Name your project and solution. After select the <em>Create</em> button</ol><figure><img src="/images/tutorials/aspnet/namewebapp.png"alt="Visual Studio New Project Window Screenshot"><figcaption aria-hidden="true">Visual Studio New Project Window Screenshot</figcaption></figure><ol start="6"><li>In the last window, select the <strong>Empty</strong> template and press the <em>Create</em> button</ol><figure><img src="/images/tutorials/aspnet/emptytemplate.png"alt="Visual Studio Web Application Screenshot"><figcaption aria-hidden="true">Visual Studio Web Application Screenshot</figcaption></figure><p>Run the application and make sure that it works.<figure><img src="/images/tutorials/aspnet/workingsite.png"alt="A screenshot of Edge showing &#x22;Hello World&#x22; as success"><figcaption aria-hidden="true">A screenshot of Edge showing "Hello World" as success</figcaption></figure><section id="set-up-the-server"class="level3"><h3>Set up the server</h3><p>Open <strong>Dependencies > Manage NuGet Packages > Browse.</strong> Search and install <code>Microsoft.AspNetCore.StaticFiles</code> and <code>Microsoft.TypeScript.MSBuild</code>:<figure><img src="/images/tutorials/aspnet/downloaddependency.png"alt="The Visual Studio search for Nuget"><figcaption aria-hidden="true">The Visual Studio search for Nuget</figcaption></figure><p>Open up your <code>Startup.cs</code> file and edit your <code>Configure</code> function to look like this:<pre class="language-cs"><code class="language-cs"><span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Configure</span><span class="token punctuation">(</span><span class="token class-name">IApplicationBuilder</span> app<span class="token punctuation">,</span> <span class="token class-name">IHostEnvironment</span> env<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>env<span class="token punctuation">.</span><span class="token function">IsDevelopment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        app<span class="token punctuation">.</span><span class="token function">UseDeveloperExceptionPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    app<span class="token punctuation">.</span><span class="token function">UseDefaultFiles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    app<span class="token punctuation">.</span><span class="token function">UseStaticFiles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>You may need to restart VS for the red squiggly lines below <code>UseDefaultFiles</code> and <code>UseStaticFiles</code> to disappear.</section></section><section id="add-typescript"class="level2"><h2>Add TypeScript</h2><p>Next we will add a new folder and call it <code>scripts</code>.<figure><img src="/images/tutorials/aspnet/newfolder.png"alt="The Path of &#x22;Add&#x22; then &#x22;New Folder&#x22; in Visual Studio from a Web Project"><figcaption aria-hidden="true">The Path of "Add" then "New Folder" in Visual Studio from a Web Project</figcaption></figure><p><img src="/images/tutorials/aspnet/scripts.png"></section><section id="add-typescript-code"class="level2"><h2>Add TypeScript code</h2><p>Right click on <code>scripts</code> and click <strong>New Item</strong>. Then choose <strong>TypeScript File</strong> and name the file <code>app.ts</code><figure><img src="/images/tutorials/aspnet/tsfile.png"alt="A highlight of the new folder"><figcaption aria-hidden="true">A highlight of the new folder</figcaption></figure><section id="add-example-code"class="level3"><h3>Add example code</h3><p>Add the following code to the <code>app.ts</code> file.<pre class="language-ts"><code class="language-ts"><span class="token keyword">function</span> <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> compiler <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">"compiler"</span><span class="token punctuation">)</span> <span class="token keyword module">as</span> <span class="token maybe-class-name">HTMLInputElement</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> framework <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">"framework"</span><span class="token punctuation">)</span> <span class="token keyword module">as</span> <span class="token maybe-class-name">HTMLInputElement</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello from </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>compiler<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> and </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>framework<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></section></section><section id="set-up-the-build"class="level2"><h2>Set up the build</h2><p><em>Configure the TypeScript compiler</em><p>First we need to tell TypeScript how to build. Right click on <code>scripts</code> and click <strong>New Item</strong>. Then choose <strong>TypeScript Configuration File</strong> and use the default name of <code>tsconfig.json</code><figure><img src="/images/tutorials/aspnet/tsconfig.png"alt="A screenshot showing the new file diaglogue with TypeScript JSON Config selected"><figcaption aria-hidden="true">A screenshot showing the new file diaglogue with TypeScript JSON Config selected</figcaption></figure><p>Replace the contents of the <code>tsconfig.json</code> file with:<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"compilerOptions"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"noEmitOnError"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">"noImplicitAny"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">"sourceMap"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">"target"</span><span class="token operator">:</span> <span class="token string">"es6"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"files"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"./app.ts"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">"compileOnSave"</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span></code></pre><ul><li><a href="/tsconfig#noEmitOnError"><code>noEmitOnError</code></a> : Do not emit outputs if any errors were reported.<li><a href="/tsconfig#noImplicitAny"><code>noImplicitAny</code></a> : Raise error on expressions and declarations with an implied <code>any</code> type.<li><a href="/tsconfig#sourceMap"><code>sourceMap</code></a> : Generates corresponding <code>.map</code> file.<li><a href="/tsconfig#target"><code>target</code></a> : Specify ECMAScript target version.</ul><p>Note: <code>"ESNext"</code> targets latest supported<p><a href="/tsconfig#noImplicitAny"><code>noImplicitAny</code></a> is good idea whenever you’re writing new code — you can make sure that you don’t write any untyped code by mistake. <code>"compileOnSave"</code> makes it easy to update your code in a running web app.<section id="set-up-npm"class="level4"><h4><em>Set up NPM</em></h4><p>We need to setup NPM so that JavaScript packages can be downloaded. Right click on the project and select <strong>New Item</strong>. Then choose <strong>NPM Configuration File</strong> and use the default name of <code>package.json</code>.<figure><img src="/images/tutorials/aspnet/packagejson.png"alt="Screenshot of VS showing new file dialog with &#x27;npm configuration file&#x27; selected"><figcaption aria-hidden="true">Screenshot of VS showing new file dialog with 'npm configuration file' selected</figcaption></figure><p>Inside the <code>"devDependencies"</code> section of the <code>package.json</code> file, add <em>gulp</em> and <em>del</em><pre class="language-json"><code class="language-json"><span class="token property">"devDependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"gulp"</span><span class="token operator">:</span> <span class="token string">"4.0.2"</span><span class="token punctuation">,</span>
    <span class="token property">"del"</span><span class="token operator">:</span> <span class="token string">"5.1.0"</span>
<span class="token punctuation">}</span></code></pre><p>Visual Studio should start installing gulp and del as soon as you save the file. If not, right-click package.json and then Restore Packages.<p>After you should see an <code>npm</code> folder in your solution explorer<figure><img src="/images/tutorials/aspnet/npm.png"alt="Screenshot of VS showing npm folder"><figcaption aria-hidden="true">Screenshot of VS showing npm folder</figcaption></figure></section><section id="set-up-gulp"class="level4"><h4><em>Set up gulp</em></h4><p>Right click on the project and click <strong>New Item</strong>. Then choose <strong>JavaScript File</strong> and use the name of <code>gulpfile.js</code><pre class="language-js"><code class="language-js"><span class="token comment">/// &#x3C;binding AfterBuild='default' Clean='clean' /></span>
<span class="token comment">/*
This file is the main entry point for defining Gulp tasks and using Gulp plugins.
Click here to learn more. http://go.microsoft.com/fwlink/?LinkId=518007
*/</span>

<span class="token keyword">var</span> gulp <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"gulp"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> del <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"del"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> paths <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">scripts</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"scripts/**/*.js"</span><span class="token punctuation">,</span> <span class="token string">"scripts/**/*.ts"</span><span class="token punctuation">,</span> <span class="token string">"scripts/**/*.map"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

gulp<span class="token punctuation">.</span><span class="token method function property-access">task</span><span class="token punctuation">(</span><span class="token string">"clean"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token function">del</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"wwwroot/scripts/**/*"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

gulp<span class="token punctuation">.</span><span class="token method function property-access">task</span><span class="token punctuation">(</span><span class="token string">"default"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">done</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    gulp<span class="token punctuation">.</span><span class="token method function property-access">src</span><span class="token punctuation">(</span>paths<span class="token punctuation">.</span><span class="token property-access">scripts</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token method function property-access">dest</span><span class="token punctuation">(</span><span class="token string">"wwwroot/scripts"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>The first line tells Visual Studio to run the task ‘default’ after the build finishes. It will also run the ‘clean’ task when you ask Visual Studio to clean the build.<p>Now right-click on <code>gulpfile.js</code> and click Task Runner Explorer.<figure><img src="/images/tutorials/aspnet/taskrunner.png"alt="Screenshot of right clicking on the &#x22;Gulpfile.js&#x22; with &#x27;Task Runner Exploere&#x27; selected"><figcaption aria-hidden="true">Screenshot of right clicking on the "Gulpfile.js" with 'Task Runner Exploere' selected</figcaption></figure><p>If ‘default’ and ‘clean’ tasks don’t show up, refresh the explorer:<figure><img src="/images/tutorials/aspnet/taskrunnerrefresh.png"alt="Screenshot of task explorer with &#x22;Gulpfile.js&#x22; in it"><figcaption aria-hidden="true">Screenshot of task explorer with "Gulpfile.js" in it</figcaption></figure></section></section><section id="write-a-html-page"class="level2"><h2>Write a HTML page</h2><p>Right click on the <code>wwwroot</code> folder (if you don't see the folder try building the project) and add a New Item named <code>index.html</code> inside. Use the following code for <code>index.html</code><pre class="language-text"><code class="language-text">&#x3C;!DOCTYPE html>
&#x3C;html>
&#x3C;head>
    &#x3C;meta charset="utf-8" />
    &#x3C;script src="scripts/app.js">&#x3C;/script>
    &#x3C;title>&#x3C;/title>
&#x3C;/head>
&#x3C;body>
    &#x3C;div id="message">&#x3C;/div>
    &#x3C;div>
        Compiler: &#x3C;input id="compiler" value="TypeScript" onkeyup="document.getElementById('message').innerText = sayHello()" />&#x3C;br />
        Framework: &#x3C;input id="framework" value="ASP.NET" onkeyup="document.getElementById('message').innerText = sayHello()" />
    &#x3C;/div>
&#x3C;/body>
&#x3C;/html></code></pre></section><section id="test"class="level2"><h2>Test</h2><ol><li>Run the project<li>As you type on the boxes you should see the message appear/change!</ol><figure><img src="https://media.giphy.com/media/U3mTibRAx34DG3zhAN/giphy.gif"alt="A GIF of Edge showing the code you have just wrote"><figcaption aria-hidden="true">A GIF of Edge showing the code you have just wrote</figcaption></figure></section><section id="debug"class="level2"><h2>Debug</h2><ol><li>In Edge, press F12 and click the Debugger tab.<li>Look in the first localhost folder, then scripts/app.ts<li>Put a breakpoint on the line with return.<li>Type in the boxes and confirm that the breakpoint hits in TypeScript code and that inspection works correctly.</ol><figure><img src="/images/tutorials/aspnet/debugger.png"alt="An image showing the debugger running the code you have just wrote"><figcaption aria-hidden="true">An image showing the debugger running the code you have just wrote</figcaption></figure><p>Congrats you've built your own .NET Core project with a TypeScript frontend. <span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></section>