<!doctype html><html lang="pl"><meta charset="utf-8"><title>Elementy DOM</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"href="../../../../../../../../docs/themes/packages/prism-coy-theme/theme_common.css"><section id="elementy-dom"class="level1"><h1>Elementy DOM</h1><p>Dla poprawy wydajności oraz kompatybilności między przeglądarkami, React wprowadza niezależny od przeglądarki system DOM. Dało to nam możliwość naprawienia pewnych usterek występujących w przeglądarkowych implementacjach DOM.<p>W Reakcie wszystkie właściwości i atrybuty DOM (włącznie z obsługą zdarzeń) powinny być zapisywane w notacji camelCase. Dla przykładu, atrybut HTML <code>tabindex</code> w Reakcie zapisujemy jako <code>tabIndex</code>. Wyjątkiem są atrybuty <code>aria-*</code> oraz <code>data-*</code>, które powinny być zapisywane małą literą, na przykład, <code>aria-label</code> pozostaje <code>aria-label</code>.<section id="differences-in-attributes"class="level2"><h2>Różnice w atrybutach</h2><p>W Reakcie kilka atrybutów działa inaczej niż w HTML-u:<section id="checked"class="level3"><h3>checked</h3><p>Atrybut <code>checked</code> jest wspierany przez element <code>&#x3C;input></code> typu <code>checkbox</code> lub <code>radio</code>. Za jego pomocą można dany element ustawić jako odznaczony. Jest to przydatne podczas budowania kontrolowanych komponentów. W przypadku komponentów niekontrolowanych należy używać <code>defaultChecked</code>, który określa, czy komponent ma być odznaczony przy pierwszym zamontowaniu.</section><section id="classname"class="level3"><h3>className</h3><p>Aby przypisać klasę CSS, należy użyć atrybutu <code>className</code>. Dotyczy to wszystkich standardowych elementów DOM oraz SVG, takich jak <code>&#x3C;div></code>, <code>&#x3C;a></code> i innych.<p>Gdy używasz Reacta z Web Components (co jest rzadkie), stosuj atrybut <code>class</code>.</section><section id="dangerouslysetinnerhtml"class="level3"><h3>dangerouslySetInnerHTML</h3><p><code>dangerouslySetInnerHTML</code> jest reactowym odpowiednikiem dla <code>innerHTML</code> z przeglądarkowego DOM. Ogólnie rzecz biorąc, używanie HTML w kodzie jest ryzykowne, ponieważ łatwo jest nieumyślnie narazić użytkowników na atak <a href="https://pl.wikipedia.org/wiki/Cross-site_scripting">cross-site scripting (XSS)</a>. Z tego powodu jedynym sposobem na wstawienie HTML bezpośrednio w Reakcie jest użycie właściwości <code>dangerouslySetInnerHTML</code> i przekazanie obiektu z kluczem <code>__html</code> -- wszystko po to, żeby pamiętać, iż jest to niebezpieczne. Przykład:<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">createMarkup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span><span class="token literal-property property">__html</span><span class="token operator">:</span> <span class="token string">'Pierwszy &#x26;middot; Drugi'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">MyComponent</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token operator">&#x3C;</span>div dangerouslySetInnerHTML<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">createMarkup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></section><section id="htmlfor"class="level3"><h3>htmlFor</h3><p>Jako że <code>for</code> jest zarezerwowanym słowem w JavaScripcie, React używa zamiast niego <code>htmlFor</code>.</section><section id="onchange"class="level3"><h3>onChange</h3><p>Zdarzenie <code>onChange</code> przebiega zgodnie z oczekiwaniami: jest aktywowane za każdym razem, gdy zmienia się wartość w polu formularza. Specjalnie nie używamy implementacji przeglądarkowej, ponieważ <code>onChange</code> ma nazwę nieadekwatną do zachowania. React natomiast używa tego zdarzenia do obsłużenia w czasie rzeczywistym zmian w danych wejściowych kontrolki formularza.</section><section id="selected"class="level3"><h3>selected</h3><p>Jeśli chcesz zaznaczyć którąś z opcji <code>&#x3C;option></code>, przekaż jej wartość jako właściwość <code>value</code> elementu <code>&#x3C;select></code>. Aby dowiedzieć się więcej na ten temat, zajrzyj do sekcji <a href="./forms.html#the-select-tag">"Znacznik select"</a>.</section><section id="style"class="level3"><h3>style</h3><blockquote><p>Wskazówka<p>Niektóre przykłady w dokumentacji używają <code>style</code> dla wygody, ale ogólnie rzecz biorąc, <strong>używanie atrybutu <code>style</code> do stylowania elementów nie jest zalecane.</strong> W większości przypadków należy korzystać z atrybutu <a href="#classname"><code>className</code></a>, odnosząc się do klas definiowanych w zewnętrznym arkuszu stylów (ang. <em>stylesheet</em>). <code>style</code> jest najczęściej używany w aplikacjach reactowych do dodawania stylów dynamicznych, zmieniających się przy kolejnych renderowaniach. Zobacz też <a href="./faq-styling.html">FAQ: Stylowanie i CSS</a>.</blockquote><p>Atrybut <code>style</code> zamiast zwykłego ciągu znaków przyjmuje javascriptowy obiekt z właściwościami CSS zapisanymi w notacji camelCase (nie ciąg znaków jak w CSS). Jest to zgodne z właściwością DOM <code>style</code> w JavaScripcie, poprawia wydajność i zapobiega dziurom w zabezpieczeniach przed XSS. Przykład:<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> divStyle <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'blue'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">backgroundImage</span><span class="token operator">:</span> <span class="token string">'url('</span> <span class="token operator">+</span> imgUrl <span class="token operator">+</span> <span class="token string">')'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">HelloWorldComponent</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token operator">&#x3C;</span>div style<span class="token operator">=</span><span class="token punctuation">{</span>divStyle<span class="token punctuation">}</span><span class="token operator">></span><span class="token maybe-class-name">Witaj</span><span class="token punctuation">,</span> świecie<span class="token operator">&#x3C;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>Zauważ, że style nie mają automatycznie nadawanego prefiksu. Aby zapewnić kompatybilność ze starszymi przeglądarkami, musisz nadać im odpowiednie właściwości:<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> divStyle <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">WebkitTransition</span><span class="token operator">:</span> <span class="token string">'all'</span><span class="token punctuation">,</span> <span class="token comment">// zwróć uwagę na wielką literę 'W'</span>
  <span class="token literal-property property">msTransition</span><span class="token operator">:</span> <span class="token string">'all'</span> <span class="token comment">// 'ms' jest jedynym prefiksem zapisywanym małą literą</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">ComponentWithTransition</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token operator">&#x3C;</span>div style<span class="token operator">=</span><span class="token punctuation">{</span>divStyle<span class="token punctuation">}</span><span class="token operator">></span><span class="token maybe-class-name">To</span> powinno działać na wielu przeglądarkach<span class="token operator">&#x3C;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>Nazwy kluczy obiektu stylów zapisujemy w notacji camelCase, aby były zgodne z właściwościami węzłów DOM w JS (np. <code>node.style.backgroundImage</code>). Prefiksy dostawców (ang. <em>vendor prefixes</em>) <a href="https://www.andismith.com/blogs/2012/02/modernizr-prefixed/">inne niż <code>ms</code></a> powinny zaczynać się od wielkiej litery. Dlatego <code>WebkitTransition</code> zaczyna się od wielkiej litery "W".<p>React automatycznie doda przyrostek "px" (piksele) dla pewnych liczbowych właściwości stylów. Jeśli chcesz użyć innych jednostek niż "px", określ wartość jako ciąg znaków z pożądaną jednostką. Przykład:<pre class="language-js"><code class="language-js"><span class="token comment">// Rezultat: '10px'</span>
<span class="token operator">&#x3C;</span>div style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">></span>
  <span class="token maybe-class-name">Witaj</span><span class="token punctuation">,</span> świecie<span class="token operator">!</span>
<span class="token operator">&#x3C;</span><span class="token operator">/</span>div<span class="token operator">></span>

<span class="token comment">// Rezultat: '10%'</span>
<span class="token operator">&#x3C;</span>div style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token string">'10%'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">></span>
  <span class="token maybe-class-name">Witaj</span><span class="token punctuation">,</span> świecie<span class="token operator">!</span>
<span class="token operator">&#x3C;</span><span class="token operator">/</span>div<span class="token operator">></span></code></pre><p>Nie wszystkie właściwości stylów są konwertowane do ciągów znaków z przyrostkiem 'px'. Niektóre z nich pozostają bez jednostek (np. <code>zoom</code>, <code>order</code>, <code>flex</code>). Pełna lista wyjątków jest dostępna <a href="https://github.com/facebook/react/blob/4131af3e4bf52f3a003537ec95a1655147c81270/src/renderers/dom/shared/CSSProperty.js#L15-L59">tutaj</a>.</section><section id="suppresscontenteditablewarning"class="level3"><h3>suppressContentEditableWarning</h3><p>Zwykle gdy element posiadający potomka jest oznaczony jako <code>contentEditable</code>, pojawia się ostrzeżenie, ponieważ mechanizm ten nie zadziała prawidłowo. Ten atrybut wyłącza to ostrzeżenie. Nie używaj go, chyba że tworzysz bibliotekę ręcznie zarządzającą właściwością <code>contentEditable</code>, jak np. <a href="https://facebook.github.io/draft-js/">Draft.js</a>.</section><section id="suppresshydrationwarning"class="level3"><h3>suppressHydrationWarning</h3><p>Gdy używasz renderowania po stronie serwera (ang. <em>server-side</em>), zwykle pojawia się ostrzeżenie, gdy serwer i klient renderują inną zawartość. Jednakże, w niektórych rzadkich przypadkach, dokładne dopasowanie jest bardzo trudne lub niemożliwe do osiągnięcia. Na przykład, znaczniki czasu zwykle różnią się między serwerem i klientem.<p>Jeżeli ustawisz właściwość <code>suppressHydrationWarning</code> na <code>true</code>, React nie ostrzeże cię o niedopasowaniu atrybutów i zawartości tego elementu. Działa to tylko na jednym poziomie zagłębienia i jest używane jako "wyjście awaryjne" z problemu. Nie nadużywaj go. Możesz poczytać więcej o hydratacji (ang. <em>hydration</em>) w <a href="./react-dom-client.html#hydrateroot">dokumentacji funkcji <code>ReactDOM.hydrateRoot()</code></a>.</section><section id="value"class="level3"><h3>value</h3><p>Atrybut <code>value</code> jest wspierany przez elementy <code>&#x3C;input></code>, <code>&#x3C;select></code> oraz <code>&#x3C;textarea></code>. Możesz go użyć do ustawienia wartości komponentu. Jest to przydatne do budowania kontrolowanych komponentów. <code>defaultValue</code> jest niekontrolowanym odpowiednikiem tego atrybutu, który określa, jaką wartość powinien mieć komponent przy pierwszym montowaniu.</section></section><section id="all-supported-html-attributes"class="level2"><h2>Wszystkie wspierane atrybuty HTML</h2><p>Poczynając od wersji 16-stej React wspiera wszystkie standardowe i <a href="/blog/2017/09/08/dom-attributes-in-react-16.html">niestandardowe</a> atrybuty DOM.<p>React od zawsze udostępniał interfejs API jak najbardziej podobny do javascriptowego interfejsu DOM. Z racji tego, że komponenty reactowe często przyjmują zarówno właściwości niestandardowe, jak i te związane z modelem DOM, React używa notacji <code>camelCase</code>, zupełnie jak interfejs DOM:<pre class="language-js"><code class="language-js"><span class="token operator">&#x3C;</span>div tabIndex<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>      <span class="token comment">// Dokładnie jak node.tabIndex w DOM API</span>
<span class="token operator">&#x3C;</span>div className<span class="token operator">=</span><span class="token string">"Button"</span> <span class="token operator">/</span><span class="token operator">></span> <span class="token comment">// Dokładnie jak node.className w DOM API</span>
<span class="token operator">&#x3C;</span>input readOnly<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">true</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>  <span class="token comment">// Dokładnie jak node.readOnly w DOM API</span></code></pre><p>Powyższe właściwości działają podobnie jak odpowiadajce im atrybuty HTML, z wyjątkiem specjalnych przypadków wymienionych powyżej.<p>Niektóre atrybuty DOM wspierane przez Reacta to:<pre class="language-text"><code class="language-text">accept acceptCharset accessKey action allowFullScreen alt async autoComplete
autoFocus autoPlay capture cellPadding cellSpacing challenge charSet checked
cite classID className colSpan cols content contentEditable contextMenu controls
controlsList coords crossOrigin data dateTime default defer dir disabled
download draggable encType form formAction formEncType formMethod formNoValidate
formTarget frameBorder headers height hidden high href hrefLang htmlFor
httpEquiv icon id inputMode integrity is keyParams keyType kind label lang list
loop low manifest marginHeight marginWidth max maxLength media mediaGroup method
min minLength multiple muted name noValidate nonce open optimum pattern
placeholder poster preload profile radioGroup readOnly rel required reversed
role rowSpan rows sandbox scope scoped scrolling seamless selected shape size
sizes span spellCheck src srcDoc srcLang srcSet start step style summary
tabIndex target title type useMap value width wmode wrap</code></pre><p>Podobnie, wspierane są wszystkie atrybuty SVG:<pre class="language-text"><code class="language-text">accentHeight accumulate additive alignmentBaseline allowReorder alphabetic
amplitude arabicForm ascent attributeName attributeType autoReverse azimuth
baseFrequency baseProfile baselineShift bbox begin bias by calcMode capHeight
clip clipPath clipPathUnits clipRule colorInterpolation
colorInterpolationFilters colorProfile colorRendering contentScriptType
contentStyleType cursor cx cy d decelerate descent diffuseConstant direction
display divisor dominantBaseline dur dx dy edgeMode elevation enableBackground
end exponent externalResourcesRequired fill fillOpacity fillRule filter
filterRes filterUnits floodColor floodOpacity focusable fontFamily fontSize
fontSizeAdjust fontStretch fontStyle fontVariant fontWeight format from fx fy
g1 g2 glyphName glyphOrientationHorizontal glyphOrientationVertical glyphRef
gradientTransform gradientUnits hanging horizAdvX horizOriginX ideographic
imageRendering in in2 intercept k k1 k2 k3 k4 kernelMatrix kernelUnitLength
kerning keyPoints keySplines keyTimes lengthAdjust letterSpacing lightingColor
limitingConeAngle local markerEnd markerHeight markerMid markerStart
markerUnits markerWidth mask maskContentUnits maskUnits mathematical mode
numOctaves offset opacity operator order orient orientation origin overflow
overlinePosition overlineThickness paintOrder panose1 pathLength
patternContentUnits patternTransform patternUnits pointerEvents points
pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits
r radius refX refY renderingIntent repeatCount repeatDur requiredExtensions
requiredFeatures restart result rotate rx ry scale seed shapeRendering slope
spacing specularConstant specularExponent speed spreadMethod startOffset
stdDeviation stemh stemv stitchTiles stopColor stopOpacity
strikethroughPosition strikethroughThickness string stroke strokeDasharray
strokeDashoffset strokeLinecap strokeLinejoin strokeMiterlimit strokeOpacity
strokeWidth surfaceScale systemLanguage tableValues targetX targetY textAnchor
textDecoration textLength textRendering to transform u1 u2 underlinePosition
underlineThickness unicode unicodeBidi unicodeRange unitsPerEm vAlphabetic
vHanging vIdeographic vMathematical values vectorEffect version vertAdvY
vertOriginX vertOriginY viewBox viewTarget visibility widths wordSpacing
writingMode x x1 x2 xChannelSelector xHeight xlinkActuate xlinkArcrole
xlinkHref xlinkRole xlinkShow xlinkTitle xlinkType xmlns xmlnsXlink xmlBase
xmlLang xmlSpace y y1 y2 yChannelSelector z zoomAndPan</code></pre><p>Możesz także używać niestandardowych atrybutów, pod warunkiem, że są one napisane małymi literami. <span style="float:footnote"><a href="./index.html#toc">Go to TOC</a></span></section></section>