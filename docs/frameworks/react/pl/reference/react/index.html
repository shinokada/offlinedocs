<!doctype html><html lang="pl"><meta charset="utf-8"><title>"Wbudowane hooki reactowe"</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"href="../../../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="wbudowane-hooki-reactowe"><h1 id="wbudowane-hooki-reactowe">"Wbudowane hooki reactowe"</h1><intro><p><em>Hooki</em> pozwalają na używanie różnych funkcjonalności reactowych wewnątrz komponentów. Możesz skorzystać z tych wbudowanych lub stworzyć własne poprzez ich połączenie. Poniżej znajdziesz listę wszystkich hooków dostępnych w Reakcie.</p></intro><section class="level2"aria-labelledby="hooki-stanu-state-hooks"><h2 id="hooki-stanu-state-hooks">Hooki stanu {/<em>state-hooks</em>/}</h2><p><em>Stan</em> pozwala komponentowi <a href="/learn/state-a-components-memory">"pamiętać" informacje, np. dane wprowadzone przez użytkownika</a>. Przykładowo, komponent formularza może przechowywać w stanie wartości pól formularza, a komponent galerii zdjęć może pamiętać pozycję aktualnie zaznaczonego elementu.<p>Aby dodać stan do komponentu, użyj jednego z tych hooków:<ul><li><a href="/reference/react/useState"><code>useState</code></a> deklaruje zmienną stanu, którą można zmieniać bezpośrednio.<li><a href="/reference/react/useReducer"><code>useReducer</code></a> deklaruje zmienną stanu wraz z logiką jej aktualizacji zawartą w <a href="/learn/extracting-state-logic-into-a-reducer">funkcji redukującej (<em>ang.</em> reducer function)</a>.</ul><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">ImageGallery</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>index<span class="token punctuation">,</span> setIndex<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span></code></pre></section><section class="level2"aria-labelledby="hooki-kontekstu-context-hooks"><h2 id="hooki-kontekstu-context-hooks">Hooki kontekstu {/<em>context-hooks</em>/}</h2><p><em>Kontekst</em> pozwala komponentowi <a href="/learn/passing-props-to-a-component">odbierać informacje od odległych rodziców bez przekazywania ich bezpośrednio za pomocą właściwości</a>. Przykładowo, komponent główny aplikacji może przekazać aktualny motyw kolorystyczny wszystkim komponentom w drzewie poniżej, bez względu na to, jak głęboko są zagnieżdżone.<ul><li><a href="/reference/react/useContext"><code>useContext</code></a> odczytuje wartości z kontekstu i subskrybuje się na wszelkie ich zmiany.</ul><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Button</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> theme <span class="token operator">=</span> <span class="token function">useContext</span><span class="token punctuation">(</span><span class="token maybe-class-name">ThemeContext</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span></code></pre></section><section class="level2"aria-labelledby="hooki-referencji-ref-hooks"><h2 id="hooki-referencji-ref-hooks">Hooki referencji {/<em>ref-hooks</em>/}</h2><p><em>Referencje</em> pozwalają komponentowi <a href="/learn/referencing-values-with-refs">trzymać informacje, które nie są potrzebne do renderowania</a>, jak np. węzeł DOM lub ID opóźnienia (<em>ang.</em> timeout). W przeciwieństwie do stanu, zmiana wartości referencji nie powoduje ponownego przerenderowania komponentu. Referencje są niejako "ukrytą furtką", pozwalającą wyjść poza paradygmaty Reacta. Przydają się, gdy potrzebujesz skorzystać z systemów nie-reactowych, jak choćby API wbudowane w przeglądarkę.<ul><li><a href="/reference/react/useRef"><code>useRef</code></a> deklaruje referencję. Możesz w niej trzymać dowolną wartość, lecz zwykle używa się jej do przechowywania węzła DOM.<li><a href="/reference/react/useImperativeHandle"><code>useImperativeHandle</code></a> pozwala dostosować referencję wystawianą przez twój komponent. Rzadko używany.</ul><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Form</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> inputRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword null nil">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span></code></pre></section><section class="level2"aria-labelledby="hooki-efektu-effect-hooks"><h2 id="hooki-efektu-effect-hooks">Hooki efektu {/<em>effect-hooks</em>/}</h2><p><em>Efekty</em> pozwalają komponentowi <a href="/learn/synchronizing-with-effects">połączyć się i zsynchronizować z zewnętrznymi systemami</a>. Mowa tu o sieci, DOM przeglądarki, animacjach, widgetach napisanych przy użyciu innej biblioteki czy innego kodu nie-reactowego.<ul><li><a href="/reference/react/useEffect"><code>useEffect</code></a> łączy komponent z systemem zewnętrznym.</ul><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">ChatRoom</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> roomId <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> connection <span class="token operator">=</span> <span class="token function">createConnection</span><span class="token punctuation">(</span>roomId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    connection<span class="token punctuation">.</span><span class="token method function property-access">connect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> connection<span class="token punctuation">.</span><span class="token method function property-access">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>roomId<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span></code></pre><p>Efekty są "ukrytą furtką", pozwalającą wyjść poza paradygmaty Reacta. Nie używaj ich do organizowania przepływu danych w aplikacji. Jeśli nie wchodzisz w interakcję z systemem zewnętrznym, <a href="/learn/you-might-not-need-an-effect">możesz wcale nie potrzebować efektu.</a><p>Istnieją dwa rzadko używane wariacje hooka <code>useEffect</code>, różniące się momentem wywołania:<ul><li><a href="/reference/react/useLayoutEffect"><code>useLayoutEffect</code></a> jest wywoływany zanim przeglądarka wykona ponowne rysowanie treści strony. Można w nim mierzyć elementy układu strony.<li><a href="/reference/react/useInsertionEffect"><code>useInsertionEffect</code></a> jest wywoływany zanim React wprowadzi zmiany do DOM. Biblioteki mogą za jego pomocą wstrzyknąć dynamiczne style CSS.</ul></section><section class="level2"aria-labelledby="hooki-wydajnościowe-performance-hooks"><h2 id="hooki-wydajnościowe-performance-hooks">Hooki wydajnościowe {/<em>performance-hooks</em>/}</h2><p>Powszechnie stosowanym zabiegiem, mającym na celu optymalizację wydajności renderowania, jest pominięcie zbędnej pracy. Na przykład, możesz poinstruować Reacta, aby użył poprzednio obliczonej wartości lub aby nie renderował ponownie komponentu, jeśli dane nie zmieniły się od ostatniego renderowania.<p>Aby pominąć obliczenia i niepotrzebne renderowania, użyj jednego z poniższych hooków:<ul><li><a href="/reference/react/useMemo"><code>useMemo</code></a> pozwala zapamiętać wynik kosztownych obliczeń.<li><a href="/reference/react/useCallback"><code>useCallback</code></a> pozwala zapamiętać definicję funkcji przed przekazaniem jej do zoptymalizowanego komponentu.</ul><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">TodoList</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> todos<span class="token punctuation">,</span> tab<span class="token punctuation">,</span> theme <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> visibleTodos <span class="token operator">=</span> <span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token function">filterTodos</span><span class="token punctuation">(</span>todos<span class="token punctuation">,</span> tab<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>todos<span class="token punctuation">,</span> tab<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre><p>Czasami nie można pominąć ponownego renderowania, ponieważ ekran mimo wszystko musi zostać zaktualizowany. W takim przypadku możesz poprawić wydajność poprzez rozdzielenie blokujących aktualizacji, które muszą być synchroniczne (np. wpisywanie przez użytkownika tekstu do pola) od nieblokujących, które nie muszą blokować interfejsu (np. aktualizacja wykresu).<p>Aby spriorytetyzować renderowanie, użyj jednego z tych hooków.<ul><li><a href="/reference/react/useTransition"><code>useTransition</code></a> pozwala oznaczyć zmianę stanu jako nieblokującą, co umożliwia innym zmianom na przerwanie jej.<li><a href="/reference/react/useDeferredValue"><code>useDeferredValue</code></a> pozwala opóźnić aktualizację niekrytycznej części interfejsu na rzecz innych.</ul></section><section class="level2"aria-labelledby="hooki-zasobów-resource-hooks"><h2 id="hooki-zasobów-resource-hooks">Hooki zasobów {/<em>resource-hooks</em>/}</h2><p>Do <em>zasobów</em> można dostać się z poziomu komponentu bez konieczności tworzenia dla nich stanu lokalnego. Na przykład, komponent może odczytywać wiadomość z Obietnicy (<em>ang.</em> Promise) albo informacje o stylu z kontekstu.<p>Aby odczytać wartość z zasobu, użyj tego Hooka:<ul><li><a href="/reference/react/use"><code>use</code></a> pozwala na odczytanie wartości zasobu, takiego jak <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Obietnica (<em>ang.</em> Promise)</a> lub <a href="/learn/passing-data-deeply-with-context">kontekst</a>.</ul><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">MessageComponent</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> messagePromise <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> message <span class="token operator">=</span> <span class="token function">use</span><span class="token punctuation">(</span>messagePromise<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> theme <span class="token operator">=</span> <span class="token function">use</span><span class="token punctuation">(</span><span class="token maybe-class-name">ThemeContext</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre></section><section class="level2"aria-labelledby="inne-hooki-other-hooks"><h2 id="inne-hooki-other-hooks">Inne hooki {/<em>other-hooks</em>/}</h2><p>Te hooki przydają się zwykle tylko autorom bibliotek i nieczęsto spotyka się je w kodzie aplikacyjnym.<ul><li><a href="/reference/react/useDebugValue"><code>useDebugValue</code></a> pozwala zmienić etykietę twojego własnego hooka, którą wyświetlają React DevTools.<li><a href="/reference/react/useId"><code>useId</code></a> pozwala komponentowi przypisać do siebie unikalny identyfikator. Zwykle używane w połączeniu z API dostępności (<em>ang.</em> accessibility).<li><a href="/reference/react/useSyncExternalStore"><code>useSyncExternalStore</code></a> pozwala komponentowi na zasubskrybowanie się do magazynu zewnętrznego.</ul></section><section class="level2"aria-labelledby="twoje-własne-hooki-your-own-hooks"><h2 id="twoje-własne-hooki-your-own-hooks">Twoje własne hooki {/<em>your-own-hooks</em>/}</h2><p>Możesz także <a href="/learn/reusing-logic-with-custom-hooks#extracting-your-own-custom-hook-from-a-component">zdefiniować swoje własne hooki</a> jako funkcje javascriptowe. <span style="float:footnote"><a href="../../index.html#toc">Go to TOC</a></span></section></section>