<!doctype html>
<html lang="pl">
  <head>
    <meta charset="utf-8">
    <title>Renderowanie elementów</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://raw.githubusercontent.com/shinokada/prism-coy-theme/main/theme_common.css">
  </head>
  <body>
    <section id="renderowanie-elementów" class="level1">
      <h1>Renderowanie elementów</h1>
      <p>Elementy to najmniejsze bloki budujące reactowe aplikacje.</p>
      <p>Element opisuje, co chcesz zobaczyć na ekranie:</p>
      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token operator">&#x3C;</span>h1<span class="token operator">></span><span class="token maybe-class-name">Witaj</span><span class="token punctuation">,</span> świecie<span class="token operator">!</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>h1<span class="token operator">></span><span class="token punctuation">;</span></code></pre>
      <p>W przeciwieństwie do elementów drzewa DOM w przeglądarce, reactowe elementy są zwykłymi obiektami i mają niski koszt tworzenia. React DOM zajmuje się aktualizowaniem drzewa DOM tak, aby odpowiadało strukturze elementów reactowych.</p>
      <blockquote>
        <p><strong>Wskazówka:</strong></p>
        <p>Łatwo pomylić elementy z szerzej znaną koncepcją "komponentów". Komponenty przedstawimy w <a href="./components-and-props.html">kolejnym rozdziale</a>. Elementy są tym, z czego komponenty "są zbudowane". Zachęcamy do przeczytania tego rozdziału przed przejściem dalej.</p>
      </blockquote>
      <section id="rendering-an-element-into-the-dom" class="level2">
        <h2>Renderowanie elementu w drzewie DOM</h2>
        <p>Powiedzmy, że gdzieś w twoim pliku HTML jest <code>&#x3C;div></code>:</p>
        <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span></code></pre>
        <p>Ten węzeł drzewa DOM nazywamy "korzeniem", bo wszystko, co się w nim znajduje będzie zarządzane przez React DOM.</p>
        <p>Aplikacje zbudowane przy pomocy samego Reacta zazwyczaj posiadają pojedynczy węzeł drzewa DOM. Jeśli natomiast integrujesz reactową aplikację z już istniejącą aplikacją, możesz mieć tyle odizolowanych "korzeni", ile chcesz.</p>
        <p>Aby wyrenderować reactowy element w węźle drzewa DOM, najpierw przekaż element DOM do <a href="./react-dom-client.html#createroot"><code>ReactDOM.createRoot()</code></a>, a następnie przekaż element reactowy do <code>root.render()</code>:</p>
        <p><code>embed:rendering-elements/render-an-element.js</code></p>
        <p><strong><a href="https://codepen.io/gaearon/pen/ZpvBNJ?editors=1010">Przetestuj kod na CodePen</a></strong></p>
        <p>Na stronie wyświetli się napis "Witaj, świecie!".</p>
      </section>
      <section id="updating-the-rendered-element" class="level2">
        <h2>Aktualizowanie wyrenderowanego elementu</h2>
        <p>Reactowe elementy są <a href="https://en.wikipedia.org/wiki/Immutable_object">niezmienne</a> (ang. <em>immutable</em>). Kiedy już stworzysz element, nie możesz zmienić jego komponentów potomnych ani właściwości. Element jest jak pojedyncza klatka z filmu: reprezentuje interfejs użytkownika w pewnym punkcie czasu.</p>
        <p>Przy naszej dotychczasowej wiedzy, jedynym sposobem aktualizacji interfejsu użytkownika jest stworzenie nowego elementu i przekazanie go do <code>root.render()</code>.</p>
        <p>Rozważ ten przykład tykającego zegara:</p>
        <p><code>embed:rendering-elements/update-rendered-element.js</code></p>
        <p><strong><a href="https://codepen.io/gaearon/pen/gwoJZk?editors=1010">Przetestuj kod na CodePen</a></strong></p>
        <p>Wywołuje on <a href="./react-dom.html#render"><code>root.render()</code></a> z wewnątrz funkcji zwrotnej <a href="https://developer.mozilla.org/pl/docs/Web/API/Window/setInterval"><code>setInterval()</code></a> co sekundę.</p>
        <blockquote>
          <p><strong>Wskazówka:</strong></p>
          <p>W praktyce większość reactowych aplikacji wywołuje <code>root.render()</code> tylko raz. W kolejnych rozdziałach dowiemy się, jak można taki kod wyizolować do <a href="./state-and-lifecycle.html">komponentów stanowych</a>.</p>
          <p>Radzimy jednak nie pomijać żadnych tematów, ponieważ kolejne rozdziały oparte są o wiedzę z poprzednich.</p>
        </blockquote>
      </section>
      <section id="react-only-updates-whats-necessary" class="level2">
        <h2>React uaktualnia tylko to, co potrzebne</h2>
        <p>React DOM porównuje element i jego potomków do poprzedniego oraz nakłada tylko te aktualizacje drzewa DOM, które konieczne są do doprowadzenia go do pożądanego stanu.</p>
        <p>Możesz to sprawdzić przez zbadanie (ang. <em>inspect</em>) <a href="https://codepen.io/gaearon/pen/gwoJZk?editors=1010">ostatniego przykładu</a> przy użyciu narzędzi deweloperskich:</p>
        <figure>
          <img src="./docs/granular-dom-updates.gif" alt="inspektor DOM pokazujący cząstkowe aktualizacje">
          <figcaption aria-hidden="true">inspektor DOM pokazujący cząstkowe aktualizacje</figcaption>
        </figure>
        <p>Mimo że przy każdym tyknięciu zegara tworzymy element opisujący cały interfejs użytkownika, tylko węzeł tekstowy, którego treść uległa zmianie, zostaje zaktualizowany przez React DOM.</p>
        <p>
          Według naszego doświadczenia, myślenie o tym, jak powinien wyglądać interfejs użytkownika w danym momencie, a nie jak zmieniać go w czasie, eliminuje całą klasę błędów.
          <span style="float: footnote;"><a href="./index.html#toc">Go to TOC</a></span>
        </p>
      </section>
    </section>
  </body>
</html>
