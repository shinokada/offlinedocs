<!doctype html>
<html lang="ko">
  <head>
    <meta charset="utf-8">
    <title>테스트 렌더러</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://raw.githubusercontent.com/shinokada/prism-coy-theme/main/theme_common.css">
  </head>
  <body>
    <section id="테스트-렌더러" class="level1">
      <h1>테스트 렌더러</h1>
      <p><strong>불러오기</strong></p>
      <pre class="language-javascript"><code class="language-javascript"><span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">TestRenderer</span></span> <span class="token keyword module">from</span> <span class="token string">'react-test-renderer'</span><span class="token punctuation">;</span> <span class="token comment">// ES6</span>
<span class="token keyword">const</span> <span class="token maybe-class-name">TestRenderer</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'react-test-renderer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// npm에서 ES5를 사용하는 경우</span></code></pre>
      <section id="overview" class="level2">
        <h2>개요</h2>
        <p>이 패키지는 DOM 혹은 네이티브 모바일 환경의 제약 없이, React 컴포넌트를 순수한 JavaScript 객체로 렌더링하는데 사용할 수 있는 React 렌더러를 제공합니다.</p>
        <p>기본적으로, 이 패키지를 사용하면 브라우저나 <a href="https://github.com/tmpvar/jsdom">jsdom</a> 없이 React DOM 또는 React Native 컴포넌트에 의해 렌더링된 플랫폼 뷰 계층의 스냅샷을 쉽게 찍을 수 있도록 도와줍니다.</p>
        <p>예시</p>
        <pre class="language-javascript"><code class="language-javascript"><span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">TestRenderer</span></span> <span class="token keyword module">from</span> <span class="token string">'react-test-renderer'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Link</span></span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token operator">&#x3C;</span>a href<span class="token operator">=</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span><span class="token property-access">page</span><span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">{</span>props<span class="token punctuation">.</span><span class="token property-access">children</span><span class="token punctuation">}</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>a<span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> testRenderer <span class="token operator">=</span> <span class="token maybe-class-name">TestRenderer</span><span class="token punctuation">.</span><span class="token method function property-access">create</span><span class="token punctuation">(</span>
  <span class="token operator">&#x3C;</span><span class="token maybe-class-name">Link</span> page<span class="token operator">=</span><span class="token string">"https://www.facebook.com/"</span><span class="token operator">></span><span class="token maybe-class-name">Facebook</span><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token maybe-class-name">Link</span><span class="token operator">></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>testRenderer<span class="token punctuation">.</span><span class="token method function property-access">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// { type: 'a',</span>
<span class="token comment">//   props: { href: 'https://www.facebook.com/' },</span>
<span class="token comment">//   children: [ 'Facebook' ] }</span></code></pre>
        <p>Jest의 스냅샷 테스트 기능으로 JSON 트리의 복사본을 파일로 자동 저장하여 테스트 내에서 변경되지 않았는지 확인할 수 있습니다. <a href="https://jestjs.io/docs/en/snapshot-testing">자세히 알아보기</a></p>
        <p>또한, 결과물을 순회하며 특정 노드를 찾아 원하는 값을 가지고 있는지 검증하는 데 사용할 수 있습니다.</p>
        <pre class="language-javascript"><code class="language-javascript"><span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">TestRenderer</span></span> <span class="token keyword module">from</span> <span class="token string">'react-test-renderer'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">MyComponent</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span>div<span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">SubComponent</span> foo<span class="token operator">=</span><span class="token string">"bar"</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span>p className<span class="token operator">=</span><span class="token string">"my"</span><span class="token operator">></span><span class="token maybe-class-name">Hello</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>p<span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">SubComponent</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span>p className<span class="token operator">=</span><span class="token string">"sub"</span><span class="token operator">></span><span class="token maybe-class-name">Sub</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>p<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> testRenderer <span class="token operator">=</span> <span class="token maybe-class-name">TestRenderer</span><span class="token punctuation">.</span><span class="token method function property-access">create</span><span class="token punctuation">(</span><span class="token operator">&#x3C;</span><span class="token maybe-class-name">MyComponent</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> testInstance <span class="token operator">=</span> testRenderer<span class="token punctuation">.</span><span class="token property-access">root</span><span class="token punctuation">;</span>

<span class="token function">expect</span><span class="token punctuation">(</span>testInstance<span class="token punctuation">.</span><span class="token method function property-access">findByType</span><span class="token punctuation">(</span><span class="token maybe-class-name">SubComponent</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">props</span><span class="token punctuation">.</span><span class="token property-access">foo</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBe</span><span class="token punctuation">(</span><span class="token string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">expect</span><span class="token punctuation">(</span>testInstance<span class="token punctuation">.</span><span class="token method function property-access">findByProps</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">className</span><span class="token operator">:</span> <span class="token string">"sub"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">children</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toEqual</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'Sub'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        <section id="testrenderer" class="level3">
          <h3>TestRenderer</h3>
          <ul>
            <li><a href="#testrenderercreate"><code>TestRenderer.create()</code></a></li>
            <li><a href="#testrendereract"><code>TestRenderer.act()</code></a></li>
          </ul>
        </section>
        <section id="testrenderer-instance" class="level3">
          <h3>TestRenderer instance</h3>
          <ul>
            <li><a href="#testrenderertojson"><code>testRenderer.toJSON()</code></a></li>
            <li><a href="#testrenderertotree"><code>testRenderer.toTree()</code></a></li>
            <li><a href="#testrendererupdate"><code>testRenderer.update()</code></a></li>
            <li><a href="#testrendererunmount"><code>testRenderer.unmount()</code></a></li>
            <li><a href="#testrenderergetinstance"><code>testRenderer.getInstance()</code></a></li>
            <li><a href="#testrendererroot"><code>testRenderer.root</code></a></li>
          </ul>
        </section>
        <section id="testinstance" class="level3">
          <h3>TestInstance</h3>
          <ul>
            <li><a href="#testinstancefind"><code>testInstance.find()</code></a></li>
            <li><a href="#testinstancefindbytype"><code>testInstance.findByType()</code></a></li>
            <li><a href="#testinstancefindbyprops"><code>testInstance.findByProps()</code></a></li>
            <li><a href="#testinstancefindall"><code>testInstance.findAll()</code></a></li>
            <li><a href="#testinstancefindallbytype"><code>testInstance.findAllByType()</code></a></li>
            <li><a href="#testinstancefindallbyprops"><code>testInstance.findAllByProps()</code></a></li>
            <li><a href="#testinstanceinstance"><code>testInstance.instance</code></a></li>
            <li><a href="#testinstancetype"><code>testInstance.type</code></a></li>
            <li><a href="#testinstanceprops"><code>testInstance.props</code></a></li>
            <li><a href="#testinstanceparent"><code>testInstance.parent</code></a></li>
            <li><a href="#testinstancechildren"><code>testInstance.children</code></a></li>
          </ul>
        </section>
      </section>
      <section id="reference" class="level2">
        <h2>참조</h2>
        <section id="testrenderercreate-testrenderercreate" class="level3">
          <h3><code>TestRenderer.create()</code> {#testrenderercreate}</h3>
          <pre class="language-javascript"><code class="language-javascript"><span class="token maybe-class-name">TestRenderer</span><span class="token punctuation">.</span><span class="token method function property-access">create</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
          <p>전달된 React 엘리먼트로 <code>TestRenderer</code> 인스턴스를 생성합니다. 실제 DOM을 사용하지 않지만, 컴포넌트 트리 전체를 메모리상에 렌더링하기 때문에 원하는 값을 가졌는지 검증할 수 있습니다. 반환된 인스턴스는 <a href="#testrenderer-instance">다음과 같은 함수와 속성을 가지고 있습니다.</a></p>
        </section>
        <section id="testrendereract-testrendereract" class="level3">
          <h3><code>TestRenderer.act()</code> {#testrendereract}</h3>
          <pre class="language-javascript"><code class="language-javascript"><span class="token maybe-class-name">TestRenderer</span><span class="token punctuation">.</span><span class="token method function property-access">act</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
          <p><a href="./test-utils.html#act"><code>react-dom/test-utils</code>의 <code>act()</code></a>와 비슷하게, <code>TestRenderer.act</code>는 검증을 위한 컴포넌트들을 준비합니다. <code>TestRenderer.create</code>와 <code>TestRenderer.update</code>의 호출을 이 버전의 <code>act()</code>를 사용해서 감싸주세요.</p>
          <pre class="language-javascript"><code class="language-javascript"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>create<span class="token punctuation">,</span> act<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'react-test-renderer'</span><span class="token punctuation">;</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">App</span></span> <span class="token keyword module">from</span> <span class="token string">'./app.js'</span><span class="token punctuation">;</span> <span class="token comment">// The component being tested</span>

<span class="token comment">// 컴포넌트를 렌더링합니다.</span>
<span class="token keyword">let</span> root<span class="token punctuation">;</span>
<span class="token function">act</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  root <span class="token operator">=</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token operator">&#x3C;</span><span class="token maybe-class-name">App</span> value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// root를 검증합니다.</span>
<span class="token function">expect</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span><span class="token method function property-access">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toMatchSnapshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 몇몇의 다른 props를 업데이트합니다.</span>
<span class="token function">act</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  root<span class="token punctuation">.</span><span class="token method function property-access">update</span><span class="token punctuation">(</span><span class="token operator">&#x3C;</span><span class="token maybe-class-name">App</span> value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// root를 검증합니다.</span>
<span class="token function">expect</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span><span class="token method function property-access">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toMatchSnapshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        </section>
        <section id="testrenderertojson-testrenderertojson" class="level3">
          <h3><code>testRenderer.toJSON()</code> {#testrenderertojson}</h3>
          <pre class="language-javascript"><code class="language-javascript">testRenderer<span class="token punctuation">.</span><span class="token method function property-access">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
          <p>렌더링 된 트리를 나타내는 객체를 반환합니다. 이 트리는 같은 플랫폼 고유의 노드(예: <code>&#x3C;div></code>, <code>&#x3C;View></code>)와, 그러한 노드의 속성만을 가지고 있습니다. 사용자가 작성한 컴포넌트는 나타나지 않습니다. 이 함수는 <a href="https://facebook.github.io/jest/docs/en/snapshot-testing.html#snapshot-testing-with-jest">스냅샷 테스팅</a> 시 유용하게 사용할 수 있습니다.</p>
        </section>
        <section id="testrenderertotree-testrenderertotree" class="level3">
          <h3><code>testRenderer.toTree()</code> {#testrenderertotree}</h3>
          <pre class="language-javascript"><code class="language-javascript">testRenderer<span class="token punctuation">.</span><span class="token method function property-access">toTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
          <p>렌더링 된 트리를 나타내는 객체를 반환합니다. <code>toJSON()</code>에서 반환되는 값보다 더욱 자세한 정보가 반환되며, 반환 값에는 사용자가 작성한 컴포넌트 역시 포함되어있습니다. 테스트 렌더러 위에 별도의 검증(assertion) 라이브러리를 만드는 것이 아니라면 이 함수는 필요하지 않을 것입니다.</p>
        </section>
        <section id="testrendererupdate-testrendererupdate" class="level3">
          <h3><code>testRenderer.update()</code> {#testrendererupdate}</h3>
          <pre class="language-javascript"><code class="language-javascript">testRenderer<span class="token punctuation">.</span><span class="token method function property-access">update</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span></code></pre>
          <p>메모리 내의 트리를 새로운 최상위 엘리먼트로 다시 렌더링합니다. 이 함수를 사용해 최상위 엘리먼트에서의 React 업데이트를 시뮬레이션할 수 있습니다. 새로운 엘리먼트가 이전 엘리먼트와 같은 타입과 키(key)를 가지고 있다면 트리를 업데이트합니다. 그렇지 않다면, 새로운 트리를 새로 마운트합니다.</p>
        </section>
        <section id="testrendererunmount-testrendererunmount" class="level3">
          <h3><code>testRenderer.unmount()</code> {#testrendererunmount}</h3>
          <pre class="language-javascript"><code class="language-javascript">testRenderer<span class="token punctuation">.</span><span class="token method function property-access">unmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
          <p>메모리 내의 트리를 마운트 해제하고 적절한 생명주기 이벤트를 발생시킵니다.</p>
        </section>
        <section id="testrenderergetinstance-testrenderergetinstance" class="level3">
          <h3><code>testRenderer.getInstance()</code> {#testrenderergetinstance}</h3>
          <pre class="language-javascript"><code class="language-javascript">testRenderer<span class="token punctuation">.</span><span class="token method function property-access">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
          <p>최상위 엘리먼트에 대응하는 인스턴스가 존재하면 값을 반환합니다. 최상위 엘리먼트가 함수 컴포넌트일 경우, 함수 컴포넌트에는 인스턴스가 없기 때문에 작동하지 않습니다.</p>
        </section>
        <section id="testrendererroot-testrendererroot" class="level3">
          <h3><code>testRenderer.root</code> {#testrendererroot}</h3>
          <pre class="language-javascript"><code class="language-javascript">testRenderer<span class="token punctuation">.</span><span class="token property-access">root</span></code></pre>
          <p>트리 내에서 특정 노드를 검증할 때 유용한 최상위 "테스트 인스턴스" 객체를 반환합니다. 이것을 사용하여 더욱 깊이 있는 다른 "테스트 인스턴스"를 찾을 수 있습니다.</p>
        </section>
        <section id="testinstancefind-testinstancefind" class="level3">
          <h3><code>testInstance.find()</code> {#testinstancefind}</h3>
          <pre class="language-javascript"><code class="language-javascript">testInstance<span class="token punctuation">.</span><span class="token method function property-access">find</span><span class="token punctuation">(</span>test<span class="token punctuation">)</span></code></pre>
          <p><code>test(testInstance)</code>에 대해 <code>true</code>를 반환하는 단 하나의 자식 테스트 인스턴스를 찾아 반환합니다. 해당되는 인스턴스가 하나가 아니라면 오류를 반환합니다.</p>
        </section>
        <section id="testinstancefindbytype-testinstancefindbytype" class="level3">
          <h3><code>testInstance.findByType()</code> {#testinstancefindbytype}</h3>
          <pre class="language-javascript"><code class="language-javascript">testInstance<span class="token punctuation">.</span><span class="token method function property-access">findByType</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span></code></pre>
          <p>주어진 타입(type)에 해당하는 단 하나의 자식 테스트 인스턴스를 찾아 반환합니다. 해당되는 인스턴스가 하나가 아니라면 오류를 반환합니다.</p>
        </section>
        <section id="testinstancefindbyprops-testinstancefindbyprops" class="level3">
          <h3><code>testInstance.findByProps()</code> {#testinstancefindbyprops}</h3>
          <pre class="language-javascript"><code class="language-javascript">testInstance<span class="token punctuation">.</span><span class="token method function property-access">findByProps</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span></code></pre>
          <p>주어진 <code>props</code> 들에 해당하는 단 하나의 자식 테스트 인스턴스를 찾아 반환합니다. 해당되는 인스턴스가 하나가 아니라면 오류를 반환합니다.</p>
        </section>
        <section id="testinstancefindall-testinstancefindall" class="level3">
          <h3><code>testInstance.findAll()</code> {#testinstancefindall}</h3>
          <pre class="language-javascript"><code class="language-javascript">testInstance<span class="token punctuation">.</span><span class="token method function property-access">findAll</span><span class="token punctuation">(</span>test<span class="token punctuation">)</span></code></pre>
          <p><code>test(testInstance)</code>에 대해 <code>true</code>를 반환하는 모든 자식 테스트 인스턴스들을 찾아 반환합니다.</p>
        </section>
        <section id="testinstancefindallbytype-testinstancefindallbytype" class="level3">
          <h3><code>testInstance.findAllByType()</code> {#testinstancefindallbytype}</h3>
          <pre class="language-javascript"><code class="language-javascript">testInstance<span class="token punctuation">.</span><span class="token method function property-access">findAllByType</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span></code></pre>
          <p>주어진 타입(type)에 해당하는 모든 자식 테스트 인스턴스들을 찾아 반환합니다.</p>
        </section>
        <section id="testinstancefindallbyprops-testinstancefindallbyprops" class="level3">
          <h3><code>testInstance.findAllByProps()</code> {#testinstancefindallbyprops}</h3>
          <pre class="language-javascript"><code class="language-javascript">testInstance<span class="token punctuation">.</span><span class="token method function property-access">findAllByProps</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span></code></pre>
          <p>주어진 <code>props</code> 들에 해당하는 모든 자식 테스트 인스턴스들을 찾아 반환합니다.</p>
        </section>
        <section id="testinstanceinstance-testinstanceinstance" class="level3">
          <h3><code>testInstance.instance</code> {#testinstanceinstance}</h3>
          <pre class="language-javascript"><code class="language-javascript">testInstance<span class="token punctuation">.</span><span class="token property-access">instance</span></code></pre>
          <p>이 테스트 인스턴스에 해당하는 컴포넌트 인스턴스입니다. 함수 컴포넌트에는 인스턴스가 없기 때문에 클래스 컴포넌트에서만 사용할 수 있습니다. 주어진 컴포넌트 내부의 <code>this</code>와 같습니다.</p>
        </section>
        <section id="testinstancetype-testinstancetype" class="level3">
          <h3><code>testInstance.type</code> {#testinstancetype}</h3>
          <pre class="language-javascript"><code class="language-javascript">testInstance<span class="token punctuation">.</span><span class="token property-access">type</span></code></pre>
          <p>이 테스트 인스턴스에 해당하는 컴포넌트의 타입입니다. 예를 들어, <code>&#x3C;Button /></code> 컴포넌트의 타입은 <code>Button</code> 입니다.</p>
        </section>
        <section id="testinstanceprops-testinstanceprops" class="level3">
          <h3><code>testInstance.props</code> {#testinstanceprops}</h3>
          <pre class="language-javascript"><code class="language-javascript">testInstance<span class="token punctuation">.</span><span class="token property-access">props</span></code></pre>
          <p>이 테스트 인스턴스에 해당하는 컴포넌트의 props들입니다. 예를 들어, <code>&#x3C;Button size="small" /></code> 컴포넌트는 <code>{size: 'small'}</code> 이라는 props들을 가지고 있습니다.</p>
        </section>
        <section id="testinstanceparent-testinstanceparent" class="level3">
          <h3><code>testInstance.parent</code> {#testinstanceparent}</h3>
          <pre class="language-javascript"><code class="language-javascript">testInstance<span class="token punctuation">.</span><span class="token property-access">parent</span></code></pre>
          <p>이 테스트 인스턴스의 부모입니다.</p>
        </section>
        <section id="testinstancechildren-testinstancechildren" class="level3">
          <h3><code>testInstance.children</code> {#testinstancechildren}</h3>
          <pre class="language-javascript"><code class="language-javascript">testInstance<span class="token punctuation">.</span><span class="token property-access">children</span></code></pre>
          <p>이 테스트 인스턴스의 자식들입니다.</p>
        </section>
      </section>
      <section id="ideas" class="level2">
        <h2>Ideas</h2>
        <p>커스텀 모의 ref를 만들어주는 <code>createNodeMock</code> 함수를 <code>TestRenderer.create</code>에 추가로 넘길 수 있습니다. <code>createNodeMock</code>은 현재의 엘리먼트를 받아 모의 ref 객체를 반환할 것입니다. 이것은 ref에 의존하는 컴포넌트를 테스트할 때 유용합니다.</p>
        <pre class="language-javascript"><code class="language-javascript"><span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">TestRenderer</span></span> <span class="token keyword module">from</span> <span class="token string">'react-test-renderer'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">MyComponent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">input</span> <span class="token operator">=</span> <span class="token keyword null nil">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">input</span><span class="token punctuation">.</span><span class="token method function property-access">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> <span class="token operator">&#x3C;</span>input type<span class="token operator">=</span><span class="token string">"text"</span> ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">el</span> <span class="token arrow operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">input</span> <span class="token operator">=</span> el<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> focused <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token maybe-class-name">TestRenderer</span><span class="token punctuation">.</span><span class="token method function property-access">create</span><span class="token punctuation">(</span>
  <span class="token operator">&#x3C;</span><span class="token maybe-class-name">MyComponent</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token function-variable function">createNodeMock</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">.</span><span class="token property-access">type</span> <span class="token operator">===</span> <span class="token string">'input'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 모의 focus 함수 생성</span>
        <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
          <span class="token function-variable function">focus</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
            focused <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword control-flow">return</span> <span class="token keyword null nil">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">expect</span><span class="token punctuation">(</span>focused<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBe</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        <p><span style="float: footnote;"><a href="./index.html#toc">Go to TOC</a></span></p>
      </section>
    </section>
  </body>
</html>
