<!doctype html><html lang="ko"><meta charset="utf-8"><title>&#x3C;Profiler></title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"href="../../../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="profiler"><h1 id="profiler"><profiler></profiler></h1><intro><p><code>&#x3C;Profiler></code>는 프로그래밍 방식으로 React 트리의 렌더링 성능을 측정할 수 있습니다.<pre class="language-js"><code class="language-js"><span class="token operator">&#x3C;</span><span class="token maybe-class-name">Profiler</span> id<span class="token operator">=</span><span class="token string">"App"</span> onRender<span class="token operator">=</span><span class="token punctuation">{</span>onRender<span class="token punctuation">}</span><span class="token operator">></span>
  <span class="token operator">&#x3C;</span><span class="token maybe-class-name">App</span> <span class="token operator">/</span><span class="token operator">></span>
<span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token maybe-class-name">Profiler</span><span class="token operator">></span></code></pre></intro><inlinetoc><section class="level2"aria-labelledby="레퍼런스-reference"><h2 id="레퍼런스-reference">레퍼런스 {/<em>reference</em>/}</h2><section class="level3"aria-labelledby="profiler-profiler"><h3 id="profiler-profiler"><code>&#x3C;Profiler></code> {/<em>profiler</em>/}</h3><p>렌더링 성능을 측정하기 위해서 컴포넌트 트리를 <code>&#x3C;Profiler></code>로 감싸줍니다.<pre class="language-js"><code class="language-js"><span class="token operator">&#x3C;</span><span class="token maybe-class-name">Profiler</span> id<span class="token operator">=</span><span class="token string">"App"</span> onRender<span class="token operator">=</span><span class="token punctuation">{</span>onRender<span class="token punctuation">}</span><span class="token operator">></span>
  <span class="token operator">&#x3C;</span><span class="token maybe-class-name">App</span> <span class="token operator">/</span><span class="token operator">></span>
<span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token maybe-class-name">Profiler</span><span class="token operator">></span></code></pre><section class="level4"aria-labelledby="props-props"><h4 id="props-props">Props {/<em>props</em>/}</h4><ul><li><code>id</code>: 성능을 측정하는 UI 컴포넌트를 식별하기 위한 문자열입니다.<li><code>onRender</code>: 프로파일링 된 트리 내의 컴포넌트가 업데이트될 때마다 React가 호출하는 <a href="#onrender-callback"><code>onRender</code> 콜백</a>입니다. 렌더링 된 내용과 소요된 시간에 대한 정보를 받고 있습니다.</ul></section><section class="level4"aria-labelledby="주의-사항-caveats"><h4 id="주의-사항-caveats">주의 사항 {/<em>caveats</em>/}</h4><ul><li>프로파일링은 추가적인 오버헤드를 더하기 때문에, <strong>프로덕션 빌드에서는 기본적으로 비활성화가 되어있습니다.</strong> 프로덕션 프로파일링을 사용하려면, <a href="https://fb.me/react-profiling">프로파일링 기능이 활성화된 특수한 프로덕션 빌드</a>를 사용해야 합니다.</ul></section></section><section class="level3"aria-labelledby="onrender-콜백-onrender-callback"><h3 id="onrender-콜백-onrender-callback"><code>onRender</code> 콜백 {/<em>onrender-callback</em>/}</h3><p>React는 <code>onRender</code> 콜백을 렌더링 된 내용과 같이 호출합니다.<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">onRender</span><span class="token punctuation">(</span><span class="token parameter">id<span class="token punctuation">,</span> phase<span class="token punctuation">,</span> actualDuration<span class="token punctuation">,</span> baseDuration<span class="token punctuation">,</span> startTime<span class="token punctuation">,</span> commitTime</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 렌더링 시간 집계 혹은 로그...</span>
<span class="token punctuation">}</span></code></pre><section class="level4"aria-labelledby="매개변수-onrender-parameters"><h4 id="매개변수-onrender-parameters">매개변수 {/<em>onrender-parameters</em>/}</h4><ul><li><code>id</code>: 커밋된 <code>&#x3C;Profiler></code> 트리의 문자열 <code>id</code> 프로퍼티입니다. 프로파일러를 다중으로 사용하고 있는 트리 내에서 어떤 부분이 커밋 되었는지 식별할 수 있도록 해줍니다.<li><code>phase</code>: <code>"mount"</code>, <code>"update"</code> 혹은 <code>"nested-update"</code>. 트리가 최초로 마운트되었는지 또는 props, state 또는 hook의 변경으로 인해 리렌더링 되었는지 알 수 있습니다.<li><code>actualDuration</code>: 현재 업데이트에 대해 <code>&#x3C;Profiler></code>와 자식들을 렌더링하는데 소요된 시간(밀리초)입니다. 이는 하위 트리가 memoization을 얼마나 잘 사용하는지를 나타냅니다 (e.g. <a href="/reference/react/memo"><code>memo</code></a> 와 <a href="/reference/react/useMemo"><code>useMemo</code></a>). 많은 자식이 특정 props가 변경되는 경우에만 다시 리렌더링이 되어야 하므로 이상적으로는 이 값은 최초 마운트 이후에는 많이 감소해야 합니다.<li><code>baseDuration</code>: 최적화 없이 전체 <code>&#x3C;Profiler></code> 하위트리에 대해 걸리는 시간을 추정하는 소요된 시간(밀리초)입니다. 트리에 있는 각 컴포넌트의 가장 최근 렌더링 시간을 합산하여 계산됩니다. 이 값은 최악의 렌더링 비용(예: 최초 마운트 또는 memoization이 없는 트리)을 추정합니다. <code>actualDuration</code> 과 비교하여 memoization이 작동하는지 확인합니다.<li><code>startTime</code>: React가 현재 업데이트 렌더링을 시작한 시점에 대한 숫자 타임스탬프입니다.<li><code>commitTime</code>: React가 현재 업데이트를 커밋한 시점에 대한 숫자 타임스탬프입니다. 이 값은 커밋된 모든 프로파일러 간에 공유되므로 원하는 경우 그룹화할 수 있습니다.</ul></section></section></section><section class="level2"aria-labelledby="사용법-usage"><h2 id="사용법-usage">사용법 {/<em>usage</em>/}</h2><section class="level3"aria-labelledby="프로그래밍-방식으로-렌더링-성능-측정-measuring-rendering-performance-programmatically"><h3 id="프로그래밍-방식으로-렌더링-성능-측정-measuring-rendering-performance-programmatically">프로그래밍 방식으로 렌더링 성능 측정 {/<em>measuring-rendering-performance-programmatically</em>/}</h3><p>React 트리를 <code>&#x3C;Profiler></code> 컴포넌트로 감싸서 렌더링 성능을 측정합니다.<pre class="language-js"><code class="language-js"><span class="token operator">&#x3C;</span><span class="token maybe-class-name">App</span><span class="token operator">></span>
  <span class="token operator">&#x3C;</span><span class="token maybe-class-name">Profiler</span> id<span class="token operator">=</span><span class="token string">"Sidebar"</span> onRender<span class="token operator">=</span><span class="token punctuation">{</span>onRender<span class="token punctuation">}</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token maybe-class-name">Sidebar</span> <span class="token operator">/</span><span class="token operator">></span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token maybe-class-name">Profiler</span><span class="token operator">></span>
  <span class="token operator">&#x3C;</span><span class="token maybe-class-name">PageContent</span> <span class="token operator">/</span><span class="token operator">></span>
<span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token maybe-class-name">App</span><span class="token operator">></span></code></pre><p>트리 내의 컴포넌트가 업데이트를 커밋할 때마다 React가 호출하는 <code>onRender</code> 콜백(함수)와 UI 컴포넌트를 식별하기 위한 문자열 <code>id</code> (문자열) 두 개의 props가 요구됩니다.</p><pitfall><p>프로파일링은 추가적인 오버헤드를 더하기 때문에, <strong>프로덕션 빌드에서는 기본적으로 비활성화가 되어있습니다.</strong> 프로덕션 프로파일링을 사용하려면, <a href="https://fb.me/react-profiling">프로파일링 기능이 활성화된 특수한 프로덕션 빌드</a>를 사용해야 합니다.</p></pitfall><note><p><code>&#x3C;Profiler></code>는 프로그래밍 방식으로 측정값들을 모아줍니다. 상호작용할 수 있는 프로파일러를 찾고 있다면, <a href="/learn/react-developer-tools">React Developer Tools</a>의 프로파일러 탭을 사용해 보세요. 브라우저 확장 프로그램으로써 유사한 기능을 제공합니다.</p></note></section><section class="level3"aria-labelledby="애플리케이션의-부분별-측정-measuring-different-parts-of-the-application"><h3 id="애플리케이션의-부분별-측정-measuring-different-parts-of-the-application">애플리케이션의 부분별 측정 {/<em>measuring-different-parts-of-the-application</em>/}</h3><p><code>&#x3C;Profiler></code> 컴포넌트를 여러 개 사용하여 애플리케이션을 부분별로 측정할 수 있습니다.<pre class="language-js"><code class="language-js"><span class="token operator">&#x3C;</span><span class="token maybe-class-name">App</span><span class="token operator">></span>
  <span class="token operator">&#x3C;</span><span class="token maybe-class-name">Profiler</span> id<span class="token operator">=</span><span class="token string">"Sidebar"</span> onRender<span class="token operator">=</span><span class="token punctuation">{</span>onRender<span class="token punctuation">}</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token maybe-class-name">Sidebar</span> <span class="token operator">/</span><span class="token operator">></span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token maybe-class-name">Profiler</span><span class="token operator">></span>
  <span class="token operator">&#x3C;</span><span class="token maybe-class-name">Profiler</span> id<span class="token operator">=</span><span class="token string">"Content"</span> onRender<span class="token operator">=</span><span class="token punctuation">{</span>onRender<span class="token punctuation">}</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token maybe-class-name">Content</span> <span class="token operator">/</span><span class="token operator">></span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token maybe-class-name">Profiler</span><span class="token operator">></span>
<span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token maybe-class-name">App</span><span class="token operator">></span></code></pre><p><code>&#x3C;Profiler></code> 컴포넌트들을 중첩해서 사용할 수 있습니다.<pre class="language-js"><code class="language-js"><span class="token operator">&#x3C;</span><span class="token maybe-class-name">App</span><span class="token operator">></span>
  <span class="token operator">&#x3C;</span><span class="token maybe-class-name">Profiler</span> id<span class="token operator">=</span><span class="token string">"Sidebar"</span> onRender<span class="token operator">=</span><span class="token punctuation">{</span>onRender<span class="token punctuation">}</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token maybe-class-name">Sidebar</span> <span class="token operator">/</span><span class="token operator">></span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token maybe-class-name">Profiler</span><span class="token operator">></span>
  <span class="token operator">&#x3C;</span><span class="token maybe-class-name">Profiler</span> id<span class="token operator">=</span><span class="token string">"Content"</span> onRender<span class="token operator">=</span><span class="token punctuation">{</span>onRender<span class="token punctuation">}</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token maybe-class-name">Content</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">Profiler</span> id<span class="token operator">=</span><span class="token string">"Editor"</span> onRender<span class="token operator">=</span><span class="token punctuation">{</span>onRender<span class="token punctuation">}</span><span class="token operator">></span>
        <span class="token operator">&#x3C;</span><span class="token maybe-class-name">Editor</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token maybe-class-name">Profiler</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">Preview</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token maybe-class-name">Content</span><span class="token operator">></span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token maybe-class-name">Profiler</span><span class="token operator">></span>
<span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token maybe-class-name">App</span><span class="token operator">></span></code></pre><p><code>&#x3C;Profiler></code>는 가벼운 컴포넌트이지만 사용할 때마다 애플리케이션에 약간의 CPU 및 메모리 오버헤드가 추가되기 때문에 필요할 때만 사용해야 합니다.<p><span style="float:footnote"><a href="../../index.html#toc">Go to TOC</a></span></section></section></inlinetoc></section>