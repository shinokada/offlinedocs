<!doctypehtml><html lang="de"><meta charset="utf-8"><title>ReactDOMServer</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"href="../../../../../../../../docs/themes/packages/prism-coy-theme/theme_common.css"><section id="reactdomserver"class="level1"><h1>ReactDOMServer</h1><p>Mit dem <code>ReactDOMServer</code>-Objekt können Komponenten als statisches Markup gerendert werden. Normalerweise wird es auf einem Node-Server verwendet:<pre class="language-js"><code class="language-js"><span class="token comment">// ES modules</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token operator">*</span> <span class="token keyword module">as</span> <span class="token maybe-class-name">ReactDOMServer</span></span> <span class="token keyword module">from</span> <span class="token string">'react-dom/server'</span><span class="token punctuation">;</span>
<span class="token comment">// CommonJS</span>
<span class="token keyword">var</span> <span class="token maybe-class-name">ReactDOMServer</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'react-dom/server'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><section id="overview"class="level2"><h2>Übersicht</h2><p>These methods are only available in the <strong>environments with <a href="https://nodejs.dev/learn/nodejs-streams">Node.js Streams</a>:</strong><ul><li><a href="#rendertopipeablestream"><code>renderToPipeableStream()</code></a><li><a href="#rendertonodestream"><code>renderToNodeStream()</code></a> (Deprecated)<li><a href="#rendertostaticnodestream"><code>renderToStaticNodeStream()</code></a></ul><p>These methods are only available in the <strong>environments with <a href="https://developer.mozilla.org/en-US/docs/Web/API/Streams_API">Web Streams</a></strong> (this includes browsers, Deno, and some modern edge runtimes):<ul><li><a href="#rendertoreadablestream"><code>renderToReadableStream()</code></a></ul><p>The following methods can be used in the environments that don't support streams:<ul><li><a href="#rendertostring"><code>renderToString()</code></a><li><a href="#rendertostaticmarkup"><code>renderToStaticMarkup()</code></a></ul><p>Diese zusätzlichen Methoden benötigen ein Package (<code>stream</code>), das <strong>nur auf dem Server verfügbar</strong> ist und im Browser nicht funktionieren wird:<ul><li><a href="#rendertopipeablestream"><code>renderToPipeableStream()</code></a><li><a href="#rendertoreadablestream"><code>renderToReadableStream()</code></a><li><a href="#rendertonodestream"><code>renderToNodeStream()</code></a> (Deprecated)<li><a href="#rendertostaticnodestream"><code>renderToStaticNodeStream()</code></a></ul><hr></section><section id="reference"class="level2"><h2>Referenz</h2><section id="rendertostring-rendertostring"class="level3"><h3><code>renderToString()</code> {#rendertostring}</h3><pre class="language-javascript"><code class="language-javascript"><span class="token maybe-class-name">ReactDOMServer</span><span class="token punctuation">.</span><span class="token method function property-access">renderToString</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span></code></pre><p>Rendert ein React-Element initial als HTML. React gibt einen HTML-String zurück. Du kannst diese Methode verwenden, um HTML auf dem Server zu generieren und beim ersten Request das Markup zurückzusenden, damit die Seite schneller lädt und Suchmaschinen zu SEO-Zwecken deine Seiten crawlen können.<p>Wenn du auf einen Knoten, der bereits dieses server-gerenderte Markup hat, <a href="./react-dom-client.html#hydrateroot"><code>ReactDOM.hydrateRoot()</code></a> aufrufst, wird React das Markup behalten und nur Eventhandler hinzufügen. Das ermöglicht ein sehr schnelles erstes Laden der Seite.<hr></section></section><section id="reference-1"class="level2"><h2>Referenz</h2><section id="rendertopipeablestream-rendertopipeablestream"class="level3"><h3><code>renderToPipeableStream()</code> {#rendertopipeablestream}</h3><pre class="language-javascript"><code class="language-javascript"><span class="token maybe-class-name">ReactDOMServer</span><span class="token punctuation">.</span><span class="token method function property-access">renderToPipeableStream</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> options<span class="token punctuation">)</span></code></pre><p>Render a React element to its initial HTML. Returns a stream with a <code>pipe(res)</code> method to pipe the output and <code>abort()</code> to abort the request. Fully supports Suspense and streaming of HTML with "delayed" content blocks "popping in" via inline <code>&#x3C;script></code> tags later. <a href="https://github.com/reactwg/react-18/discussions/37">Read more</a><p>If you call <a href="./react-dom-client.html#hydrateroot"><code>ReactDOM.hydrateRoot()</code></a> on a node that already has this server-rendered markup, React will preserve it and only attach event handlers, allowing you to have a very performant first-load experience.<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">let</span> didError <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> stream <span class="token operator">=</span> <span class="token function">renderToPipeableStream</span><span class="token punctuation">(</span>
  <span class="token operator">&#x3C;</span><span class="token maybe-class-name">App</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token function">onShellReady</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// The content above all Suspense boundaries is ready.</span>
      <span class="token comment">// If something errored before we started streaming, we set the error code appropriately.</span>
      res<span class="token punctuation">.</span><span class="token property-access">statusCode</span> <span class="token operator">=</span> didError <span class="token operator">?</span> <span class="token number">500</span> <span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">;</span>
      res<span class="token punctuation">.</span><span class="token method function property-access">setHeader</span><span class="token punctuation">(</span><span class="token string">'Content-type'</span><span class="token punctuation">,</span> <span class="token string">'text/html'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      stream<span class="token punctuation">.</span><span class="token method function property-access">pipe</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">onShellError</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Something errored before we could complete the shell so we emit an alternative shell.</span>
      res<span class="token punctuation">.</span><span class="token property-access">statusCode</span> <span class="token operator">=</span> <span class="token number">500</span><span class="token punctuation">;</span>
      res<span class="token punctuation">.</span><span class="token method function property-access">send</span><span class="token punctuation">(</span>
        <span class="token string">'&#x3C;!doctype html>&#x3C;p>Loading...&#x3C;/p>&#x3C;script src="clientrender.js">&#x3C;/script>'</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">onAllReady</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// If you don't want streaming, use this instead of onShellReady.</span>
      <span class="token comment">// This will fire after the entire page content is ready.</span>
      <span class="token comment">// You can use this for crawlers or static generation.</span>

      <span class="token comment">// res.statusCode = didError ? 500 : 200;</span>
      <span class="token comment">// res.setHeader('Content-type', 'text/html');</span>
      <span class="token comment">// stream.pipe(res);</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">onError</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      didError <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>See the <a href="https://github.com/facebook/react/blob/14c2be8dac2d5482fda8a0906a31d239df8551fc/packages/react-dom/src/server/ReactDOMFizzServerNode.js#L36-L46">full list of options</a>.<blockquote><p>Note:<p>This is a Node.js-specific API. Environments with <a href="https://developer.mozilla.org/en-US/docs/Web/API/Streams_API">Web Streams</a>, like Deno and modern edge runtimes, should use <a href="#rendertoreadablestream"><code>renderToReadableStream</code></a> instead.</blockquote><hr></section><section id="rendertoreadablestream-rendertoreadablestream"class="level3"><h3><code>renderToReadableStream()</code> {#rendertoreadablestream}</h3><pre class="language-javascript"><code class="language-javascript"><span class="token maybe-class-name">ReactDOMServer</span><span class="token punctuation">.</span><span class="token method function property-access">renderToReadableStream</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Streams a React element to its initial HTML. Returns a Promise that resolves to a <a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream">Readable Stream</a>. Fully supports Suspense and streaming of HTML. <a href="https://github.com/reactwg/react-18/discussions/127">Read more</a><p>If you call <a href="./react-dom-client.html#hydrateroot"><code>ReactDOM.hydrateRoot()</code></a> on a node that already has this server-rendered markup, React will preserve it and only attach event handlers, allowing you to have a very performant first-load experience.<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">let</span> controller <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AbortController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> didError <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token keyword control-flow">try</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> stream <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token function">renderToReadableStream</span><span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span>html<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>body<span class="token operator">></span><span class="token maybe-class-name">Success</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>body<span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>html<span class="token operator">></span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">signal</span><span class="token operator">:</span> controller<span class="token punctuation">.</span><span class="token property-access">signal</span><span class="token punctuation">,</span>
      <span class="token function">onError</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        didError <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// This is to wait for all Suspense boundaries to be ready. You can uncomment</span>
  <span class="token comment">// this line if you want to buffer the entire HTML instead of streaming it.</span>
  <span class="token comment">// You can use this for crawlers or static generation:</span>

  <span class="token comment">// await stream.allReady;</span>

  <span class="token keyword control-flow">return</span> <span class="token keyword">new</span> <span class="token class-name">Response</span><span class="token punctuation">(</span>stream<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">status</span><span class="token operator">:</span> didError <span class="token operator">?</span> <span class="token number">500</span> <span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
    <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token string-property property">'Content-Type'</span><span class="token operator">:</span> <span class="token string">'text/html'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword control-flow">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token keyword">new</span> <span class="token class-name">Response</span><span class="token punctuation">(</span>
    <span class="token string">'&#x3C;!doctype html>&#x3C;p>Loading...&#x3C;/p>&#x3C;script src="clientrender.js">&#x3C;/script>'</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span>
      <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token string-property property">'Content-Type'</span><span class="token operator">:</span> <span class="token string">'text/html'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>See the <a href="https://github.com/facebook/react/blob/14c2be8dac2d5482fda8a0906a31d239df8551fc/packages/react-dom/src/server/ReactDOMFizzServerBrowser.js#L27-L35">full list of options</a>.<blockquote><p>Note:<p>This API depends on <a href="https://developer.mozilla.org/en-US/docs/Web/API/Streams_API">Web Streams</a>. For Node.js, use <a href="#rendertopipeablestream"><code>renderToPipeableStream</code></a> instead.</blockquote><hr></section><section id="rendertonodestream"class="level3"><h3><code>renderToNodeStream()</code> (Deprecated)</h3><pre class="language-javascript"><code class="language-javascript"><span class="token maybe-class-name">ReactDOMServer</span><span class="token punctuation">.</span><span class="token method function property-access">renderToNodeStream</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span></code></pre><p>Rendert ein React-Element initial als HTML. Gibt einen <a href="https://nodejs.org/api/stream.html#stream_readable_streams">Readable stream</a> zurück, dessen Ausgabe ein HTML-String ist. Die HTML-Ausgabe dieses Streams ist exakt die gleiche wie die von <a href="#rendertostring"><code>ReactDOMServer.renderToString</code></a>. Du kannst diese Methode verwenden, um HTML auf dem Server zu generieren und beim ersten Request das Markup zurückzusenden, damit die Seite schneller lädt und Suchmaschinen zu SEO-Zwecken deine Seiten crawlen können.<p>Wenn du auf einen Knoten, der bereits dieses server-gerenderte Markup hat, <a href="./react-dom-client.html#hydrateroot"><code>ReactDOM.hydrateRoot()</code></a> aufrufst, wird React das Markup behalten und nur Eventhandler hinzufügen. Das ermöglicht ein sehr schnelles erstes Laden der Seite.<blockquote><p>Hinweis:<p>Nur für den Server. Diese API ist im Browser nicht verfügbar.<p>Die Stream-Ausgabe dieser Methode gibt einen utf-8 kodierten Bytestream zurück. Falls du einen anders kodierten Stream benötigst, schau dir z. B. das Projekt <a href="https://www.npmjs.com/package/iconv-lite">iconv-lite</a> an, das Transformationsstreams bereitstellt, um Text umzukodieren.</blockquote><hr></section><section id="rendertostaticnodestream-rendertostaticnodestream"class="level3"><h3><code>renderToStaticNodeStream()</code> {#rendertostaticnodestream}</h3><pre class="language-javascript"><code class="language-javascript"><span class="token maybe-class-name">ReactDOMServer</span><span class="token punctuation">.</span><span class="token method function property-access">renderToStaticNodeStream</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span></code></pre><p>Ähnlich wie <a href="#rendertonodestream"><code>renderToNodeStream</code></a>, außer dass es keine extra React-internen DOM-Attribute wie z. B. <code>data-reactroot</code> generiert. Das ist nützlich, wenn du React dazu verwenden willst, eine einfache statische Seite zu generieren, denn ohne diese extra Attribute können einige Bytes gespart werden.<p>Die HTML-Ausgabe dieses Streams ist exakt die gleiche wie die von <a href="#rendertostaticmarkup"><code>ReactDOMServer.renderToStaticMarkup</code></a>.<p>Falls du planst, auf dem Client React zu benutzten, um das Markup interaktiv zu gestalten, solltest du diese Methode nicht benutzen. Verwende stattdessen <a href="#rendertonodestream"><code>renderToNodeStream</code></a> auf dem Server und <a href="./react-dom-client.html#hydrateroot"><code>ReactDOM.hydrateRoot()</code></a> auf dem Client.<blockquote><p>Hinweis:<p>Nur für den Server. Diese API ist im Browser nicht verfügbar.<p>Die Stream-Ausgabe dieser Methode gibt einen utf-8 kodierten Bytestream zurück. Falls du einen anders kodierten Stream benötigst, schau dir z. B. das Projekt <a href="https://www.npmjs.com/package/iconv-lite">iconv-lite</a> an, das Transformationsstreams bereitstellt, um Text umzukodieren.</blockquote><hr></section><section id="rendertostring-rendertostring-1"class="level3"><h3><code>renderToString()</code> {#rendertostring}</h3><pre class="language-javascript"><code class="language-javascript"><span class="token maybe-class-name">ReactDOMServer</span><span class="token punctuation">.</span><span class="token method function property-access">renderToString</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span></code></pre><p>Rendert ein React-Element initial als HTML. React gibt einen HTML-String zurück. Du kannst diese Methode verwenden, um HTML auf dem Server zu generieren und beim ersten Request das Markup zurückzusenden, damit die Seite schneller lädt und Suchmaschinen zu SEO-Zwecken deine Seiten crawlen können.<p>Wenn du auf einen Knoten, der bereits dieses server-gerenderte Markup hat, <a href="./react-dom-client.html#hydrateroot"><code>ReactDOM.hydrateRoot()</code></a> aufrufst, wird React das Markup behalten und nur Eventhandler hinzufügen. Das ermöglicht ein sehr schnelles erstes Laden der Seite.<blockquote><p>Note<p>This API has limited Suspense support and does not support streaming.<p>On the server, it is recommended to use either <a href="#rendertopipeablestream"><code>renderToPipeableStream</code></a> (for Node.js) or <a href="#rendertoreadablestream"><code>renderToReadableStream</code></a> (for Web Streams) instead.</blockquote><hr></section><section id="rendertostaticmarkup-rendertostaticmarkup"class="level3"><h3><code>renderToStaticMarkup()</code> {#rendertostaticmarkup}</h3><pre class="language-javascript"><code class="language-javascript"><span class="token maybe-class-name">ReactDOMServer</span><span class="token punctuation">.</span><span class="token method function property-access">renderToStaticMarkup</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span></code></pre><p>Ähnlich wie <a href="#rendertostring"><code>renderToString</code></a>, außer dass es keine extra React-internen DOM-Attribute wie z. B. <code>data-reactroot</code> generiert. Das ist nützlich, wenn du React dazu verwenden willst, eine einfache statische Seite zu generieren, denn ohne diese extra Attribute können einige Bytes gespart werden.<p>Falls du planst, auf dem Client React zu benutzten, um das Markup interaktiv zu gestalten, solltest du diese Methode nicht benutzen. Verwende stattdessen <a href="#rendertostring"><code>renderToString</code></a> auf dem Server und <a href="./react-dom-client.html#hydrateroot"><code>ReactDOM.hydrateRoot()</code></a> auf dem Client. <span style="float:footnote"><a href="./index.html#toc">Go to TOC</a></span></section></section></section>