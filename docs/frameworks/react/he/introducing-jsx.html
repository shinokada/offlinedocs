<!doctypehtml><html lang="he"><meta charset="utf-8"><title>היכרות עם JSX</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"href="../../../../../../../../docs/themes/packages/prism-coy-theme/theme_common.css"><section id="היכרות-עם-jsx"class="level1"><h1>היכרות עם JSX</h1><p>הביטו על הצהרת משתנה זו:<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token operator">&#x3C;</span>h1<span class="token operator">></span>שלום<span class="token punctuation">,</span> עולם<span class="token operator">!</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>h1<span class="token operator">></span><span class="token punctuation">;</span></code></pre><p>תחביר התג המצחיק הזה הוא לא מחרוזת ולא HTML.<p>הוא נקרא JSX, והוא הרחבת תחביר עבור JavaScript. אנו ממליצים להשתמש בו עם React כדי לתאר כיצד ממשק המשתמש אמור להיראות. JSX עשוי להזכיר לך שפת תבנית, אבל הוא מגיע עם מלוא העוצמה של JavaScript.<p>JSX מייצר "אלמנטים" של React. אנחנו נחקור כיצד לרנדר אותם ל-DOM ב<a href="./rendering-elements.html">חלק הבא</a>. למטה, תוכלו למצוא את היסודות של JSX הדרושים על מנת שתוכלו להתחיל.<section id="why-jsx"class="level3"><h3>למה JSX?</h3><p>React מאמצת את העובדה כי לוגיקת הרינדור משולבת מיסודה עם יתר לוגיקת ממשק המשתמש: איך אירועים מטופלים, איך ה-state משתנה לאורך זמן, וכיצד מכינים את הנתונים לתצוגה.<p>במקום להפריד באופן מלאכותי בין <em>טכנולוגיות</em> על ידי השמת ה-markup והלוגיקה בקבצים נפרדים, React <a href="https://en.wikipedia.org/wiki/Separation_of_concerns">מבצעת הפרדת <em>אחריות</em></a> בעזרת יחידות המקושרות בצורה רופפת הנקראות "קומפוננטות" אשר מכילות את שניהם. נחזור לקומפוננטות ב<a href="./components-and-props.html">חלק אחר</a>, אבל אם עדיין לא נוח לכם לשים את ה-markup ב-JS, <a href="https://www.youtube.com/watch?v=x7cQ3mrcKaY">ההרצאה הזאת</a> עשויה לשכנע אתכם.<p>React <a href="./react-without-jsx.html">לא דורשת</a> שימוש ב-JSX, אבל רוב האנשים מוצאים את זה מועיל בתור סיוע ויזואלי בעת עבודה עם ממשקי משתמש בתוך קוד JavaScript. זה גם מאפשר ל-React להראות הודעות שגיאה והתרעה יותר שימושיות.<p>עכשיו שהסרנו את זה מהדרך, בואו נתחיל!</section><section id="embedding-expressions-in-jsx"class="level3"><h3>הטמעת ביטויים ב-JSX</h3><p>בדוגמה הבאה, אנו מכריזים על משתנה הנקרא <code>name</code> (שם) ולאחר מכן משתמשים בו בתוך JSX על ידי עטיפתו בסוגריים מסולסלים:<pre class="language-js{1,2}"><code class="language-js{1,2}">const name = 'גיא פרץ';
const element = &#x3C;h1>שלום, {name}&#x3C;/h1>;

ReactDOM.render(
  element,
  document.getElementById('root')
);</code></pre><p>ניתן לשים כל <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Expressions_and_Operators#Expressions">ביטוי JavaScript</a> חוקי בתוך סוגריים מסולסלים ב-JSX. לדוגמה, <code>2 + 2</code>, <code>user.firstName</code>, או <code>formatName(user)</code> הם כולם ביטויים חוקיים ב-JavaScript.<p>בדוגמה הבאה, אנו מטמיעים את התוצאה של קריאה לפונקציית ה-JavaScript, <code>formatName(user)</code>, לתוך אלמנט <code>&#x3C;h1></code>.<pre class="language-js{12}"><code class="language-js{12}">function formatName(user) {
  return user.firstName + ' ' + user.lastName;
}

const user = {
  firstName: 'הדר',
  lastName: 'פרץ'
};

const element = (
  &#x3C;h1>
    Hello, {formatName(user)}!
  &#x3C;/h1>
);</code></pre><p><strong><a href="https://codepen.io/gaearon/pen/PGEjdG?editors=1010">נסו את זה ב-codepen</a></strong><p>אנו מפצלים את JSX על מספר שורות עבור הקריאות. אף על פי שזה לא נדרש, כאשר עושים זאת, אנו ממליצים גם לעטוף אותו בסוגריים כדי למנוע את החסרונות של <a href="https://stackoverflow.com/q/2846283">הכנסת נקודה-פסיק אוטומטית</a>.</section><section id="jsx-is-an-expression-too"class="level3"><h3>JSX גם הוא ביטוי</h3><p>לאחר ההידור, ביטויים של JSX הופכים לקריאות רגילות של פונקציות JavaScript והם מחושבים לאובייקטים של JavaScript.<p>זה אומר שאתם יכולים להשתמש ב-JSX בתוך הצהרות <code>if</code> ולולאות <code>for</code>, להקצות אותו למשתנים, לקבל אותו כארגומנטים, ולהחזיר אותו מפונקציות:<pre class="language-js{3,5}"><code class="language-js{3,5}">function getGreeting(user) {
  if (user) {
    return &#x3C;h1>Hello, {formatName(user)}!&#x3C;/h1>;
  }
  return &#x3C;h1>Hello, Stranger.&#x3C;/h1>;
}</code></pre></section><section id="specifying-attributes-with-jsx"class="level3"><h3>ציון מאפיינים עם JSX</h3><p>ניתן להשתמש בגרשיים כדי לציין מחרוזות כמאפיינים:<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token operator">&#x3C;</span>a href<span class="token operator">=</span><span class="token string">"https://www.reactjs.org"</span><span class="token operator">></span> link <span class="token operator">&#x3C;</span><span class="token operator">/</span>a<span class="token operator">></span><span class="token punctuation">;</span></code></pre><p>תוכלו גם להשתמש בסוגריים מסולסלים כדי להטמיע ביטוי ב-JavaScript במאפיין:<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token operator">&#x3C;</span>img src<span class="token operator">=</span><span class="token punctuation">{</span>user<span class="token punctuation">.</span><span class="token property-access">avatarUrl</span><span class="token punctuation">}</span><span class="token operator">></span><span class="token operator">&#x3C;</span><span class="token operator">/</span>img<span class="token operator">></span><span class="token punctuation">;</span></code></pre><p>אל תוסיפו גרשיים סביב סוגריים מסולסלים בעת הטמעת ביטוי JavaScript במאפיין. עליכם להשתמש בגרשיים (עבור ערכי מחרוזת) או בסוגריים מסולסלים (עבור ביטויים), אך לא בשניהם באותו המאפיין.<blockquote><p><strong>אזהרה:</strong><p>מכיוון ש- JSX קרוב יותר ל- JavaScript מאשר ל- HTML, React DOM משתמש בקונבנציית שמות מאפיינים בצורת <code>camelCase</code> במקום בשמות של תכונות HTML.<p>לדוגמה, <code>class</code> הופך ל-<a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/className"><code>className</code></a> ב-JSX, ו-<code>tabindex</code> הופך ל-<a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/tabIndex"><code>tabIndex</code></a>.</blockquote></section><section id="specifying-children-with-jsx"class="level3"><h3>ציון ילדים עם JSX</h3><p>אם תגית כלשהי ריקה, באפשרותכם לסגור אותה מיידית עם <code>/></code>, כמו ב-XML:<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token operator">&#x3C;</span>img src<span class="token operator">=</span><span class="token punctuation">{</span>user<span class="token punctuation">.</span><span class="token property-access">avatarUrl</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span></code></pre><p>תגיות JSX יכולות להכיל ילדים:<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token punctuation">(</span>
  <span class="token operator">&#x3C;</span>div<span class="token operator">></span>
    <span class="token operator">&#x3C;</span>h1<span class="token operator">></span>שלום<span class="token operator">!</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>h1<span class="token operator">></span>
    <span class="token operator">&#x3C;</span>h2<span class="token operator">></span>טוב לראות אותך כאן<span class="token punctuation">.</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>h2<span class="token operator">></span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></section><section id="jsx-prevents-injection-attacks"class="level3"><h3>JSX מונע התקפות הזרקה</h3><p>זה בטוח להטמיע קלט משתמש ב-JSX:<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> title <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token property-access">potentiallyMaliciousInput</span><span class="token punctuation">;</span>
<span class="token comment">// זה בטוח:</span>
<span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token operator">&#x3C;</span>h1<span class="token operator">></span><span class="token punctuation">{</span>title<span class="token punctuation">}</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>h1<span class="token operator">></span><span class="token punctuation">;</span></code></pre><p>כברירת מחדל, React DOM <a href="https://stackoverflow.com/questions/7381974/which-characters-need-to-be-escaped-on-html">מבצע escape</a> עבור ערכים מוטמעים ב-JSX לפני שהוא מרנדר אותם. דבר זה מבטיח שאף פעם לא תוכלו להזריק שום דבר שלא כתוב במפורש באפליקציה שלכם. כל דבר מומר למחרוזת לפני שהוא מרונדר. זה עוזר למנוע התקפות <a href="https://en.wikipedia.org/wiki/Cross-site_scripting">XSS (cross-site-scripting)</a>.</section><section id="jsx-represents-objects"class="level3"><h3>JSX מייצג אובייקטים</h3><p>Babel מקמפל JSX לקריאות ל-<code>React.createElement()</code>.<p>שתי הדוגמות הבאות זהות:<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token punctuation">(</span>
  <span class="token operator">&#x3C;</span>h1 className<span class="token operator">=</span><span class="token string">"greeting"</span><span class="token operator">></span>
    שלום<span class="token punctuation">,</span> עולם<span class="token operator">!</span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span>h1<span class="token operator">></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token method function property-access">createElement</span><span class="token punctuation">(</span>
  <span class="token string">'h1'</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span><span class="token literal-property property">className</span><span class="token operator">:</span> <span class="token string">'greeting'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">'שלום, עולם!'</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><code>React.createElement()</code> מבצעת כמה בדיקות כדי לעזור לכם לכתוב קוד ללא באגים אבל בעיקרון היא יוצרת אובייקט כזה:<pre class="language-js"><code class="language-js"><span class="token comment">// Note: this structure is simplified</span>
<span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'h1'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">className</span><span class="token operator">:</span> <span class="token string">'greeting'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token string">'שלום, עולם!'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>אובייקטים אלה נקראים "אלמנטים של React". אתם יכולים לחשוב עליהם כמו תיאורים של מה שאתם רוצים לראות על המסך. React קוראת את האובייקטים האלה ומשתמשת בהם כדי לבנות את ה-DOM ולשמור אותו מעודכן.<p>אנו נחקור את תהליך רינדור האלמנטים של React ל-DOM <a href="./rendering-elements.html">בחלק הבא</a>.<blockquote><p><strong>טיפ:</strong><p>אנו ממליצים להשתמש ב<a href="https://babeljs.io/docs/en/next/editors">הגדרת השפה של "Babel"</a> עבור העורך שלך כך שגם קוד ES6 וגם קוד JSX מודגשים כראוי. <span style="float:footnote"><a href="./index.html#toc">Go to TOC</a></span></blockquote></section></section>