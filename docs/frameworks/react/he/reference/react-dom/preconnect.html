<!doctype html><html lang="he"><meta charset="utf-8"><title>preconnect</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"type="text/css"href="../../../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="preconnect"><h1 id="preconnect">preconnect</h1><p>canary: true</p><canary><p>The <code>preconnect</code> function is currently only available in React's Canary and experimental channels. Learn more about <a href="/community/versioning-policy#all-release-channels">React's release channels here</a>.</p></canary><intro><p><code>preconnect</code> lets you eagerly connect to a server that you expect to load resources from.<pre class="language-js"><code class="language-js"><span class="token function">preconnect</span><span class="token punctuation">(</span><span class="token string">"https://example.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></intro><inlinetoc><section class="level2"aria-labelledby="reference-reference"><h2 id="reference-reference">Reference {/<em>reference</em>/}</h2><section class="level3"aria-labelledby="preconnecthref-preconnect"><h3 id="preconnecthref-preconnect"><code>preconnect(href)</code> {/<em>preconnect</em>/}</h3><p>To preconnect to a host, call the <code>preconnect</code> function from <code>react-dom</code>.<pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> preconnect <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'react-dom'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">AppRoot</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">preconnect</span><span class="token punctuation">(</span><span class="token string">"https://example.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre><p><a href="#usage">See more examples below.</a><p>The <code>preconnect</code> function provides the browser with a hint that it should open a connection to the given server. If the browser chooses to do so, this can speed up the loading of resources from that server.<section class="level4"aria-labelledby="parameters-parameters"><h4 id="parameters-parameters">Parameters {/<em>parameters</em>/}</h4><ul><li><code>href</code>: a string. The URL of the server you want to connect to.</ul></section><section class="level4"aria-labelledby="returns-returns"><h4 id="returns-returns">Returns {/<em>returns</em>/}</h4><p><code>preconnect</code> returns nothing.</section><section class="level4"aria-labelledby="caveats-caveats"><h4 id="caveats-caveats">Caveats {/<em>caveats</em>/}</h4><ul><li>Multiple calls to <code>preconnect</code> with the same server have the same effect as a single call.<li>In the browser, you can call <code>preconnect</code> in any situation: while rendering a component, in an effect, in an event handler, and so on.<li>In server-side rendering or when rendering Server Components, <code>preconnect</code> only has an effect if you call it while rendering a component or in an async context originating from rendering a component. Any other calls will be ignored.<li>If you know the specific resources you'll need, you can call <a href="/reference/react-dom/#resource-preloading-apis">other functions</a> instead that will start loading the resources right away.<li>There is no benefit to preconnecting to the same server the webpage itself is hosted from because it's already been connected to by the time the hint would be given.</ul></section></section></section><section class="level2"aria-labelledby="usage-usage"><h2 id="usage-usage">Usage {/<em>usage</em>/}</h2><section class="level3"aria-labelledby="preconnecting-when-rendering-preconnecting-when-rendering"><h3 id="preconnecting-when-rendering-preconnecting-when-rendering">Preconnecting when rendering {/<em>preconnecting-when-rendering</em>/}</h3><p>Call <code>preconnect</code> when rendering a component if you know that its children will load external resources from that host.<pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> preconnect <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'react-dom'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">AppRoot</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">preconnect</span><span class="token punctuation">(</span><span class="token string">"https://example.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">return</span> <span class="token spread operator">...</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></section><section class="level3"aria-labelledby="preconnecting-in-an-event-handler-preconnecting-in-an-event-handler"><h3 id="preconnecting-in-an-event-handler-preconnecting-in-an-event-handler">Preconnecting in an event handler {/<em>preconnecting-in-an-event-handler</em>/}</h3><p>Call <code>preconnect</code> in an event handler before transitioning to a page or state where external resources will be needed. This gets the process started earlier than if you call it during the rendering of the new page or state.<pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> preconnect <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'react-dom'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">CallToAction</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token function-variable function">onClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">preconnect</span><span class="token punctuation">(</span><span class="token string">'http://example.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">startWizard</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>onClick<span class="token punctuation">}</span><span class="token operator">></span><span class="token maybe-class-name">Start</span> <span class="token maybe-class-name">Wizard</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>button<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p><span style="float:footnote"><a href="../../index.html#toc">Go to TOC</a></span></section></section></inlinetoc></section>