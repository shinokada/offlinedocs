<!doctypehtml><html lang="he"><meta charset="utf-8"><title>מרנדר רדוד</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"href="https://raw.githubusercontent.com/shinokada/prism-coy-theme/main/theme_common.css"><section id="מרנדר-רדוד"class="level1"><h1>מרנדר רדוד</h1><p><strong>ייבוא</strong><pre class="language-javascript"><code class="language-javascript"><span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">ShallowRenderer</span></span> <span class="token keyword module">from</span> <span class="token string">'react-test-renderer/shallow'</span><span class="token punctuation">;</span> <span class="token comment">// ES6</span>
<span class="token keyword">var</span> <span class="token maybe-class-name">ShallowRenderer</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'react-test-renderer/shallow'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// npm עם ES5 </span></code></pre><section id="overview"class="level2"><h2>סקירה כללית</h2><p>בעת כתיבת בדיקות יחידה עבור React, מרנדר רדוד יכול לעזור. מרנדר רדוד נותן לך לרנדר קומפוננטה “רמת עומק אחת”, ולוודא על מה המתודה רנדר מחזירה, מבלי לדאוג על התנהגותם של קומפוננטות הילדים שלה, אשר לא מייצרים מופע חדש או מתרנדרים. זה לא דורש DOM.<p>לדוגמה, אם יש לך את הקומפוננטה הבאה:<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">MyComponent</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span>div<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>span className<span class="token operator">=</span><span class="token string">"heading"</span><span class="token operator">></span>כותרת<span class="token operator">&#x3C;</span><span class="token operator">/</span>span<span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">Subcomponent</span> foo<span class="token operator">=</span><span class="token string">"bar"</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>אז אתה יכול לוודא:<pre class="language-javascript"><code class="language-javascript"><span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">ShallowRenderer</span></span> <span class="token keyword module">from</span> <span class="token string">'react-test-renderer/shallow'</span><span class="token punctuation">;</span>

<span class="token comment">// בבדיקה שלך:</span>
<span class="token keyword">const</span> renderer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ShallowRenderer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
renderer<span class="token punctuation">.</span><span class="token method function property-access">render</span><span class="token punctuation">(</span><span class="token operator">&#x3C;</span><span class="token maybe-class-name">MyComponent</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> renderer<span class="token punctuation">.</span><span class="token method function property-access">getRenderOutput</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">expect</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token property-access">type</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBe</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">expect</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token property-access">props</span><span class="token punctuation">.</span><span class="token property-access">children</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toEqual</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token operator">&#x3C;</span>span className<span class="token operator">=</span><span class="token string">"heading"</span><span class="token operator">></span>כותרת<span class="token operator">&#x3C;</span><span class="token operator">/</span>span<span class="token operator">></span><span class="token punctuation">,</span>
  <span class="token operator">&#x3C;</span><span class="token maybe-class-name">Subcomponent</span> foo<span class="token operator">=</span><span class="token string">"bar"</span> <span class="token operator">/</span><span class="token operator">></span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>למרנדר רדוד כרגע יש כמה מגבלות, למשל חוסר תמיכה ב-refs.<blockquote><p>הערה:<p>אנחנו גם ממליצים לבדוק את ה-<a href="https://airbnb.io/enzyme/docs/api/shallow.html">API של המרנדר הרדוד</a> של Enzyme. הוא מספק API מרמה-גבוהה יותר על אותה פונקציונליות.</blockquote></section><section id="reference"class="level2"><h2>עיון</h2><section id="shallowrendererrender-shallowrendererrender"class="level3"><h3><code>shallowRenderer.render()</code> {#shallowrendererrender}</h3><p>אתה יכול לחשוב על shallowRenderer כ-“מקום” לרנדור קומפוננטה שאתה בודק, וממנו ניתן להוציא את הפלט של הקומפוננטה.<p>&#x3C;&#x3C;&#x3C;&#x3C;&#x3C;&#x3C;&#x3C; HEAD <code>shallowRenderer.render()</code> דומה ל-<a href="./react-dom.html#render"><code>()ReactDOM.render</code></a> אבל לא דורש DOM ומרנדר רק רמת עומק אחת. זה אומר שאתה יכול לבדוק קומפוננטות מבודדות מבלי לדעת איך הילדים שלהם ממומשים. ======= <code>shallowRenderer.render()</code> is similar to <a href="./react-dom-client.html#createroot"><code>root.render()</code></a> but it doesn't require DOM and only renders a single level deep. This means you can test components isolated from how their children are implemented.<blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><p>84ad3308338e2bb819f4f24fa8e9dfeeffaa970b</blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></section><section id="shallowrenderergetrenderoutput-shallowrenderergetrenderoutput"class="level3"><h3><code>shallowRenderer.getRenderOutput()</code> {#shallowrenderergetrenderoutput}</h3><p>אחרי ש-<code>shallowRenderer.render()</code> נקרא, אתה יכול להשתמש ב-<code>shallowRenderer.getRenderOutput()</code> כדי לקבל את הפלט הרדוד שרונדר.<p>אחרי זה אתה יכול להתחיל לתשאל עובדות על הפלט. <span style="float:footnote"><a href="./index.html#toc">Go to TOC</a></span></section></section></section>