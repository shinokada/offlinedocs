<!doctype html><html lang="zh-hans"><meta charset="utf-8"><title>(...)</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"type="text/css"href="../../../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="-"><h1 id="-"><fragment>(&#x3C;>...&#x3C;/>)</fragment></h1><intro><p><code>&#x3C;Fragment></code> 通常使用 <code>&#x3C;>...&#x3C;/></code> 代替，它们都允许你在不添加额外节点的情况下将子元素组合。<pre class="language-js"><code class="language-js"><span class="token operator">&#x3C;</span><span class="token operator">></span>
  <span class="token operator">&#x3C;</span><span class="token maybe-class-name">OneChild</span> <span class="token operator">/</span><span class="token operator">></span>
  <span class="token operator">&#x3C;</span><span class="token maybe-class-name">AnotherChild</span> <span class="token operator">/</span><span class="token operator">></span>
<span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token operator">></span></code></pre></intro><inlinetoc><section class="level2"aria-labelledby="参考-reference"><h2 id="参考-reference">参考 {/<em>reference</em>/}</h2><section class="level3"aria-labelledby="-fragment"><h3 id="-fragment"><code>&#x3C;Fragment></code> {/<em>fragment</em>/}</h3><p>当你需要单个元素时，你可以使用 <code>&#x3C;Fragment></code> 将其他元素组合起来，使用 <code>&#x3C;Fragment></code> 组合后的元素不会对 DOM 产生影响，就像元素没有被组合一样。在大多数情况下，<code>&#x3C;Fragment>&#x3C;/Fragment></code> 可以简写为空的 JSX 元素 <code>&#x3C;>&#x3C;/></code>。<section class="level4"aria-labelledby="参数-props"><h4 id="参数-props">参数 {/<em>props</em>/}</h4><ul><li><strong>可选</strong> <code>key</code>：列表中 <code>&#x3C;Fragment></code> 的可以拥有 <a href="/learn/rendering-lists#keeping-list-items-in-order-with-key">keys</a>。</ul></section><section class="level4"aria-labelledby="注意事项-caveats"><h4 id="注意事项-caveats">注意事项 {/<em>caveats</em>/}</h4><ul><li><p>如果你要传递 <code>key</code> 给一个 <code>&#x3C;Fragment></code>，你不能使用 <code>&#x3C;>...&#x3C;/></code>，你必须从 <code>'react'</code> 中导入 <code>Fragment</code> 且表示为<code>&#x3C;Fragment key={yourKey}>...&#x3C;/Fragment></code>。<li><p>当你要从 <code>&#x3C;>&#x3C;Child />&#x3C;/></code> 转换为 <code>[&#x3C;Child />]</code> 或 <code>&#x3C;>&#x3C;Child />&#x3C;/></code> 转换为 <code>&#x3C;Child /></code>，React 并不会<a href="/learn/preserving-and-resetting-state">重置 state</a>。这个规则只在一层深度的情况下生效，如果从 <code>&#x3C;>&#x3C;>&#x3C;Child />&#x3C;/>&#x3C;/></code> 转换为 <code>&#x3C;Child /></code> 则会重置 state。在<a href="https://gist.github.com/clemmy/b3ef00f9507909429d8aa0d3ee4f986b">这里</a>查看更详细的介绍。</ul></section></section></section><section class="level2"aria-labelledby="用法-usage"><h2 id="用法-usage">用法 {/<em>usage</em>/}</h2><section class="level3"aria-labelledby="返回多个元素-returning-multiple-elements"><h3 id="返回多个元素-returning-multiple-elements">返回多个元素 {/<em>returning-multiple-elements</em>/}</h3><p>使用 <code>Fragment</code> 或简写语法 <code>&#x3C;>...&#x3C;/></code> 将多个元素组合在一起，你可以使用它将多个元素等效于单个元素。例如，一个组件只能返回一个元素，但是可以使用 <code>Fragment</code> 将多个元素组合在一起，并作为一个元素返回：<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Post</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">PostTitle</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">PostBody</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p><code>Fragment</code> 作用很大，它与将元素包裹在一个 DOM 容器中不同，使用 <code>Fragment</code> 对元素进行组合后不会影响布局和样式。如果你使用浏览器调试工具查看这个示例，你会发现所有的 <code>&#x3C;h1></code> 和 <code>&#x3C;article></code> DOM 节点都是没有父元素的兄弟节点：</p><sandpack><pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Blog</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">Post</span> title<span class="token operator">=</span><span class="token string">"An update"</span> body<span class="token operator">=</span><span class="token string">"It's been a while since I posted..."</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">Post</span> title<span class="token operator">=</span><span class="token string">"My new blog"</span> body<span class="token operator">=</span><span class="token string">"I am starting a new blog!"</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Post</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> title<span class="token punctuation">,</span> body <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">PostTitle</span> title<span class="token operator">=</span><span class="token punctuation">{</span>title<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">PostBody</span> body<span class="token operator">=</span><span class="token punctuation">{</span>body<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">PostTitle</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> title <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token operator">&#x3C;</span>h1<span class="token operator">></span><span class="token punctuation">{</span>title<span class="token punctuation">}</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>h1<span class="token operator">></span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">PostBody</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> body <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span>article<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>p<span class="token operator">></span><span class="token punctuation">{</span>body<span class="token punctuation">}</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>p<span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>article<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></sandpack><deepdive><section class="level4"aria-labelledby="如何使用完整的语法编写-fragment-how-to-write-a-fragment-without-the-special-syntax"><h4 id="如何使用完整的语法编写-fragment-how-to-write-a-fragment-without-the-special-syntax">如何使用完整的语法编写 <code>Fragment</code>？ {/<em>how-to-write-a-fragment-without-the-special-syntax</em>/}</h4><p>这个示例从 React 中导入了 <code>Fragment</code>：<pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Fragment</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Post</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span><span class="token maybe-class-name">Fragment</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">PostTitle</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">PostBody</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token maybe-class-name">Fragment</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>通常你不需要这样，除非你需要将 <a href="#rendering-a-list-of-fragments"><code>key</code> 传递给 <code>Fragment</code></a>。</section></deepdive></section><section class="level3"aria-labelledby="分配多个元素给一个变量-assigning-multiple-elements-to-a-variable"><h3 id="分配多个元素给一个变量-assigning-multiple-elements-to-a-variable">分配多个元素给一个变量 {/<em>assigning-multiple-elements-to-a-variable</em>/}</h3><p>和其他元素一样，你可以将 <code>Fragment</code> 元素分配给变量，作为 props 传递等：<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">CloseDialog</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> buttons <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">OKButton</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">CancelButton</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span><span class="token maybe-class-name">AlertDialog</span> buttons<span class="token operator">=</span><span class="token punctuation">{</span>buttons<span class="token punctuation">}</span><span class="token operator">></span>
      <span class="token maybe-class-name">Are</span> you sure you want to leave <span class="token keyword">this</span> page<span class="token operator">?</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token maybe-class-name">AlertDialog</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></section><section class="level3"aria-labelledby="组合文本与组件-grouping-elements-with-text"><h3 id="组合文本与组件-grouping-elements-with-text">组合文本与组件 {/<em>grouping-elements-with-text</em>/}</h3><p>你可以使用 <code>Fragment</code> 将文本与组件组合在一起：<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">DateRangePicker</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> start<span class="token punctuation">,</span> end <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span><span class="token operator">></span>
      <span class="token maybe-class-name">From</span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">DatePicker</span> date<span class="token operator">=</span><span class="token punctuation">{</span>start<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
      to
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">DatePicker</span> date<span class="token operator">=</span><span class="token punctuation">{</span>end<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></section><section class="level3"aria-labelledby="渲染-fragment-列表-rendering-a-list-of-fragments"><h3 id="渲染-fragment-列表-rendering-a-list-of-fragments">渲染 <code>Fragment</code> 列表 {/<em>rendering-a-list-of-fragments</em>/}</h3><p>在这种情况下，你需要显式地表示为 <code>Fragment</code>，而不是使用简写语法 <code>&#x3C;>&#x3C;/></code>。当你在<a href="/learn/rendering-lists">循环中渲染多个元素</a>时，你需要为每一个元素分配一个 <code>key</code>。如果这个元素为 <code>Fragment</code> 时，则需要使用普通的 JSX 语法来提供 <code>key</code> 属性。<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Blog</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> posts<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token parameter">post</span> <span class="token arrow operator">=></span>
    <span class="token operator">&#x3C;</span><span class="token maybe-class-name">Fragment</span> key<span class="token operator">=</span><span class="token punctuation">{</span>post<span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">}</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">PostTitle</span> title<span class="token operator">=</span><span class="token punctuation">{</span>post<span class="token punctuation">.</span><span class="token property-access">title</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">PostBody</span> body<span class="token operator">=</span><span class="token punctuation">{</span>post<span class="token punctuation">.</span><span class="token property-access">body</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token maybe-class-name">Fragment</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>你可以查看 DOM 以验证组合后的子元素实际上并没有父元素 <code>Fragment</code>：</p><sandpack><pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Fragment</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> posts <span class="token operator">=</span> <span class="token punctuation">[</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Blog</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> posts<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token parameter">post</span> <span class="token arrow operator">=></span>
    <span class="token operator">&#x3C;</span><span class="token maybe-class-name">Fragment</span> key<span class="token operator">=</span><span class="token punctuation">{</span>post<span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">}</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">PostTitle</span> title<span class="token operator">=</span><span class="token punctuation">{</span>post<span class="token punctuation">.</span><span class="token property-access">title</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">PostBody</span> body<span class="token operator">=</span><span class="token punctuation">{</span>post<span class="token punctuation">.</span><span class="token property-access">body</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token maybe-class-name">Fragment</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">PostTitle</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> title <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token operator">&#x3C;</span>h1<span class="token operator">></span><span class="token punctuation">{</span>title<span class="token punctuation">}</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>h1<span class="token operator">></span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">PostBody</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> body <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span>article<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>p<span class="token operator">></span><span class="token punctuation">{</span>body<span class="token punctuation">}</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>p<span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>article<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></sandpack><span style="float:footnote"><a href="../../index.html#toc">Go to TOC</a></span></section></section></inlinetoc></section>