<!doctype html><html lang="zh-hans"><meta charset="utf-8"><title>参考 {/reference/}</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"type="text/css"href="../../../../../../themes/packages/prism-coy-theme/theme_common.css"><p>style: "</p><style></style><canary></canary><p><p>React 对 <code>&#x3C;style></code> 的扩展当前仅在 React Canary 与 experimental 渠道中可用。在 React 的稳定版本中，<code>&#x3C;style></code> 仅作为 <a href="https://react.dev/reference/react-dom/components#all-html-components">浏览器内置 HTML 组件</a> 使用。请在 <a href="/community/versioning-policy#all-release-channels">此处了解更多关于 React 发布渠道的信息</a>。</p><intro><p><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/style">浏览器内置的 <code>&#x3C;style></code> </a>允许向文档添加内联 CSS 样式表。<pre class="language-js"><code class="language-js"><span class="token operator">&#x3C;</span>style<span class="token operator">></span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> p { color: red; } </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>style<span class="token operator">></span></code></pre></intro><inlinetoc><section class="level2"aria-labelledby="参考-reference"><h2 id="参考-reference">参考 {/<em>reference</em>/}</h2><section class="level3"aria-labelledby="-style"><h3 id="-style"><code>&#x3C;style></code> {/<em>style</em>/}</h3><p>渲染 <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/style">内置的浏览器 <code>&#x3C;style></code> 组件</a> 以向文档添加内联样式。可以在任何组件中渲染 <code>&#x3C;style></code>，React 将在某些情况下将相应的 DOM 元素放置在文档头部，并对相同的样式进行去重。<pre class="language-js"><code class="language-js"><span class="token operator">&#x3C;</span>style<span class="token operator">></span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> p { color: red; } </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>style<span class="token operator">></span></code></pre><p><a href="#usage">参见下方更多示例</a>。<section class="level4"aria-labelledby="属性-props"><h4 id="属性-props">属性 {/<em>props</em>/}</h4><p><code>&#x3C;style></code> 支持所有 <a href="/reference/react-dom/components/common#props">常见元素属性</a>。<ul><li><code>children</code>：字符串，必需字段，表示样式表的内容。<li><code>precedence</code>：字符串，告诉 React 在文档 <code>&#x3C;head></code> 中排列 <code>&#x3C;style></code> DOM 节点的位置，确定哪个样式表可以覆盖另一个。React 会推断其首先发现的 <code>precedence</code> 值为“较低”，而后来发现的 <code>precedence</code> 值为“较高”。许多样式系统使用单个 <code>precedence</code> 值能够很好地工作，因为样式规则是原子的。无论是 <code>&#x3C;link></code> 还是内联 <code>&#x3C;style></code> 标签，或者使用 <a href="/reference/react-dom/preinit"><code>preinit</code></a> 函数加载的样式表，具有相同优先级的将一起处理。<li><code>href</code>：字符串，允许 React <a href="#special-rendering-behavior">对 <code>href</code> 相同的样式进行去重</a>。<li><code>media</code>：字符串，将样式表限制为特定的 <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_media_queries/Using_media_queries">媒体查询</a>。<li><code>nonce</code>：字符串，表示使用严格内容安全策略时允许资源的 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Global_attributes/nonce">加密随机数</a>。<li><code>title</code>：字符串，用于指定 <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/Alternative_style_sheets">替代样式表</a> 的名称。</ul><p>不建议在 React 中使用的属性：<ul><li><code>blocking</code>：字符串。如果指定为 <code>"render"</code>，指示浏览器在样式表加载之前不要渲染页面。React 使用 Suspense 提供了更精细的控制。</ul></section><section class="level4"aria-labelledby="特殊的渲染行为-special-rendering-behavior"><h4 id="特殊的渲染行为-special-rendering-behavior">特殊的渲染行为 {/<em>special-rendering-behavior</em>/}</h4><p>React 可以将 <code>&#x3C;style></code> 组件移动到文档的 <code>&#x3C;head></code> 中，去重相同的样式表，并在样式表加载时 <a href="/reference/react/Suspense">挂起</a>。<p>请提供 <code>href</code> 和 <code>precedence</code> 属性以选择此行为。如果样式表具有相同的 <code>href</code>，React 将对样式去重。优先级属性告诉 React 在文档的 <code>&#x3C;head></code> 中排列 <code>&#x3C;style></code> DOM 节点的位置，从而确定哪个样式表可以覆盖另一个。<p>这种特殊处理带来两个注意事项：<ul><li>在样式被渲染后，React 将忽略属性的更改（React 在开发环境中会对这种情况发出警告）。<li>即使渲染它的组件已被卸载，React 也可能将样式保留在 DOM 中。</ul></section></section></section><section class="level2"aria-labelledby="用法-usage"><h2 id="用法-usage">用法 {/<em>usage</em>/}</h2><section class="level3"aria-labelledby="渲染一个内联-css-样式表-rendering-an-inline-css-stylesheet"><h3 id="渲染一个内联-css-样式表-rendering-an-inline-css-stylesheet">渲染一个内联 CSS 样式表 {/<em>rendering-an-inline-css-stylesheet</em>/}</h3><p>如果一个组件依赖于某些 CSS 样式以正确显示，可以在组件内部渲染一个内联样式表。<p>如果提供了 <code>href</code> 和 <code>precedence</code> 属性，组件将在样式表加载时挂起（即使是内联样式表，由于样式表引用的字体和图像，可能也会有加载时间）。<code>href</code> 属性应该唯一地标识样式表，因为 React 将对 <code>href</code> 的样式表进行去重。</p><sandpackwithhtmloutput><pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">ShowRenderedHTML</span></span> <span class="token keyword module">from</span> <span class="token string">'./ShowRenderedHTML.js'</span><span class="token punctuation">;</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> useId <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">PieChart</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>data<span class="token punctuation">,</span> colors<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> id <span class="token operator">=</span> <span class="token function">useId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> stylesheet <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">color<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span>
    <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">#</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> .color-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>index<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">: \{ color: "</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>color<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"; \}</span><span class="token template-punctuation string">`</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span>style href<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"PieChart-"</span> <span class="token operator">+</span> <span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">stringify</span><span class="token punctuation">(</span>colors<span class="token punctuation">)</span><span class="token punctuation">}</span> precedence<span class="token operator">=</span><span class="token string">"medium"</span><span class="token operator">></span>
        <span class="token punctuation">{</span>stylesheet<span class="token punctuation">}</span>
      <span class="token operator">&#x3C;</span><span class="token operator">/</span>style<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>svg id<span class="token operator">=</span><span class="token punctuation">{</span>id<span class="token punctuation">}</span><span class="token operator">></span>
        …
      <span class="token operator">&#x3C;</span><span class="token operator">/</span>svg<span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">App</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span><span class="token maybe-class-name">ShowRenderedHTML</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">PieChart</span> data<span class="token operator">=</span><span class="token string">"..."</span> colors<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">]</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token maybe-class-name">ShowRenderedHTML</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></sandpackwithhtmloutput><span style="float:footnote"><a href="../../../index.html#toc">Go to TOC</a></span></section></section></inlinetoc>