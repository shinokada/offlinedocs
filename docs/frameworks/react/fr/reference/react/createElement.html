<!doctype html><html lang="fr"><meta charset="utf-8"><title>createElement</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"href="../../../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="createelement"><h1 id="createelement">createElement</h1><intro><p><code>createElement</code> vous permet de créer un élément React. Elle est utile si vous ne voulez pas (ou ne <em>pouvez</em> pas) écrire du <a href="/learn/writing-markup-with-jsx">JSX</a>.<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token function">createElement</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> props<span class="token punctuation">,</span> <span class="token spread operator">...</span>children<span class="token punctuation">)</span></code></pre></intro><inlinetoc><section class="level2"aria-labelledby="référence-reference"><h2 id="référence-reference">Référence {/<em>reference</em>/}</h2><section class="level3"aria-labelledby="createelementtype-props-children-createelement"><h3 id="createelementtype-props-children-createelement"><code>createElement(type, props, ...children)</code> {/<em>createelement</em>/}</h3><p>Appelez <code>createElement</code> pour créer un élément React avec un <code>type</code>, des <code>props</code> et des <code>children</code>.<pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> createElement <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Greeting</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> name <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token function">createElement</span><span class="token punctuation">(</span>
    <span class="token string">'h1'</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">className</span><span class="token operator">:</span> <span class="token string">'greeting'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">'Bonjour'</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p><a href="#usage">Voir d'autres exemples ci-dessous</a>.<section class="level4"aria-labelledby="paramètres-parameters"><h4 id="paramètres-parameters">Paramètres {/<em>parameters</em>/}</h4><ul><li><p><code>type</code> : l'argument <code>type</code> doit être un type de composant React valide. Par exemple, ce pourrait être un nom de balise (tel que <code>'div'</code> ou <code>'span'</code>) ou un composant React (une fonction, une classe ou un composant spécial comme un <a href="/reference/react/Fragment"><code>Fragment</code></a>).<li><p><code>props</code> : l'argument <code>props</code> doit être soit un objet, soit <code>null</code>. Si vous passez <code>null</code>, il sera traité comme un objet vide. React créera l'élément avec des props correspondant aux <code>props</code> que vous avez passées. Remarquez que les propriétés <code>ref</code> et <code>key</code> de votre objet <code>props</code> sont spéciales et ne seront <em>pas</em> disponibles en tant que <code>element.props.ref</code> et <code>element.props.key</code> sur l'<code>element</code> renvoyé. Elles seront exposées en tant que <code>element.ref</code> et <code>element.key</code>.<li><p><code>...children</code> <strong>optionnels</strong> : une série quelconque de nœuds enfants. Il peut s'agir de n'importe quels nœuds React, y compris des éléments React, des chaînes de caractères, des nombres, des <a href="/reference/react-dom/createPortal">portails</a>, des nœuds vides (<code>null</code>, <code>undefined</code>, <code>true</code> et <code>false</code>), et des tableaux de nœuds React.</ul></section><section class="level4"aria-labelledby="valeur-renvoyée-returns"><h4 id="valeur-renvoyée-returns">Valeur renvoyée {/<em>returns</em>/}</h4><p><code>createElement</code> renvoie un objet élément React avec quelques propriétés :<ul><li><code>type</code> : le <code>type</code> que vous avez passé.<li><code>props</code> : les <code>props</code> que vous avez passées, sauf <code>ref</code> et <code>key</code>. Si le <code>type</code> est un composant doté de la propriété historique <code>type.defaultProps</code>, alors toute prop manquante ou <code>undefined</code> dans <code>props</code> prendra sa valeur depuis <code>type.defaultProps</code>.<li><code>ref</code> : la <code>ref</code> que vous avez passée. Considérée <code>null</code> si manquante.<li><code>key</code> : la <code>key</code> que vous avez passée, convertie en chaîne de caractères. Considérée <code>null</code> si manquante.</ul><p>En général, vous renverrez l'élément depuis votre composant, ou en ferez l'enfant d'un autre élément. Même si vous pourriez lire les propriétés de l'élément, il vaut mieux traiter tout objet élément comme une boîte noire après sa création, et vous contenter de l'afficher.</section><section class="level4"aria-labelledby="limitations-caveats"><h4 id="limitations-caveats">Limitations {/<em>caveats</em>/}</h4><ul><li><p>Vous devez <strong>traiter les éléments React et leurs props comme <a href="https://fr.wikipedia.org/wiki/Objet_immuable">immuables</a></strong> et ne jamais changer leur contenu après création. En développement, React <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze">gèlera</a> l'élément renvoyé, ainsi que sa propriété <code>props</code> (à un niveau de profondeur), pour garantir cet aspect.<li><p>Quand vous utilisez JSX, <strong>vous devez faire démarrer le nom de la balise par une lettre majuscule afin d'afficher votre propre composant</strong>. En d'autres termes, <code>&#x3C;Something /></code> est équivalent à <code>createElement(Something)</code>, mais <code>&#x3C;something /></code> (minuscules) est équivalent à <code>createElement('something')</code> (remarquez qu'il s'agit ici d'une chaîne de caractères, qui sera donc traitée comme une balise HTML native).<li><p>Vous ne devriez <strong>passer les enfants comme arguments multiples à <code>createElement</code> que s'ils sont statiquement connus</strong>, comme par exemple <code>createElement('h1', {}, child1, child2, child3)</code>. Si vos enfants sont dynamiques, passez leur tableau entier comme troisième argument : <code>createElement('ul', {}, listItems)</code>. Ça garantit que React vous <a href="/learn/rendering-lists#keeping-list-items-in-order-with-key">avertira en cas de <code>key</code> manquantes</a> lors de listes dynamiques. C'est inutile pour les listes statiques puisque leur ordre et leur taille ne changent jamais.</ul></section></section></section><section class="level2"aria-labelledby="utilisation-usage"><h2 id="utilisation-usage">Utilisation {/<em>usage</em>/}</h2><section class="level3"aria-labelledby="créer-un-élément-sans-jsx-creating-an-element-without-jsx"><h3 id="créer-un-élément-sans-jsx-creating-an-element-without-jsx">Créer un élément sans JSX {/<em>creating-an-element-without-jsx</em>/}</h3><p>Si vous n'aimez pas <a href="/learn/writing-markup-with-jsx">JSX</a> ou ne pouvez pas l'utiliser dans votre projet, vous pouvez utiliser <code>createElement</code> comme alternative.<p>Pour créer un élément sans JSX, appelez <code>createElement</code> avec un<codestep step="{1}">type</codestep>, des<codestep step="{2}">props</codestep>et des<codestep step="{3}">enfants</codestep> :<pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> createElement <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Greeting</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> name <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token function">createElement</span><span class="token punctuation">(</span>
    <span class="token string">'h1'</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">className</span><span class="token operator">:</span> <span class="token string">'greeting'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">'Bonjour '</span><span class="token punctuation">,</span>
    <span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'i'</span><span class="token punctuation">,</span> <span class="token keyword null nil">null</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string">'. Bienvenue !'</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>Les<codestep step="{3}">enfants</codestep>sont optionnels, et vous pouvez en passer autant que vous le souhaitez (l'exemple ci-dessus a trois enfants). Ce code affichera un en-tête <code>&#x3C;h1></code> avec un message de bienvenue. À titre de comparaison, voici le même exemple utilisant JSX :<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Greeting</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> name <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span>h1 className<span class="token operator">=</span><span class="token string">"greeting"</span><span class="token operator">></span>
      <span class="token maybe-class-name">Bonjour</span> <span class="token operator">&#x3C;</span>i<span class="token operator">></span><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>i<span class="token operator">></span><span class="token punctuation">.</span> <span class="token property-access"><span class="token maybe-class-name">Bienvenue</span></span> <span class="token operator">!</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>h1<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>Pour afficher votre propre composant React, passez une fonction telle que <code>Greeting</code> comme<codestep step="{1}">type</codestep>, plutôt qu'une chaîne de caractères comme <code>'h1'</code> :<pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">App</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token function">createElement</span><span class="token punctuation">(</span><span class="token maybe-class-name">Greeting</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Clara'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>En JSX, ça donnerait ceci :<pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">App</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token operator">&#x3C;</span><span class="token maybe-class-name">Greeting</span> name<span class="token operator">=</span><span class="token string">"Clara"</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>Voici un exemple complet écrit avec <code>createElement</code> :</p><sandpack><pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> createElement <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Greeting</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> name <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token function">createElement</span><span class="token punctuation">(</span>
    <span class="token string">'h1'</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">className</span><span class="token operator">:</span> <span class="token string">'greeting'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">'Bonjour '</span><span class="token punctuation">,</span>
    <span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'i'</span><span class="token punctuation">,</span> <span class="token keyword null nil">null</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string">'. Bienvenue !'</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">App</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token function">createElement</span><span class="token punctuation">(</span>
    <span class="token maybe-class-name">Greeting</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Clara'</span> <span class="token punctuation">}</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><pre class="language-css"><code class="language-css"><span class="token selector"><span class="token class">.greeting</span></span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">darkgreen</span><span class="token punctuation">;</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> Georgia<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></sandpack><p>Et voici le même écrit en JSX :</p><sandpack><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Greeting</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> name <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span>h1 className<span class="token operator">=</span><span class="token string">"greeting"</span><span class="token operator">></span>
      <span class="token maybe-class-name">Bonjour</span> <span class="token operator">&#x3C;</span>i<span class="token operator">></span><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>i<span class="token operator">></span><span class="token punctuation">.</span> <span class="token property-access"><span class="token maybe-class-name">Bienvenue</span></span> <span class="token operator">!</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>h1<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">App</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token operator">&#x3C;</span><span class="token maybe-class-name">Greeting</span> name<span class="token operator">=</span><span class="token string">"Clara"</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><pre class="language-css"><code class="language-css"><span class="token selector"><span class="token class">.greeting</span></span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">darkgreen</span><span class="token punctuation">;</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> Georgia<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></sandpack><p>Les deux styles sont acceptables, vous pouvez donc utiliser celui que vous préférez dans votre projet. L'avantage principal de JSX, comparé à <code>createElement</code>, c'est qu'il est plus facile de voir où les éléments commencent et où ils finissent.</p><deepdive><section class="level4"aria-labelledby="mais-cest-quoi-concrètement-un-élément-react-what-is-a-react-element-exactly"><h4 id="mais-cest-quoi-concrètement-un-élément-react-what-is-a-react-element-exactly">Mais c'est quoi concrètement, un élément React ? {/<em>what-is-a-react-element-exactly</em>/}</h4><p>Un élément est une description légère d'un bout de votre interface utilisateur. Par exemple, tant <code>&#x3C;Greeting name="Clara" /></code> que <code>createElement(Greeting, { name: 'Clara' })</code> produisent un objet comme celui-ci :<pre class="language-js"><code class="language-js"><span class="token comment">// Légèrement simplifié</span>
<span class="token punctuation">{</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token maybe-class-name">Greeting</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Clara'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token keyword null nil">null</span><span class="token punctuation">,</span>
  <span class="token literal-property property">ref</span><span class="token operator">:</span> <span class="token keyword null nil">null</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span></code></pre><p><strong>Remarquez que la seule création de l'objet ne suffit pas à afficher le composant <code>Greeting</code>, et ne crée pas non plus d'éléments DOM.</strong><p>Un élément React est plus comme une description — des instructions pour React, afin qu'il puisse plus tard afficher le composant <code>Greeting</code>. En renvoyant cet objet depuis votre composant <code>App</code>, vous indiquez à React quoi faire ensuite.<p>La création d'éléments a un coût quasi nul, vous n'avez donc pas besoin de l'optimiser ou de chercher activement à l'éviter.</p><span style="float:footnote"><a href="../../index.html#toc">Go to TOC</a></span></section></deepdive></section></section></inlinetoc></section>