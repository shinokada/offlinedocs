<!doctype html><html lang="fr"><meta charset="utf-8"><title>"Hooks fournis par React"</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"href="../../../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="hooks-fournis-par-react"><h1 id="hooks-fournis-par-react">"Hooks fournis par React"</h1><intro><p>Les <em>Hooks</em> vous permettent d’utiliser différentes fonctionnalités de React au sein de vos composants. Vous pouvez utiliser les Hooks pré-fournis ou les associer pour créer les vôtres. Cette page liste tout les Hooks fournis par React.</p></intro><section class="level2"aria-labelledby="hooks-détat-local-state-hooks"><h2 id="hooks-détat-local-state-hooks">Hooks d’état local {/<em>state-hooks</em>/}</h2><p><em>L’état local</em> permet à un composant de <a href="/learn/state-a-components-memory">« se souvenir » d’informations telles que des saisies utilisateur</a>. Par exemple, un composant formulaire peut utiliser l’état local pour stocker la valeur saisie, alors qu’un composant de galerie d’images pourra l’utiliser pour stocker l’index de l’image affichée.<p>Pour ajouter un état local à un composant, utilisez un de ces Hooks :<ul><li><a href="/reference/react/useState"><code>useState</code></a> déclare un état local que vous pouvez mettre à jour directement.<li><a href="/reference/react/useReducer"><code>useReducer</code></a> déclare un état local dont la logique de mise à jour réside dans une <a href="/learn/extracting-state-logic-into-a-reducer">fonction réducteur</a>.</ul><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">ImageGallery</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>index<span class="token punctuation">,</span> setIndex<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span></code></pre></section><section class="level2"aria-labelledby="hooks-de-contexte-context-hooks"><h2 id="hooks-de-contexte-context-hooks">Hooks de Contexte {/<em>context-hooks</em>/}</h2><p>Le <em>Contexte</em> permet à un composant <a href="/learn/passing-props-to-a-component">de recevoir des informations de parents éloignés sans avoir à passer par ses props</a>. Par exemple, le composant de niveau racine de votre appli peut passer le thème de l’interface utilisateur (UI) à tous les composants qu’elle contient, à quelque profondeur que ce soit.<ul><li><a href="/reference/react/useContext"><code>useContext</code></a> s’abonne à un contexte et le lit.</ul><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Button</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> theme <span class="token operator">=</span> <span class="token function">useContext</span><span class="token punctuation">(</span><span class="token maybe-class-name">ThemeContext</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span></code></pre></section><section class="level2"aria-labelledby="hooks-de-ref-ref-hooks"><h2 id="hooks-de-ref-ref-hooks">Hooks de Ref {/<em>ref-hooks</em>/}</h2><p>Les <em>Refs</em> permettent à un composant <a href="/learn/referencing-values-with-refs">de conserver certaines informations qui ne sont pas utilisées pour faire le rendu</a>, comme un nœud DOM ou un ID de timer. Contrairement à l’état local, la mise à jour d’une Ref ne déclenche pas un nouveau rendu de votre composant. Les Refs sont une « échappatoire » du paradigme de React. Elles sont utiles lorsque vous devez travailler avec des systèmes externes à React, telles que les API du navigateur web.<ul><li><p><a href="/reference/react/useRef"><code>useRef</code></a> déclare une Ref. Vous pouvez y stocker n’importe quelle valeur, mais elle est le plus souvent utilisée pour référencer un nœud du DOM.<li><p><a href="/reference/react/useImperativeHandle"><code>useImperativeHandle</code></a> vous permet de personnaliser la Ref exposée par votre composant. Ce Hook est rarement utilisé.</ul><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Form</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> inputRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword null nil">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span></code></pre></section><section class="level2"aria-labelledby="hooks-deffets-effect-hooks"><h2 id="hooks-deffets-effect-hooks">Hooks d’effets {/<em>effect-hooks</em>/}</h2><p>Les <em>Effets</em> permettent à un composant <a href="/learn/synchronizing-with-effects">de se connecter et de se synchroniser avec des systèmes extérieurs</a>. Il peut notamment s’agir du réseau, du DOM, des animations, d’éléments d’interface écrits en utilisant une autre bibliothèque, et d’autres codes non React.<ul><li><a href="/reference/react/useEffect"><code>useEffect</code></a> connecte un composant à un système extérieur.</ul><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">ChatRoom</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> roomId <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> connection <span class="token operator">=</span> <span class="token function">createConnection</span><span class="token punctuation">(</span>roomId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    connection<span class="token punctuation">.</span><span class="token method function property-access">connect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> connection<span class="token punctuation">.</span><span class="token method function property-access">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>roomId<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span></code></pre><p>Les Effets sont une « échappatoire » du paradigme de React. N’utilisez pas les Effets pour orchestrer le flux de données de votre application. Si vous n’interagissez pas avec un système extérieur, <a href="/learn/you-might-not-need-an-effect">vous n’avez pas forcément besoin d’un Effet</a>.<p>Il existe deux variantes rarement utilisées de <code>useEffect</code> avec des différences de timing :<ul><li><a href="/reference/react/useLayoutEffect"><code>useLayoutEffect</code></a> se déclenche avant que le navigateur ne repeigne l’écran. Vous pouvez y mesurer la mise en page, notamment les dimensions.<li><a href="/reference/react/useInsertionEffect"><code>useInsertionEffect</code></a> se déclenche avant que React ne fasse des changements dans le DOM. Les bibliothèques peuvent y insérer des CSS dynamiques.</ul></section><section class="level2"aria-labelledby="les-hooks-de-performance-performance-hooks"><h2 id="les-hooks-de-performance-performance-hooks">Les Hooks de performance {/<em>performance-hooks</em>/}</h2><p>Une manière courante d’optimiser la performance de réaffichage consiste à s’épargner des tâches superflues. Par exemple, vous pouvez demander à React de réutiliser un calcul mis en cache ou d’éviter un nouveau rendu si la donnée n’a pas changé depuis le rendu précédent.<p>Pour éviter les calculs coûteux et les réaffichages inutiles, utilisez l’un de ces Hooks :<ul><li><a href="/reference/react/useMemo"><code>useMemo</code></a> vous permet de mettre en cache le résultat d’un calcul coûteux.<li><a href="/reference/react/useCallback"><code>useCallback</code></a> vous permet de mettre en cache la définition d’une fonction avant de la passer à un composant optimisé.</ul><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">TodoList</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> todos<span class="token punctuation">,</span> tab<span class="token punctuation">,</span> theme <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> visibleTodos <span class="token operator">=</span> <span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token function">filterTodos</span><span class="token punctuation">(</span>todos<span class="token punctuation">,</span> tab<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>todos<span class="token punctuation">,</span> tab<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre><p>Parfois, vous ne pouvez pas éviter le réaffichage parce que la vue doit effectivement être mise à jour. Dans ce cas, vous pouvez améliorer la performance en séparant les mises à jour bloquantes qui doivent être synchrones (comme la gestion d’une saisie dans un champ) des mises à jour non bloquantes, qui ne gèlent pas le traitement de l’interface (comme la mise à jour d’un graphique).<p>Pour établir des priorités de rendu, utilisez un de ces Hooks :<ul><li><a href="/reference/react/useTransition"><code>useTransition</code></a> permet de marquer une transition d’état local comme non bloquante ce qui autorise d’autres mises à jour à l’interrompre.<li><a href="/reference/react/useDeferredValue"><code>useDeferredValue</code></a> vous permet de différer la mise à jour d’une partie non critique de l’UI et de laisser les autres parties se mettre à jour en premier.</ul></section><section class="level2"aria-labelledby="autres-hooks-other-hooks"><h2 id="autres-hooks-other-hooks">Autres Hooks {/<em>other-hooks</em>/}</h2><p>Ces Hooks sont majoritairement utiles aux auteur·e·s de bibliothèque et ne sont pas couramment utilisés dans du code applicatif.<ul><li><a href="/reference/react/useDebugValue"><code>useDebugValue</code></a> vous permet de personnaliser le libellé que les outils de développement React affichent pour votre propre Hook.<li><a href="/reference/react/useId"><code>useId</code></a> permet à un composant de s’associer un ID unique. Généralement utilisé avec les API d’accessibilité.<li><a href="/reference/react/useSyncExternalStore"><code>useSyncExternalStore</code></a> permet à un composant de s’abonner à une source de données extérieure.</ul></section><section class="level2"aria-labelledby="vos-propres-hooks-your-own-hooks"><h2 id="vos-propres-hooks-your-own-hooks">Vos propres Hooks {/<em>your-own-hooks</em>/}</h2><p>Vous pouvez <a href="/learn/reusing-logic-with-custom-hooks#extracting-your-own-custom-hook-from-a-component">définir vos propres Hooks personnalisés</a> au moyen de fonctions JavaScript. <span style="float:footnote"><a href="../../index.html#toc">Go to TOC</a></span></section></section>