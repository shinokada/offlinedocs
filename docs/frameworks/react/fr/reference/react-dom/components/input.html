<!doctype html><html lang="fr"><meta charset="utf-8"><title>""</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"type="text/css"href="../../../../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"><h1 id="">"<input>"</h1><intro><p>Le <a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input">composant natif <code>&#x3C;input></code> du navigateur</a> vous permet d'afficher différents types de champs de saisie dans un formulaire.<pre class="language-js"><code class="language-js"><span class="token operator">&#x3C;</span>input <span class="token operator">/</span><span class="token operator">></span></code></pre></intro><inlinetoc><section class="level2"aria-labelledby="référence-reference"><h2 id="référence-reference">Référence {/<em>reference</em>/}</h2><section class="level3"aria-labelledby="-input"><h3 id="-input"><code>&#x3C;input></code> {/<em>input</em>/}</h3><p>Pour afficher un champ de saisie, utilisez le <a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input">composant natif <code>&#x3C;input></code> du navigateur</a>.<pre class="language-js"><code class="language-js"><span class="token operator">&#x3C;</span>input name<span class="token operator">=</span><span class="token string">"myInput"</span> <span class="token operator">/</span><span class="token operator">></span></code></pre><p><a href="#usage">Voir plus d'exemples ci-dessous</a>.<section class="level4"aria-labelledby="props-props"><h4 id="props-props">Props {/<em>props</em>/}</h4><p><code>&#x3C;input></code> prend en charge toutes les <a href="/reference/react-dom/components/common#props">props communes aux éléments</a>.</p><canary><p>Les extensions de React à la prop <code>formAction</code> ne sont actuellement disponibles que sur les canaux de livraison Canary et Expérimental de React. Dans les versions stables de React, <code>formAction</code> est limitée à son fonctionnement <a href="/reference/react-dom/components#all-html-components">du composant HTML natif du navigateur</a>. Apprenez-en davantage sur <a href="/community/versioning-policy#all-release-channels">les canaux de livraison React</a>.</p></canary><p><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input#formaction"><code>formAction</code></a> : une chaîne de caractères ou une fonction. Cette prop a priorité sur le <code>&#x3C;form action></code> pour les champs de <code>type="submit"</code> ou <code>type="image"</code>. Lorsqu'une URL est passée à <code>formAction</code>, le formulaire se comporte comme un formulaire HTML classique. Mais si une fonction est passée à <code>formAction</code>, la fonction traitera l'envoi du formulaire. Allez voir <a href="/reference/react-dom/components/form#props"><code>&#x3C;form action></code></a>.<p>Un champ de saisie peut devenir un <a href="#controlling-an-input-with-a-state-variable">champ contrôlé</a> en lui passant une de ces props :<ul><li><a href="https://developer.mozilla.org/fr/docs/Web/API/HTMLInputElement#checked"><code>checked</code></a> : un booléen. Pour un champ de saisie avec une case à cocher ou un bouton radio, contrôle s'il est sélectionné.<li><a href="https://developer.mozilla.org/fr/docs/Web/API/HTMLInputElement#value"><code>value</code></a> : une chaîne de caractères. Pour un champ de saisie textuel, contrôle son texte (pour un bouton radio, spécifie la valeur soumise avec le formulaire).</ul><p>Lorsque vous passez une de ces valeurs, vous devez également passer un gestionnaire d'événement <code>onChange</code> qui met à jour la valeur passée.<p>Ces props d'<code>&#x3C;input></code> sont seulement compatibles avec les champs de saisie non contrôlés :<ul><li><a href="https://developer.mozilla.org/fr/docs/Web/API/HTMLInputElement#defaultChecked"><code>defaultChecked</code></a>: un booléen. Spécifie <a href="#providing-an-initial-value-for-an-input">la valeur initiale</a> pour les champs de saisie de <code>type="checkbox"</code> ou<code>type="radio"</code>.<li><a href="https://developer.mozilla.org/fr/docs/Web/API/HTMLInputElement#defaultValue"><code>defaultValue</code></a>: une chaîne de caractères. Spécifie <a href="#providing-an-initial-value-for-an-input">la valeur initiale</a> pour un champ de saisie textuel.</ul><p>Ces props d'<code>&#x3C;input></code> sont compatibles avec les champs de saisie contrôlés comme non contrôlés :<ul><li><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input#accept"><code>accept</code></a> : une chaîne de caractères. Spécifie quels types de fichiers sont acceptés par un champ de saisie de <code>type="file"</code>.<li><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input#alt"><code>alt</code></a> : une chaîne de caractères. Spécifie le texte alternatif pour un champ de saisie <code>type="image"</code>.<li><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input#capture"><code>capture</code></a> : une chaîne de caractères. Spécifie le média (microphone, vidéo ou caméra) capturé par un champ de saisie <code>type="file"</code>.<li><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input#autocomplete"><code>autoComplete</code></a> : une chaîne de caractères. Spécifie l'un des <a href="https://developer.mozilla.org/fr/docs/Web/HTML/Attributes/autocomplete#values">comportements d'autocomplétion</a> possibles.<li><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input#autofocus"><code>autoFocus</code></a> : un booléen. Si <code>true</code>, React va activer l'élément après le montage <em>(l'apparition initiale dans le DOM, NdT)</em>.<li><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input#dirname"><code>dirname</code></a> : une chaîne de caractères. Spécifie le nom de la donnée du formulaire indiquant la directionnalité de l'élément.<li><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input#disabled"><code>disabled</code></a> : un booléen. Si <code>true</code>, le champ de saisie ne sera pas interactif et sera grisé.<li><code>children</code> : <code>&#x3C;input></code> n'accepte pas d'enfants.<li><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input#form"><code>form</code></a> : une chaîne de caractères. Spécifie l'<code>id</code> du <code>&#x3C;form></code> auquel appartient ce champ de saisie. S'il est absent, le champ de saisie sera associé au formulaire parent le plus proche.<li><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input#formaction"><code>formAction</code></a> : une chaîne de caractères. Remplace l'attribut <code>action</code> du <code>&#x3C;form></code> parent pour les champs de <code>type="submit"</code> ou <code>type="image"</code>.<li><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input#formenctype"><code>formEnctype</code></a> : une chaîne de caractères. Remplace l'attribut <code>enctype</code> du <code>&#x3C;form></code> parent pour les champs de saisie de <code>type="submit"</code> ou <code>type="image"</code>.<li><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input#formmethod"><code>formMethod</code></a> : une chaîne de caractères. Remplace l'attribut <code>method</code> du <code>&#x3C;form></code> parent pour les champs de saisie de <code>type="submit"</code> ou <code>type="image"</code>.<li><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input#formnovalidate"><code>formNoValidate</code></a> : une chaîne de caractères. Remplace l'attribut <code>novalidate</code> du <code>&#x3C;form></code> parent pour les champs de saisie de <code>type="submit"</code> ou <code>type="image"</code>.<li><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input#formtarget"><code>formTarget</code></a> : une chaîne de caractères. Remplace l'attribut <code>target</code> du <code>&#x3C;form></code> parent pour les champs de saisie de <code>type="submit"</code> ou <code>type="image"</code>.<li><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input#height"><code>height</code></a> : une chaîne de caractères. Spécifie la hauteur de l'image pour le <code>type="image"</code>.<li><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input#list"><code>list</code></a> : une chaîne de caractères. Spécifie l'<code>id</code> du <code>&#x3C;datalist></code> avec les options d'autocomplétion.<li><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input#max"><code>max</code></a> : un nombre. Spécifie la valeur maximale pour les champs de saisie numériques et de date.<li><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input#maxlength"><code>maxLength</code></a> : un nombre. Spécifie la longueur maximale pour les champs de saisie textuels et autres.<li><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input#min"><code>min</code></a> : un nombre. Spécifie la valeur minimale pour les champs de saisie numériques et de date.<li><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input#minlength"><code>minLength</code></a> : un nombre. Spécifie la longueur minimale pour les champs de saisie textuels et autres.<li><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input#multiple"><code>multiple</code></a> : un booléen. Spécifie si plusieurs valeurs sont autorisées pour <code>type="file"</code> ou <code>type="email"</code>.<li><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input#name"><code>name</code></a> : une chaîne de caractères. Spécifie le nom de ce champ de saisie au sein de <a href="#reading-the-input-values-when-submitting-a-form">l'envoi du formulaire</a>.<li><code>onChange</code> : une fonction <a href="/reference/react-dom/components/common#event-handler">gestionnaire d'événement</a>. Requis pour <a href="#controlling-an-input-with-a-state-variable">les champs de saisie contrôlés</a>. Se déclenche immédiatement lorsque la valeur du champ de saisie est modifiée par l'utilisateur (par exemple, il se déclenche à chaque frappe). Se comporte comme <a href="https://developer.mozilla.org/fr/docs/Web/API/HTMLElement/input_event">l'événement <code>input</code></a> du navigateur.<li><code>onChangeCapture</code> : une version de <code>onChange</code> qui se déclenche lors de la <a href="/learn/responding-to-events#capture-phase-events">phase de capture</a>.<li><a href="https://developer.mozilla.org/fr/docs/Web/API/HTMLElement/input_event"><code>onInput</code></a> : une fonction <a href="/reference/react-dom/components/common#event-handler">gestionnaire d'événement</a>. Se déclenche immédiatement lorsque la valeur du champ de saisie est modifiée par l'utilisateur. Pour des raisons historiques, en React, il est préférable d'utiliser <code>onChange</code> à la place, qui fonctionne de manière similaire.<li><code>onInputCapture</code> : une version de <code>onInput</code> qui se déclenche lors de la <a href="/learn/responding-to-events#capture-phase-events">phase de capture</a>.<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement/invalid_event"><code>onInvalid</code></a> : une fonction <a href="/reference/react-dom/components/common#event-handler">gestionnaire d'événement</a>. Se déclenche si un champ de saisie échoue à la validation lors de la soumission du formulaire. Contrairement à l'événement natif <code>invalid</code>, l'événement React <code>onInvalid</code> se propage.<li><code>onInvalidCapture</code> : une version de <code>onInvalid</code> qui se déclenche lors de la <a href="/learn/responding-to-events#capture-phase-events">phase de capture</a>.<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement/select_event"><code>onSelect</code></a> : une fonction <a href="/reference/react-dom/components/common#event-handler">gestionnaire d'événement</a>. Se déclenche après que la sélection à l'intérieur du champ de saisie a changé. React étend l'événement <code>onSelect</code> pour se déclencher également pour une sélection vide et sur les modifications de texte (qui peuvent affecter la sélection).<li><code>onSelectCapture</code> : une version de <code>onSelect</code> qui se déclenche lors de la <a href="/learn/responding-to-events#capture-phase-events">phase de capture</a>.<li><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input#pattern"><code>pattern</code></a> : une chaîne de caractères. Spécifie une expression rationnelle qui doit correspondre à la <code>value</code> du champ de saisie.<li><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input#placeholder"><code>placeholder</code></a> : une chaîne de caractères. Affichée dans une couleur discrète lorsque la valeur du champ de saisie est vide.<li><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input#readonly"><code>readOnly</code></a> : un booléen. Si <code>true</code>, le champ de saisie n'est pas modifiable par l'utilisateur.<li><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input#required"><code>required</code></a> : un booléen. Si <code>true</code>, la valeur doit être fournie pour que le formulaire puisse être soumis.<li><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input#size"><code>size</code></a> : un nombre. Similaire à la définition de la largeur, mais l'unité dépend de la nature du champ.<li><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input#src"><code>src</code></a> : une chaîne de caractères. Spécifie la source de l'image pour un champ de saisie <code>type="image"</code>.<li><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input#step"><code>step</code></a> : un nombre positif ou le texte <code>'any'</code>. Spécifie la distance entre les valeurs valides.<li><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input#type"><code>type</code></a> : une chaîne de caractères. L'un des <a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input#les_diff%C3%A9rents_types_de_champs_input">types de saisie</a>.<li><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input#width"><code>width</code></a> : une chaîne de caractères. Spécifie la largeur de l'image pour un champ de saisie <code>type="image"</code>.</ul></section><section class="level4"aria-labelledby="limitations-caveats"><h4 id="limitations-caveats">Limitations {/<em>caveats</em>/}</h4><ul><li>Les cases à cocher ont besoin de <code>checked</code> (ou <code>defaultChecked</code>), pas de <code>value</code> (ou <code>defaultValue</code>).<li>Si un champ de saisie reçoit une prop <code>value</code> textuelle, il sera <a href="#controlling-an-input-with-a-state-variable">traité comme un champ contrôlé</a>.<li>Si un champ de type case à cocher ou bouton radio reçoit une prop <code>checked</code> booléenne, il sera <a href="#controlling-an-input-with-a-state-variable">traité comme un champ contrôlé</a>.<li>Un champ de saisie ne peut pas être à la fois contrôlé et non contrôlé.<li>Un champ de saisie ne peut pas basculer entre un statut contrôlé et non contrôlé au cours de son existence.<li>Un champ de saisie contrôlé doit avoir un gestionnaire <code>onChange</code> qui met à jour sa valeur.</ul></section></section></section><section class="level2"aria-labelledby="utilisation-usage"><h2 id="utilisation-usage">Utilisation {/<em>usage</em>/}</h2><section class="level3"aria-labelledby="afficher-des-champs-de-saisie-de-différents-types-displaying-inputs-of-different-types"><h3 id="afficher-des-champs-de-saisie-de-différents-types-displaying-inputs-of-different-types">Afficher des champs de saisie de différents types {/<em>displaying-inputs-of-different-types</em>/}</h3><p>Utilisez un composant <code>&#x3C;input></code> pour afficher un champ de saisie. Par défaut, il s'agira d'un champ de saisie textuel. Vous pouvez passer <code>type="checkbox"</code> pour une case à cocher, <code>type="radio"</code> pour un bouton radio, <a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input#les_diff%C3%A9rents_types_de_champs_input">ou l'un des autres types de saisie</a>.</p><sandpack><pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">MyForm</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span>label<span class="token operator">></span>
        <span class="token maybe-class-name">Champ</span> de saisie textuel <span class="token operator">:</span> <span class="token operator">&#x3C;</span>input name<span class="token operator">=</span><span class="token string">"myInput"</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token operator">/</span>label<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>hr <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span>label<span class="token operator">></span>
        <span class="token maybe-class-name">Case</span> à cocher <span class="token operator">:</span> <span class="token operator">&#x3C;</span>input type<span class="token operator">=</span><span class="token string">"checkbox"</span> name<span class="token operator">=</span><span class="token string">"myCheckbox"</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token operator">/</span>label<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>hr <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span>p<span class="token operator">></span>
        <span class="token maybe-class-name">Bouton</span> radio <span class="token operator">:</span>
        <span class="token operator">&#x3C;</span>label<span class="token operator">></span>
          <span class="token operator">&#x3C;</span>input type<span class="token operator">=</span><span class="token string">"radio"</span> name<span class="token operator">=</span><span class="token string">"myRadio"</span> value<span class="token operator">=</span><span class="token string">"option1"</span> <span class="token operator">/</span><span class="token operator">></span>
          <span class="token maybe-class-name">Option</span> <span class="token number">1</span>
        <span class="token operator">&#x3C;</span><span class="token operator">/</span>label<span class="token operator">></span>
        <span class="token operator">&#x3C;</span>label<span class="token operator">></span>
          <span class="token operator">&#x3C;</span>input type<span class="token operator">=</span><span class="token string">"radio"</span> name<span class="token operator">=</span><span class="token string">"myRadio"</span> value<span class="token operator">=</span><span class="token string">"option2"</span> <span class="token operator">/</span><span class="token operator">></span>
          <span class="token maybe-class-name">Option</span> <span class="token number">2</span>
        <span class="token operator">&#x3C;</span><span class="token operator">/</span>label<span class="token operator">></span>
        <span class="token operator">&#x3C;</span>label<span class="token operator">></span>
          <span class="token operator">&#x3C;</span>input type<span class="token operator">=</span><span class="token string">"radio"</span> name<span class="token operator">=</span><span class="token string">"myRadio"</span> value<span class="token operator">=</span><span class="token string">"option3"</span> <span class="token operator">/</span><span class="token operator">></span>
          <span class="token maybe-class-name">Option</span> <span class="token number">3</span>
        <span class="token operator">&#x3C;</span><span class="token operator">/</span>label<span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token operator">/</span>p<span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><pre class="language-css"><code class="language-css"><span class="token selector">label</span> <span class="token punctuation">{</span> <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token selector">input</span> <span class="token punctuation">{</span> <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token unit">px</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></code></pre></sandpack></section><section class="level3"aria-labelledby="fournir-une-légende-pour-un-champ-de-saisie-providing-a-label-for-an-input"><h3 id="fournir-une-légende-pour-un-champ-de-saisie-providing-a-label-for-an-input">Fournir une légende pour un champ de saisie {/<em>providing-a-label-for-an-input</em>/}</h3><p>Vous placerez généralement chaque <code>&#x3C;input></code> à l'intérieur d'une balise <a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/label"><code>&#x3C;label></code></a>. Ça indique au navigateur que cette légende est associée à ce champ de saisie. Lorsque l'utilisateur cliquera sur la légende, le navigateur activera le champ de saisie. C'est également essentiel pour l'accessibilité : un lecteur d'écran annoncera la légende lorsque l'utilisateur activera le champ de saisie.<p>Si vous ne pouvez pas imbriquer votre <code>&#x3C;input></code> dans un <code>&#x3C;label></code>, associez-les en passant le même <code>id</code> à <code>&#x3C;input id></code> et <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLLabelElement/htmlFor"><code>&#x3C;label htmlFor></code></a>. Pour éviter les conflits entre les instances d'un composant, générez un <code>id</code> avec <a href="/reference/react/useId"><code>useId</code></a>.</p><sandpack><pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> useId <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Form</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> ageInputId <span class="token operator">=</span> <span class="token function">useId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span>label<span class="token operator">></span>
        <span class="token maybe-class-name">Votre</span> prénom <span class="token operator">:</span>
        <span class="token operator">&#x3C;</span>input name<span class="token operator">=</span><span class="token string">"firstName"</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token operator">/</span>label<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>hr <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span>label htmlFor<span class="token operator">=</span><span class="token punctuation">{</span>ageInputId<span class="token punctuation">}</span><span class="token operator">></span><span class="token maybe-class-name">Votre</span> âge <span class="token operator">:</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>label<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>input id<span class="token operator">=</span><span class="token punctuation">{</span>ageInputId<span class="token punctuation">}</span> name<span class="token operator">=</span><span class="token string">"age"</span> type<span class="token operator">=</span><span class="token string">"number"</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><pre class="language-css"><code class="language-css"><span class="token selector">input</span> <span class="token punctuation">{</span> <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token unit">px</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></code></pre></sandpack></section><section class="level3"aria-labelledby="passer-une-valeur-initiale-à-un-champ-de-saisie-providing-an-initial-value-for-an-input"><h3 id="passer-une-valeur-initiale-à-un-champ-de-saisie-providing-an-initial-value-for-an-input">Passer une valeur initiale à un champ de saisie {/<em>providing-an-initial-value-for-an-input</em>/}</h3><p>Vous pouvez éventuellement spécifier la valeur initiale d'un champ de saisie. Passez-la comme une chaîne de caractères <code>defaultValue</code> pour les champs de saisie textuels. Les cases à cocher et les boutons radios spécifient quant à eux la valeur initiale avec le booléen <code>defaultChecked</code>.</p><sandpack><pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">MyForm</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span>label<span class="token operator">></span>
        <span class="token maybe-class-name">Champ</span> de saisie textuel <span class="token operator">:</span> <span class="token operator">&#x3C;</span>input name<span class="token operator">=</span><span class="token string">"myInput"</span> defaultValue<span class="token operator">=</span><span class="token string">"Une valeur initiale"</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token operator">/</span>label<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>hr <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span>label<span class="token operator">></span>
        <span class="token maybe-class-name">Case</span> à cocher <span class="token operator">:</span> <span class="token operator">&#x3C;</span>input type<span class="token operator">=</span><span class="token string">"checkbox"</span> name<span class="token operator">=</span><span class="token string">"myCheckbox"</span> defaultChecked<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">true</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token operator">/</span>label<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>hr <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span>p<span class="token operator">></span>
        <span class="token maybe-class-name">Bouton</span> radio <span class="token operator">:</span>
        <span class="token operator">&#x3C;</span>label<span class="token operator">></span>
          <span class="token operator">&#x3C;</span>input type<span class="token operator">=</span><span class="token string">"radio"</span> name<span class="token operator">=</span><span class="token string">"myRadio"</span> value<span class="token operator">=</span><span class="token string">"option1"</span> <span class="token operator">/</span><span class="token operator">></span>
          <span class="token maybe-class-name">Option</span> <span class="token number">1</span>
        <span class="token operator">&#x3C;</span><span class="token operator">/</span>label<span class="token operator">></span>
        <span class="token operator">&#x3C;</span>label<span class="token operator">></span>
          <span class="token operator">&#x3C;</span>input
            type<span class="token operator">=</span><span class="token string">"radio"</span>
            name<span class="token operator">=</span><span class="token string">"myRadio"</span>
            value<span class="token operator">=</span><span class="token string">"option2"</span>
            defaultChecked<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">true</span><span class="token punctuation">}</span>
          <span class="token operator">/</span><span class="token operator">></span>
          <span class="token maybe-class-name">Option</span> <span class="token number">2</span>
        <span class="token operator">&#x3C;</span><span class="token operator">/</span>label<span class="token operator">></span>
        <span class="token operator">&#x3C;</span>label<span class="token operator">></span>
          <span class="token operator">&#x3C;</span>input type<span class="token operator">=</span><span class="token string">"radio"</span> name<span class="token operator">=</span><span class="token string">"myRadio"</span> value<span class="token operator">=</span><span class="token string">"option3"</span> <span class="token operator">/</span><span class="token operator">></span>
          <span class="token maybe-class-name">Option</span> <span class="token number">3</span>
        <span class="token operator">&#x3C;</span><span class="token operator">/</span>label<span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token operator">/</span>p<span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><pre class="language-css"><code class="language-css"><span class="token selector">label</span> <span class="token punctuation">{</span> <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token selector">input</span> <span class="token punctuation">{</span> <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token unit">px</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></code></pre></sandpack></section><section class="level3"aria-labelledby="lire-la-valeur-dun-champ-de-saisie-lors-de-la-soumission-dun-formulaire-reading-the-input-values-when-submitting-a-form"><h3 id="lire-la-valeur-dun-champ-de-saisie-lors-de-la-soumission-dun-formulaire-reading-the-input-values-when-submitting-a-form">Lire la valeur d'un champ de saisie lors de la soumission d'un formulaire {/<em>reading-the-input-values-when-submitting-a-form</em>/}</h3><p>Ajoutez un <a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/form"><code>&#x3C;form></code></a> autour de votre champ de saisie avec un <a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/button"><code>&#x3C;button type="submit"></code></a> à l'intérieur. Il appellera votre gestionnaire d'événement <code>&#x3C;form onSubmit></code>. Par défaut, le navigateur enverra les données du formulaire à l'URL actuelle et rechargera la page. Vous pouvez remplacer ce comportement en appelant <code>e.preventDefault()</code>. Lisez les données du formulaire avec <a href="https://developer.mozilla.org/fr/docs/Web/API/FormData"><code>new FormData(e.target)</code></a>.</p><sandpack><pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">MyForm</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">handleSubmit</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Empêche le navigateur de recharger la page</span>
    e<span class="token punctuation">.</span><span class="token method function property-access">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Lit les données du formulaire</span>
    <span class="token keyword">const</span> form <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> formData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span>form<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Vous pouvez passer formData directement comme</span>
    <span class="token comment">// corps de la requête à fetch:</span>
    <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'/some-api'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">method</span><span class="token operator">:</span> form<span class="token punctuation">.</span><span class="token property-access">method</span><span class="token punctuation">,</span> <span class="token literal-property property">body</span><span class="token operator">:</span> formData <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Ou vous pouvez travailler avec comme un</span>
    <span class="token comment">// objet simple :</span>
    <span class="token keyword">const</span> formJson <span class="token operator">=</span> <span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token method function property-access">fromEntries</span><span class="token punctuation">(</span>formData<span class="token punctuation">.</span><span class="token method function property-access">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>formJson<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span>form method<span class="token operator">=</span><span class="token string">"post"</span> onSubmit<span class="token operator">=</span><span class="token punctuation">{</span>handleSubmit<span class="token punctuation">}</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span>label<span class="token operator">></span>
        <span class="token maybe-class-name">Champ</span> de saisie textuel <span class="token operator">:</span> <span class="token operator">&#x3C;</span>input name<span class="token operator">=</span><span class="token string">"myInput"</span> defaultValue<span class="token operator">=</span><span class="token string">"Une valeur initiale"</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token operator">/</span>label<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>hr <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span>label<span class="token operator">></span>
        <span class="token maybe-class-name">Case</span> à cocher <span class="token operator">:</span> <span class="token operator">&#x3C;</span>input type<span class="token operator">=</span><span class="token string">"checkbox"</span> name<span class="token operator">=</span><span class="token string">"myCheckbox"</span> defaultChecked<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">true</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token operator">/</span>label<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>hr <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span>p<span class="token operator">></span>
        <span class="token maybe-class-name">Bouton</span> radio <span class="token operator">:</span>
        <span class="token operator">&#x3C;</span>label<span class="token operator">></span><span class="token operator">&#x3C;</span>input type<span class="token operator">=</span><span class="token string">"radio"</span> name<span class="token operator">=</span><span class="token string">"myRadio"</span> value<span class="token operator">=</span><span class="token string">"option1"</span> <span class="token operator">/</span><span class="token operator">></span> <span class="token maybe-class-name">Option</span> <span class="token number">1</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>label<span class="token operator">></span>
        <span class="token operator">&#x3C;</span>label<span class="token operator">></span><span class="token operator">&#x3C;</span>input type<span class="token operator">=</span><span class="token string">"radio"</span> name<span class="token operator">=</span><span class="token string">"myRadio"</span> value<span class="token operator">=</span><span class="token string">"option2"</span> defaultChecked<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">true</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span> <span class="token maybe-class-name">Option</span> <span class="token number">2</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>label<span class="token operator">></span>
        <span class="token operator">&#x3C;</span>label<span class="token operator">></span><span class="token operator">&#x3C;</span>input type<span class="token operator">=</span><span class="token string">"radio"</span> name<span class="token operator">=</span><span class="token string">"myRadio"</span> value<span class="token operator">=</span><span class="token string">"option3"</span> <span class="token operator">/</span><span class="token operator">></span> <span class="token maybe-class-name">Option</span> <span class="token number">3</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>label<span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token operator">/</span>p<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>hr <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span>button type<span class="token operator">=</span><span class="token string">"reset"</span><span class="token operator">></span><span class="token maybe-class-name">Abandonner</span> les modifications<span class="token operator">&#x3C;</span><span class="token operator">/</span>button<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>button type<span class="token operator">=</span><span class="token string">"submit"</span><span class="token operator">></span><span class="token maybe-class-name">Envoyer</span> le formulaire<span class="token operator">&#x3C;</span><span class="token operator">/</span>button<span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>form<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><pre class="language-css"><code class="language-css"><span class="token selector">label</span> <span class="token punctuation">{</span> <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token selector">input</span> <span class="token punctuation">{</span> <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token unit">px</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></code></pre></sandpack><note><p>Donnez un <code>name</code> à votre <code>&#x3C;input></code>, par exemple <code>&#x3C;input name="firstName" defaultValue="Clara" /></code>. Le <code>name</code> que vous avez spécifié sera utilisé comme clé dans les données du formulaire, par exemple <code>{ firstName: "Clara" }</code>.</p></note><pitfall><p>Par défaut, <em>n'importe quel</em> <code>&#x3C;button></code> à l'intérieur d'un <code>&#x3C;form></code> va le soumettre. Cela peut être surprenant ! Si vous avez votre propre composant React <code>Button</code>, envisagez de renvoyer <a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/input/button"><code>&#x3C;button type="button"></code></a> au lieu de <code>&#x3C;button></code>. Ensuite, pour être explicite, utilisez <code>&#x3C;button type="submit"></code> pour les boutons qui <em>sont</em> censés soumettre le formulaire.</p></pitfall></section><section class="level3"aria-labelledby="contrôler-un-champ-de-saisie-avec-une-variable-détat-controlling-an-input-with-a-state-variable"><h3 id="contrôler-un-champ-de-saisie-avec-une-variable-détat-controlling-an-input-with-a-state-variable">Contrôler un champ de saisie avec une variable d'état {/<em>controlling-an-input-with-a-state-variable</em>/}</h3><p>Un champ de saisie comme <code>&#x3C;input /></code> est <em>non contrôlé</em>. Même si vous <a href="#providing-an-initial-value-for-an-input">passez une valeur initiale</a> comme <code>&#x3C;input defaultValue="Texte initial" /></code>, votre JSX ne spécifie que la valeur initiale, il ne contrôle pas la valeur actuelle.<p><strong>Pour afficher un champ de saisie <em>contrôlé</em>, passez une prop <code>value</code> à <code>&#x3C;input /></code>.</strong> React forcera le champ de saisie à toujours avoir la valeur que vous avez passée. Généralement, vous contrôlerez un champ de saisie en déclarant une <a href="/reference/react/useState">variable d'état</a> :<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Form</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>firstName<span class="token punctuation">,</span> setFirstName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Déclare une variable d’état...</span>
  <span class="token comment">// ...</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span>input
      value<span class="token operator">=</span><span class="token punctuation">{</span>firstName<span class="token punctuation">}</span> <span class="token comment">// ...force la valeur du champ de saisie à la valeur de la variable d'état...</span>
      onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token arrow operator">=></span> <span class="token function">setFirstName</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token comment">// // ...et met à jour la variable d'état à chaque frappe !</span>
    <span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>C'est utile lorsque vous voulez rafraîchir une partie de l'interface utilisateur à chaque frappe.<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Form</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>firstName<span class="token punctuation">,</span> setFirstName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span>label<span class="token operator">></span>
        <span class="token literal-property property">Prénom</span> <span class="token operator">:</span>
        <span class="token operator">&#x3C;</span>input value<span class="token operator">=</span><span class="token punctuation">{</span>firstName<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token arrow operator">=></span> <span class="token function">setFirstName</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token operator">/</span>label<span class="token operator">></span>
      <span class="token punctuation">{</span>firstName <span class="token operator">!==</span> <span class="token string">''</span> <span class="token operator">&#x26;&#x26;</span> <span class="token operator">&#x3C;</span>p<span class="token operator">></span><span class="token maybe-class-name">Votre</span> prénom est <span class="token punctuation">{</span>firstName<span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>p<span class="token operator">></span><span class="token punctuation">}</span>
      <span class="token spread operator">...</span></code></pre><p>C'est également utile si vous voulez offrir plusieurs façons d'ajuster l'état de la saisie (par exemple, en cliquant sur un bouton) :<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Form</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>age<span class="token punctuation">,</span> setAge<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> ageAsNumber <span class="token operator">=</span> <span class="token known-class-name class-name">Number</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span>label<span class="token operator">></span>
        <span class="token literal-property property">Âge</span> <span class="token operator">:</span>
        <span class="token operator">&#x3C;</span>input
          value<span class="token operator">=</span><span class="token punctuation">{</span>age<span class="token punctuation">}</span>
          onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token arrow operator">=></span> <span class="token function">setAge</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
          type<span class="token operator">=</span><span class="token string">"number"</span>
        <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&#x3C;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token function">setAge</span><span class="token punctuation">(</span>ageAsNumber <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">></span>
          <span class="token maybe-class-name">Ajouter</span> <span class="token number">10</span> ans
        <span class="token operator">&#x3C;</span><span class="token operator">/</span>button<span class="token operator">></span></code></pre><p>La <code>value</code> que vous passez aux composants contrôlés ne doit pas être <code>undefined</code> ou <code>null</code>. Si vous avez besoin que la valeur initiale soit vide (comme avec le champ <code>firstName</code> ci-dessous), initialisez votre variable d'état avec une chaîne de caractères vide (<code>''</code>).</p><sandpack><pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> useState <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Form</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>firstName<span class="token punctuation">,</span> setFirstName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>age<span class="token punctuation">,</span> setAge<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'20'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> ageAsNumber <span class="token operator">=</span> <span class="token known-class-name class-name">Number</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span>label<span class="token operator">></span>
        <span class="token literal-property property">Prénom</span> <span class="token operator">:</span>
        <span class="token operator">&#x3C;</span>input
          value<span class="token operator">=</span><span class="token punctuation">{</span>firstName<span class="token punctuation">}</span>
          onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token arrow operator">=></span> <span class="token function">setFirstName</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token operator">/</span>label<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>label<span class="token operator">></span>
        <span class="token literal-property property">Âge</span> <span class="token operator">:</span>
        <span class="token operator">&#x3C;</span>input
          value<span class="token operator">=</span><span class="token punctuation">{</span>age<span class="token punctuation">}</span>
          onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token arrow operator">=></span> <span class="token function">setAge</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
          type<span class="token operator">=</span><span class="token string">"number"</span>
        <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&#x3C;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token function">setAge</span><span class="token punctuation">(</span>ageAsNumber <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">></span>
          <span class="token maybe-class-name">Ajouter</span> <span class="token number">10</span> ans
        <span class="token operator">&#x3C;</span><span class="token operator">/</span>button<span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token operator">/</span>label<span class="token operator">></span>
      <span class="token punctuation">{</span>firstName <span class="token operator">!==</span> <span class="token string">''</span> <span class="token operator">&#x26;&#x26;</span>
        <span class="token operator">&#x3C;</span>p<span class="token operator">></span><span class="token maybe-class-name">Votre</span> nom est <span class="token punctuation">{</span>firstName<span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>p<span class="token operator">></span>
      <span class="token punctuation">}</span>
      <span class="token punctuation">{</span>ageAsNumber <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&#x26;&#x26;</span>
        <span class="token operator">&#x3C;</span>p<span class="token operator">></span><span class="token maybe-class-name">Votre</span> âge est <span class="token punctuation">{</span>ageAsNumber<span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>p<span class="token operator">></span>
      <span class="token punctuation">}</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><pre class="language-css"><code class="language-css"><span class="token selector">label</span> <span class="token punctuation">{</span> <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token selector">input</span> <span class="token punctuation">{</span> <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token unit">px</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token selector">p</span> <span class="token punctuation">{</span> <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span> <span class="token punctuation">}</span></code></pre></sandpack><pitfall><p><strong>Si vous passez <code>value</code> sans <code>onChange</code>, il sera impossible de réaliser une saisie dans le champ de saisie.</strong> Lorsque vous contrôlez un champ de saisie en passant une <code>value</code>, vous <em>forcez</em> le champ de saisie à toujours avoir la valeur que vous avez passée. Donc, si vous passez une variable d'état comme <code>value</code> mais oubliez de mettre à jour cette variable d'état de manière synchrone au sein du gestionnaire d'événement <code>onChange</code>, React réinitialisera le champ de saisie, après chaque frappe, à la <code>value</code> que vous avez spécifiée.</p></pitfall></section><section class="level3"aria-labelledby="optimiser-le-recalcul-de-rendu-à-chaque-frappe-clavier-optimizing-re-rendering-on-every-keystroke"><h3 id="optimiser-le-recalcul-de-rendu-à-chaque-frappe-clavier-optimizing-re-rendering-on-every-keystroke">Optimiser le recalcul de rendu à chaque frappe clavier {/<em>optimizing-re-rendering-on-every-keystroke</em>/}</h3><p>Lorsque vous utilisez un champ de saisie contrôlé, vous modifiez l'état à chaque frappe. Si le composant contenant votre état recalcule le rendu d'un grand arbre, ça peut devenir lent. Il existe plusieurs façons d'optimiser les performances d'un recalcul de rendu.<p>Par exemple, supposons que vous commenciez avec un formulaire qui recalcule tout le contenu de la page à chaque frappe :<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">App</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>firstName<span class="token punctuation">,</span> setFirstName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span>form<span class="token operator">></span>
        <span class="token operator">&#x3C;</span>input value<span class="token operator">=</span><span class="token punctuation">{</span>firstName<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token arrow operator">=></span> <span class="token function">setFirstName</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token operator">/</span>form<span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">PageContent</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>Puisque <code>&#x3C;PageContent /></code> ne dépend pas de l'état de la saisie, vous pouvez déplacer l'état de la saisie dans son propre composant :<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">App</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">SignupForm</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">PageContent</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">SignupForm</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>firstName<span class="token punctuation">,</span> setFirstName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span>form<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>input value<span class="token operator">=</span><span class="token punctuation">{</span>firstName<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token arrow operator">=></span> <span class="token function">setFirstName</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>form<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>Ça améliore considérablement les performances car maintenant seul <code>SignupForm</code> se recalcule à chaque frappe.<p>S'il n'y a aucun moyen d'éviter le recalcul (par exemple, si <code>PageContent</code> dépend de la valeur de la saisie de recherche), <a href="/reference/react/useDeferredValue#deferring-re-rendering-for-a-part-of-the-ui"><code>useDeferredValue</code></a> vous permet de conserver un champ de saisie contrôlé réactif même au sein d'un recalcul coûteux.</section></section><section class="level2"aria-labelledby="dépannage-troubleshooting"><h2 id="dépannage-troubleshooting">Dépannage {/<em>troubleshooting</em>/}</h2><section class="level3"aria-labelledby="mon-champ-de-saisie-réactif-ne-se-met-pas-à-jour-lorsque-je-tape-dedans-my-text-input-doesnt-update-when-i-type-into-it"><h3 id="mon-champ-de-saisie-réactif-ne-se-met-pas-à-jour-lorsque-je-tape-dedans-my-text-input-doesnt-update-when-i-type-into-it">Mon champ de saisie réactif ne se met pas à jour lorsque je tape dedans {/<em>my-text-input-doesnt-update-when-i-type-into-it</em>/}</h3><p>Si vous affichez un champ de saisie avec <code>value</code> mais sans <code>onChange</code>, vous verrez une erreur dans la console :<pre class="language-js"><code class="language-js"><span class="token comment">// 🔴 Bug : champ de saisie contrôlé sans gestionnaire onChange</span>
<span class="token operator">&#x3C;</span>input value<span class="token operator">=</span><span class="token punctuation">{</span>something<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span></code></pre><consoleblock level="error"><p>You provided a <code>value</code> prop to a form field without an <code>onChange</code> handler. This will render a read-only field. If the field should be mutable use <code>defaultValue</code>. Otherwise, set either <code>onChange</code> or <code>readOnly</code>.</p></consoleblock><p><em>(« Vous avez fourni une prop <code>value</code> à un champ de formulaire sans gestionnaire <code>onChange</code>. Ça produira un champ en lecture seule. Si le champ doit être modifiable utilisez <code>defaultValue</code>. Sinon, définissez soit <code>onChange</code> soit <code>readOnly</code>. », NdT)</em><p>Comme le message d'erreur le suggère, si vous ne voulez spécifier que <a href="#providing-an-initial-value-for-an-input">la valeur initiale</a>, passez plutôt celle-ci à la prop <code>defaultValue</code> :<pre class="language-js"><code class="language-js"><span class="token comment">// ✅ Correct : champ de saisie non contrôlé avec une valeur initiale</span>
<span class="token operator">&#x3C;</span>input defaultValue<span class="token operator">=</span><span class="token punctuation">{</span>something<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span></code></pre><p>Si vous voulez <a href="#controlling-an-input-with-a-state-variable">contrôler ce champ de saisie avec une variable d'état</a>, spécifiez un gestionnaire <code>onChange</code> :<pre class="language-js"><code class="language-js"><span class="token comment">// ✅ Correct : champ de saisie contrôlé avec onChange</span>
<span class="token operator">&#x3C;</span>input value<span class="token operator">=</span><span class="token punctuation">{</span>something<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token arrow operator">=></span> <span class="token function">setSomething</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span></code></pre><p>Si la valeur est en lecture seule intentionnellement, ajoutez une prop <code>readOnly</code> pour supprimer l'erreur :<pre class="language-js"><code class="language-js"><span class="token comment">// ✅ Correct : champ de saisie en lecture seule sans onChange</span>
<span class="token operator">&#x3C;</span>input value<span class="token operator">=</span><span class="token punctuation">{</span>something<span class="token punctuation">}</span> readOnly<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">true</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span></code></pre></section><section class="level3"aria-labelledby="ma-case-à-cocher-ne-se-met-pas-à-jour-lorsque-je-clique-dessus-my-checkbox-doesnt-update-when-i-click-on-it"><h3 id="ma-case-à-cocher-ne-se-met-pas-à-jour-lorsque-je-clique-dessus-my-checkbox-doesnt-update-when-i-click-on-it">Ma case à cocher ne se met pas à jour lorsque je clique dessus {/<em>my-checkbox-doesnt-update-when-i-click-on-it</em>/}</h3><p>Si vous affichez une case à cocher avec <code>checked</code> mais sans <code>onChange</code>, vous verrez une erreur dans la console :<pre class="language-js"><code class="language-js"><span class="token comment">// 🔴 Bug : case à cocher contrôlée sans gestionnaire onChange</span>
<span class="token operator">&#x3C;</span>input type<span class="token operator">=</span><span class="token string">"checkbox"</span> checked<span class="token operator">=</span><span class="token punctuation">{</span>something<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span></code></pre><consoleblock level="error"><p>You provided a <code>checked</code> prop to a form field without an <code>onChange</code> handler. This will render a read-only field. If the field should be mutable use <code>defaultChecked</code>. Otherwise, set either <code>onChange</code> or <code>readOnly</code>.</p></consoleblock><p>Comme le message d'erreur le suggère, si vous ne voulez spécifier que <a href="#providing-an-initial-value-for-an-input">la valeur <em>initiale</em></a> de la case à cocher, passez plutôt <code>defaultChecked</code> :<pre class="language-js"><code class="language-js"><span class="token comment">// ✅ Correct : case à cocher non contrôlée avec une valeur initiale</span>
<span class="token operator">&#x3C;</span>input type<span class="token operator">=</span><span class="token string">"checkbox"</span> defaultChecked<span class="token operator">=</span><span class="token punctuation">{</span>something<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span></code></pre><p>Si vous voulez <a href="#controlling-an-input-with-a-state-variable">contrôler cette case à cocher avec une variable d'état</a>, spécifiez un gestionnaire <code>onChange</code> :<pre class="language-js"><code class="language-js"><span class="token comment">// ✅ Correct : case à cocher contrôlée avec onChange</span>
<span class="token operator">&#x3C;</span>input type<span class="token operator">=</span><span class="token string">"checkbox"</span> checked<span class="token operator">=</span><span class="token punctuation">{</span>something<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token arrow operator">=></span> <span class="token function">setSomething</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">checked</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span></code></pre><pitfall><p>Vous devez lire <code>e.target.checked</code> plutôt que <code>e.target.value</code> pour les cases à cocher.</p></pitfall><p>Si la case à cocher est en lecture seule intentionnellement, ajoutez une prop <code>readOnly</code> pour supprimer l'erreur :<pre class="language-js"><code class="language-js"><span class="token comment">// ✅ Correct : champ de saisie en lecture seule sans onChange</span>
<span class="token operator">&#x3C;</span>input type<span class="token operator">=</span><span class="token string">"checkbox"</span> checked<span class="token operator">=</span><span class="token punctuation">{</span>something<span class="token punctuation">}</span> readOnly<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">true</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span></code></pre></section><section class="level3"aria-labelledby="le-curseur-de-mon-champ-de-saisie-revient-au-début-à-chaque-frappe-my-input-caret-jumps-to-the-beginning-on-every-keystroke"><h3 id="le-curseur-de-mon-champ-de-saisie-revient-au-début-à-chaque-frappe-my-input-caret-jumps-to-the-beginning-on-every-keystroke">Le curseur de mon champ de saisie revient au début à chaque frappe {/<em>my-input-caret-jumps-to-the-beginning-on-every-keystroke</em>/}</h3><p>Si vous <a href="#controlling-an-input-with-a-state-variable">contrôlez un champ de saisie</a>, vous devez mettre à jour sa variable d'état avec la valeur DOM du champ de saisie pendant le <code>onChange</code>.<p>Vous ne pouvez pas le mettre à jour avec autre chose que <code>e.target.value</code> (ou <code>e.target.checked</code> pour les cases à cocher) :<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 🔴 Bug : mettre à jour un champ de saisie avec autre chose que e.target.value</span>
  <span class="token function">setFirstName</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">.</span><span class="token method function property-access">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>Vous ne pouvez pas le mettre à jour de manière asynchrone :<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 🔴 Bug : mettre à jour un champ de saisie de manière asynchrone</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">setFirstName</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>Pour corriger votre code, mettez à jour de manière synchrone avec <code>e.target.value</code> :<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ✅ Mettre à jour un champ de saisie contrôlé avec e.target.value de manière synchrone</span>
  <span class="token function">setFirstName</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>Si ça ne corrige pas le problème, il est possible que le champ de saisie soit supprimé et réinséré dans le DOM à chaque frappe. Ça peut se produire si vous <a href="/learn/preserving-and-resetting-state">réinitialisez accidentellement l'état</a> à chaque nouveau rendu. Par exemple, ça peut se produire si le champ de saisie ou l'un de ses parents reçoit toujours un attribut <code>key</code> différent, ou si vous imbriquez des définitions de composants (ce qui n'est pas autorisé en React et provoque le remontage du composant « interne » à chaque rendu).</section><section class="level3"aria-labelledby="jai-une-erreur-a-component-is-changing-an-uncontrolled-input-to-be-controlled-im-getting-an-error-a-component-is-changing-an-uncontrolled-input-to-be-controlled"><h3 id="jai-une-erreur-a-component-is-changing-an-uncontrolled-input-to-be-controlled-im-getting-an-error-a-component-is-changing-an-uncontrolled-input-to-be-controlled">J'ai une erreur : "A component is changing an uncontrolled input to be controlled" {/<em>im-getting-an-error-a-component-is-changing-an-uncontrolled-input-to-be-controlled</em>/}</h3><p><em>(« Un composant passe un champ non contrôlé en mode contrôlé », NdT)</em><p>Si vous passez une <code>value</code> à un composant, cette valeur doit être une chaîne de caractères tout au long de son cycle de vie.<p>Si vous passez <code>value={undefined}</code> à un composant, puis plus tard <code>value="quelqueChose"</code>, React ne saura pas si vous voulez que le composant soit contrôlé ou non. Un composant contrôlé doit toujours recevoir une chaîne de caractères en <code>value</code>, pas <code>null</code> ni <code>undefined</code>.<p>Si votre <code>value</code> provient d'une API ou d'une variable d'état, elle peut être initialisée à <code>null</code> ou <code>undefined</code>. Dans ce cas, définissez-la avec une chaîne vide (<code>''</code>) initialement, ou passez <code>value={someValue ?? ''}</code> pour vous assurer que <code>value</code> est une chaîne de caractères.<p>De la même manière, si vous passez <code>checked</code> à une case à cocher, assurez-vous que c'est toujours un booléen. <span style="float:footnote"><a href="../../../index.html#toc">Go to TOC</a></span></section></section></inlinetoc></section>