<!doctype html><html lang="fr"><meta charset="utf-8"><title>Référence {/reference/}</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"type="text/css"href="../../../../../../themes/packages/prism-coy-theme/theme_common.css"><p>script: "<script>"
canary: true</script><canary></canary><p>Les extensions de React à <code>&#x3C;script></code> ne sont actuellement disponibles que sur les canaux de livraison Canary et Expérimental de React. Dans les versions stables de React, <code>&#x3C;script></code> fonctionne comme <a href="/reference/react-dom/components#all-html-components">le composant HTML natif du navigateur</a>. Apprenez-en davantage sur <a href="/community/versioning-policy#all-release-channels">les canaux de livraison React</a>.</p><intro><p>Le <a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/script">composant natif <code>&#x3C;script></code> du navigateur</a> vous permet d'ajouter un script à votre document.<pre class="language-js"><code class="language-js"><span class="token operator">&#x3C;</span>script<span class="token operator">></span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"salut !"</span><span class="token punctuation">)</span> <span class="token operator">&#x3C;</span><span class="token operator">/</span>script<span class="token operator">></span></code></pre></intro><inlinetoc><section class="level2"aria-labelledby="référence-reference"><h2 id="référence-reference">Référence {/<em>reference</em>/}</h2><section class="level3"aria-labelledby="-script"><h3 id="-script"><code>&#x3C;script></code> {/<em>script</em>/}</h3><p>Pour ajouter un script défini à la volée ou extérieur à votre document, utilisez le <a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/script">composant natif <code>&#x3C;script></code> du navigateur</a>. Vous pouvez utiliser <code>&#x3C;script></code> depuis n'importe quel composant et React placera <a href="#special-rendering-behavior">dans certains cas</a> l'élément DOM correspondant dans l'en-tête (<code>head</code>) du document et dédoublonnera les scripts identiques.<pre class="language-js"><code class="language-js"><span class="token operator">&#x3C;</span>script<span class="token operator">></span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"salut !"</span><span class="token punctuation">)</span> <span class="token operator">&#x3C;</span><span class="token operator">/</span>script<span class="token operator">></span>
<span class="token operator">&#x3C;</span>script src<span class="token operator">=</span><span class="token string">"script.js"</span> <span class="token operator">/</span><span class="token operator">></span></code></pre><p><a href="#usage">Voir d'autres exemples plus bas</a>.<section class="level4"aria-labelledby="props-props"><h4 id="props-props">Props {/<em>props</em>/}</h4><p><code>&#x3C;script></code> prend en charge toutes les <a href="/reference/react-dom/components/common#props">props communes aux éléments</a>.<p>Il est censé utiliser <em>l'une ou l'autre</em> des props <code>chilren</code> ou <code>src</code>.<ul><li><code>children</code> : une chaîne de caractères. Le code source du script défini à la volée.<li><code>src</code> : une chaîne de caractères. L'URL d'un script extérieur.</ul><p>L'élément prend en charge d'autres props :<ul><li><code>async</code> : un booléen. Permet au navigateur de différer l'exécution du script jusqu'à ce que le reste du document ait été traité — c'est le comportement à favoriser pour des raisons de performances.<li><code>crossOrigin</code> : une chaîne de caractères. La <a href="https://developer.mozilla.org/docs/Web/HTML/Attributes/crossorigin">politique CORS</a> à utiliser. Les valeurs possibles sont <code>anonymous</code> et <code>use-credentials</code>.<li><code>fetchPriority</code> : une chaîne de caractères. Suggère une priorité relative pour le chargement lorsque plusieurs scripts sont chargés en parallèle. Les valeurs possibles sont <code>auto</code> (par défaut), <code>high</code> ou <code>low</code>.<li><code>integrity</code> : une chaîne de caractères. Une empreinte cryptographique du script afin de <a href="https://developer.mozilla.org/fr/docs/Web/Security/Subresource_Integrity">vérifier son authenticité</a>.<li><code>noModule</code> : un booléen. Désactive le script dans les navigateurs qui ne prennent pas en charge les modules ES (ESM), ce qui permet de charger un script de secours pour ces navigateurs.<li><code>nonce</code> : une chaîne de caractères. Un <a href="https://developer.mozilla.org/fr/docs/Web/HTML/Global_attributes/nonce">nonce cryptographique autorisant la ressource</a> dans le cadre d'une Politique de Sécurité de Contenu (CSP) stricte.<li><code>referrer</code> : une chaîne de caractères. Indique <a href="https://developer.mozilla.org/docs/Web/HTML/Element/script#referrerpolicy">l'en-tête Referer à envoyer</a> lors du chargement du script et de toutes ressources que le script chargerait à son tour.<li><code>type</code> : une chaîne de caractères. Indique si le script est un <a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/script/type">script classique, un module ES ou une <em>import map</em></a>.</ul><p>Ces props désactivement le <a href="#special-rendering-behavior">traitement spécial des scripts</a> de React :<ul><li><code>onError</code> : une fonction. Appelée lorsque le chargement du script échoue.<li><code>onLoad</code> : une fonction. Appelée lorsque le chargement du script est terminé.</ul><p>Ces props sont <strong>déconseillées</strong> pour une utilisation avec React :<ul><li><code>blocking</code> : une chaîne de caractères. Si elle vaut <code>"render"</code>, le navigateur attendra pour afficher la page que le script ait fini son chargement. React permet un contrôle plus granulaire grâce à Suspense.<li><code>defer</code> : une chaîne de caractères. Empêche le navigateur d'exécuter le script tant que le chargement du document n'est pas terminé. Ce fonctionnement est incompatible avec le streaming de Composants Serveur : préférez la prop <code>async</code>.</ul></section><section class="level4"aria-labelledby="comportement-spécifique-de-rendu-special-rendering-behavior"><h4 id="comportement-spécifique-de-rendu-special-rendering-behavior">Comportement spécifique de rendu {/<em>special-rendering-behavior</em>/}</h4><p>React peut déplacer les composants <code>&#x3C;script></code> dans le <code>&#x3C;head></code> du document et dédoublonner les scripts identiques.<p>Pour activer ces comportements, fournissez les props <code>src</code> et <code>async={true}</code>. React dédoublonnera les scripts qui ont le même <code>src</code>. La prop <code>async</code> doit être active pour permettre aux scripts d'être déplacés sans risque.<p>Ce comportement a deux limitations :<ul><li>React ignorera les changements à ces props après le rendu du script. (React produira un avertissement en développement si ce cas survient.)<li>React est susceptible de laisser le script dans le DOM même après le démontage du composant qui l'a produit. (Ça n'a toutefois aucun impact dans la mesure où les scripts ne sont exécutés qu'une fois : au moment de leur insertion dans le DOM.)</ul></section></section></section><section class="level2"aria-labelledby="utilisation-usage"><h2 id="utilisation-usage">Utilisation {/<em>usage</em>/}</h2><section class="level3"aria-labelledby="exécuter-un-script-extérieur-rendering-an-external-script"><h3 id="exécuter-un-script-extérieur-rendering-an-external-script">Exécuter un script extérieur {/<em>rendering-an-external-script</em>/}</h3><p>Si un composant dépend de certains scripts pour pouvoir fonctionner correctement, vous pouvez utiliser <code>&#x3C;script></code> au sein de ce composant. Cependant, le composant pourrait finaliser son commit avant que le script ait terminé son chargement. Vous pouvez démarrer un traitement une fois le script chargé en écoutant son événement <code>load</code>, par exemple au moyen de sa prop <code>onLoad</code>.<p>React dédoublonnera les scripts ayant le même <code>src</code>, et n'insèrera que l'un d'entre eux dans le DOM même si plusieurs composants utilisent ce script.</p><sandpackwithhtmloutput><pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">ShowRenderedHTML</span></span> <span class="token keyword module">from</span> <span class="token string">'./ShowRenderedHTML.js'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token known-class-name class-name">Map</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>lat<span class="token punctuation">,</span> long<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span>script <span class="token keyword">async</span> src<span class="token operator">=</span><span class="token string">"map-api.js"</span> onLoad<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'script loaded'</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span>div id<span class="token operator">=</span><span class="token string">"map"</span> data<span class="token operator">-</span>lat<span class="token operator">=</span><span class="token punctuation">{</span>lat<span class="token punctuation">}</span> data<span class="token operator">-</span>long<span class="token operator">=</span><span class="token punctuation">{</span>long<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Page</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span><span class="token maybe-class-name">ShowRenderedHTML</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token known-class-name class-name">Map</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token maybe-class-name">ShowRenderedHTML</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></sandpackwithhtmloutput><note><p>Lorsque vous souhaitez utiliser un script, il peut être avantageux d'appeler la fonction <a href="/reference/react-dom/preinit"><code>preinit</code></a>. Un tel appel suggère au navigateur de commencer à charger le script plus tôt que lorsque vous vous contentez d'utiliser le composant <code>&#x3C;script></code>, par exemple en utilisant une <a href="https://developer.mozilla.org/docs/Web/HTTP/Status/103">réponse HTTP Early Hints</a>.</p></note></section><section class="level3"aria-labelledby="exécuter-un-script-défini-à-la-volée-rendering-an-inline-script"><h3 id="exécuter-un-script-défini-à-la-volée-rendering-an-inline-script">Exécuter un script défini à la volée {/<em>rendering-an-inline-script</em>/}</h3><p>Pour exécuter un script défini à la volée, utilisez le composant <code>&#x3C;script></code> avec le code source à l'intérieur. Les scripts définis à la volée ne sont pas dédoublonnés ou déplacés dans le <code>&#x3C;head></code> du document.</p><sandpackwithhtmloutput><pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">ShowRenderedHTML</span></span> <span class="token keyword module">from</span> <span class="token string">'./ShowRenderedHTML.js'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Tracking</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span>script<span class="token operator">></span>
      <span class="token function">ga</span><span class="token punctuation">(</span><span class="token string">'send'</span><span class="token punctuation">,</span> <span class="token string">'pageview'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>script<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Page</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span><span class="token maybe-class-name">ShowRenderedHTML</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span>h1<span class="token operator">></span><span class="token maybe-class-name">Mon</span> site web<span class="token operator">&#x3C;</span><span class="token operator">/</span>h1<span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">Tracking</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span>p<span class="token operator">></span><span class="token maybe-class-name">Bienvenue</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>p<span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token maybe-class-name">ShowRenderedHTML</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></sandpackwithhtmloutput><span style="float:footnote"><a href="../../../index.html#toc">Go to TOC</a></span></section></section></inlinetoc>