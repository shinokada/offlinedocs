<!doctype html><html lang="fr"><meta charset="utf-8"><title>prefetchDNS</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"type="text/css"href="../../../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="prefetchdns"><h1 id="prefetchdns">prefetchDNS</h1><p>canary: true</p><canary><p>La fonction <code>prefetchDNS</code> n'est actuellement disponible que sur les canaux de livraison Canary et Expérimental de React. Apprenez-en davantage sur <a href="/community/versioning-policy#all-release-channels">les canaux de livraison React</a>.</p></canary><intro><p><code>prefetchDNS</code> vous permet de récupérer en avance l'IP d'un serveur depuis lequel vous avez l'intention de charger des ressources.<pre class="language-js"><code class="language-js"><span class="token function">prefetchDNS</span><span class="token punctuation">(</span><span class="token string">"https://example.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></intro><inlinetoc><section class="level2"aria-labelledby="référence-reference"><h2 id="référence-reference">Référence {/<em>reference</em>/}</h2><section class="level3"aria-labelledby="prefetchdnshref-prefetchdns"><h3 id="prefetchdnshref-prefetchdns"><code>prefetchDNS(href)</code> {/<em>prefetchdns</em>/}</h3><p>Pour récupérer l'adresse IP d'un hôte, appelez la fonction <code>prefetchDNS</code> de <code>react-dom</code>.<pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> prefetchDNS <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'react-dom'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">AppRoot</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">prefetchDNS</span><span class="token punctuation">(</span><span class="token string">"https://example.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre><p><a href="#usage">Voir d'autres exemples plus bas</a>.<p>La fonction <code>prefetchDNS</code> suggère au navigateur de récupérer l'adresse IP du serveur en question. Si le navigateur décide de le faire, ça accélèrera le chargement ultérieur de ressources depuis ce serveur.<section class="level4"aria-labelledby="paramètres-parameters"><h4 id="paramètres-parameters">Paramètres {/<em>parameters</em>/}</h4><ul><li><code>href</code> : une chaîne de caractères. L'URL du serveur auquel vous souhaiterez vous connecter.</ul></section><section class="level4"aria-labelledby="valeur-renvoyée-returns"><h4 id="valeur-renvoyée-returns">Valeur renvoyée {/<em>returns</em>/}</h4><p><code>prefetchDNS</code> ne renvoie rien.</section><section class="level4"aria-labelledby="limitations-caveats"><h4 id="limitations-caveats">Limitations {/<em>caveats</em>/}</h4><ul><li>Plusieurs appels à <code>prefetchDNS</code> vers le même serveur ont le même effet qu'un unique appel.<li>Côté client, vous pouvez appeler <code>prefetchDNS</code> n'importe où : lors du rendu d'un composant, dans un Effet, dans un gestionnaire d'événement, etc.<li>Lors d'un rendu côté serveur ou du rendu de Composants Serveur, <code>prefetchDNS</code> n'a d'effet que si vous l'appelez lors du rendu d'un composant ou dans une fonction asynchrone issue du rendu d'un composant. Tout autre appel sera ignoré.<li>Si vous connaissez à l'avance les ressources précises dont vous aurez besoin, vous pouvez appeler <a href="/reference/react-dom/#resource-preloading-apis">d'autres fonctions</a> plutôt que celle-ci, qui initieront directement le chargement des ressources.<li>Il n'y a aucun intérêt à récupérer l'IP du serveur qui sert la page web elle-même, car cette adresse est déjà connue lorsque la suggestion est reçue.<li>Comparée à <a href="/reference/react-dom/preconnect"><code>preconnect</code></a>, <code>prefetchDNS</code> est peut-être plus intéressante si vous anticipez des connexions à une grande quantité de domaines, auquel cas des préconnexions effectives ont un coût relatif trop élevé.</ul></section></section></section><section class="level2"aria-labelledby="utilisation-usage"><h2 id="utilisation-usage">Utilisation {/<em>usage</em>/}</h2><section class="level3"aria-labelledby="résolution-dns-anticipée-lors-du-rendu-prefetching-dns-when-rendering"><h3 id="résolution-dns-anticipée-lors-du-rendu-prefetching-dns-when-rendering">Résolution DNS anticipée lors du rendu {/<em>prefetching-dns-when-rendering</em>/}</h3><p>Appelez <code>prefetchDNS</code> lors du rendu d'un composant si vous savez que ses enfants auront besoin de charger des ressources extérieures depuis un hôte donné.<pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> prefetchDNS <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'react-dom'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">AppRoot</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">prefetchDNS</span><span class="token punctuation">(</span><span class="token string">"https://example.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">return</span> <span class="token spread operator">...</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></section><section class="level3"aria-labelledby="résolution-dns-anticipée-dans-un-gestionnaire-dévénement-prefetching-dns-in-an-event-handler"><h3 id="résolution-dns-anticipée-dans-un-gestionnaire-dévénement-prefetching-dns-in-an-event-handler">Résolution DNS anticipée dans un gestionnaire d'événement {/<em>prefetching-dns-in-an-event-handler</em>/}</h3><p>Appelez <code>prefetchDNS</code> depuis un gestionnaire d'événement avant de passer à une page ou un état qui auront besoin de ressources extérieures. Ça permet de déclencher le processus de connexion plus tôt que si vous l'appeliez au sein de la nouvelle page ou suite au nouvel état.<pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> prefetchDNS <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'react-dom'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">CallToAction</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token function-variable function">onClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">prefetchDNS</span><span class="token punctuation">(</span><span class="token string">'http://example.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">startWizard</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>onClick<span class="token punctuation">}</span><span class="token operator">></span><span class="token constant">D</span>émarrer l’assistant<span class="token operator">&#x3C;</span><span class="token operator">/</span>button<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p><span style="float:footnote"><a href="../../index.html#toc">Go to TOC</a></span></section></section></inlinetoc></section>