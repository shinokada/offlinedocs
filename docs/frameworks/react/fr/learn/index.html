<!doctype html><html lang="fr"><meta charset="utf-8"><title>Démarrage rapide</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"href="../../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="démarrage-rapide"><h1 id="démarrage-rapide">Démarrage rapide</h1><intro><p>Bienvenue dans la documentation React ! Dans cette page, vous allez découvrir les 80% de concepts React que vous utiliserez sans doute au quotidien.</p></intro><youwilllearn><ul><li>Comment créer et imbriquer des composants<li>Comment ajouter du balisage et des styles<li>Comment afficher des données<li>Comment faire un rendu conditionnel et traiter des listes<li>Comment réagir à des événements et mettre à jour l’affichage<li>Comment partager des données entre composants</ul></youwilllearn><section class="level2"aria-labelledby="créer-et-imbriquer-des-composants-components"><h2 id="créer-et-imbriquer-des-composants-components">Créer et imbriquer des composants {/<em>components</em>/}</h2><p>Les applis React sont constituées de <em>composants</em>. Un composant, c’est un bout d’UI (<em>User Interface</em>, donc interface utilisateur) avec son comportement et son apparence propres. Un composant peut être aussi petit qu’un bouton, ou aussi grand qu’une page entière.<p>Les composants React sont des fonctions JavaScript qui renvoient du balisage :<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">MyButton</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span>button<span class="token operator">></span><span class="token maybe-class-name">Je</span> suis un bouton<span class="token operator">&#x3C;</span><span class="token operator">/</span>button<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>À présent que vous avez déclaré <code>MyButton</code>, vous pouvez l’imbriquer dans un autre composant :<pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">MyApp</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span>div<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>h1<span class="token operator">></span><span class="token maybe-class-name">Bienvenue</span> dans mon appli<span class="token operator">&#x3C;</span><span class="token operator">/</span>h1<span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">MyButton</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>Remarquez que <code>&#x3C;MyButton /></code> commence par une majuscule. C’est comme ça que React sait qu’il s’agit d’un composant. Les noms de composants React doivent toujours démarrer par une majuscule, alors que les balises HTML doivent être en minuscules.<p>Voyons ce que ça donne :</p><sandpack><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">MyButton</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span>button<span class="token operator">></span>
      <span class="token maybe-class-name">Je</span> suis un bouton
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>button<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">MyApp</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span>div<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>h1<span class="token operator">></span><span class="token maybe-class-name">Bienvenue</span> dans mon appli<span class="token operator">&#x3C;</span><span class="token operator">/</span>h1<span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">MyButton</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></sandpack><p>Les mots-clés <code>export default</code> indiquent le composant principal du fichier. Si vous n’êtes pas habitué·e à certains éléments syntaxiques de JavaScript, le <a href="https://developer.mozilla.org/fr/docs/web/javascript/reference/statements/export">MDN</a> et <a href="https://fr.javascript.info/import-export">javascript.info</a> sont d’excellentes références.</section><section class="level2"aria-labelledby="écrire-du-balisage-avec-jsx-writing-markup-with-jsx"><h2 id="écrire-du-balisage-avec-jsx-writing-markup-with-jsx">Écrire du balisage avec JSX {/<em>writing-markup-with-jsx</em>/}</h2><p>La syntaxe de balisage que vous avez vue ci-avant s’appelle <em>JSX</em>. Elle n’est pas à proprement parler obligatoire, mais la plupart des projets React utilisent JSX par confort. Tous les <a href="/learn/installation">outils que nous recommandons pour le développement en local</a> prennent en charge JSX d’entrée de jeu.<p>JSX est plus exigeant que HTML. Vous devez fermer les balises telles que <code>&#x3C;br /></code>. Par ailleurs, votre composant ne peut pas renvoyer plusieurs balises JSX. Il vous faudrait les enrober dans un parent commun, tel qu’un <code>&#x3C;div>...&#x3C;/div></code> ou un fragment <code>&#x3C;>...&#x3C;/></code> vide :<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">AboutPage</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span>h1<span class="token operator">></span>À propos<span class="token operator">&#x3C;</span><span class="token operator">/</span>h1<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>p<span class="token operator">></span><span class="token maybe-class-name">Bien</span> le bonjour<span class="token punctuation">.</span><span class="token operator">&#x3C;</span>br <span class="token operator">/</span><span class="token operator">></span><span class="token maybe-class-name">Comment</span> ça va <span class="token operator">?</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>p<span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>Si vous avez beaucoup de HTML à migrer vers du JSX, vous pouvez vous aider d’un <a href="https://transform.tools/html-to-jsx">convertisseur en ligne</a>.</section><section class="level2"aria-labelledby="ajouter-des-styles-adding-styles"><h2 id="ajouter-des-styles-adding-styles">Ajouter des styles {/<em>adding-styles</em>/}</h2><p>Dans React, vous précisez une classe CSS avec <code>className</code>. Ça fonctionne exactement comme l’attribut <a href="https://developer.mozilla.org/fr/docs/Web/HTML/Global_attributes/class"><code>class</code></a> en HTML :<pre class="language-js"><code class="language-js"><span class="token operator">&#x3C;</span>img className<span class="token operator">=</span><span class="token string">"avatar"</span> <span class="token operator">/</span><span class="token operator">></span></code></pre><p>Ensuite vous écrivez vos règles CSS dans un fichier CSS distinct :<pre class="language-css"><code class="language-css"><span class="token comment">/* Dans votre CSS */</span>
<span class="token selector"><span class="token class">.avatar</span></span> <span class="token punctuation">{</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> <span class="token number">50</span><span class="token unit">%</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>React n’impose aucune façon particulière de fournir des fichiers CSS. Le cas le plus simple consiste à utiliser une balise <a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/link"><code>&#x3C;link></code></a> dans votre HTML. Si vous utilisez un outil de <em>build</em> ou un framework, consultez sa documentation pour apprendre comment ajouter un fichier CSS à votre projet.</section><section class="level2"aria-labelledby="afficher-des-données-displaying-data"><h2 id="afficher-des-données-displaying-data">Afficher des données {/<em>displaying-data</em>/}</h2><p>JSX vous permet de mettre du balisage dans du JavaScript. Les accolades servent à « ressortir » dans JavaScript afin d’injecter une variable ou expression dans votre code et de l’afficher à l’utilisateur. Par exemple, ce code affichera <code>user.name</code> :<pre class="language-js"><code class="language-js"><span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
  <span class="token operator">&#x3C;</span>h1<span class="token operator">></span>
    <span class="token punctuation">{</span>user<span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">}</span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span>h1<span class="token operator">></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Vous pouvez aussi « ressortir dans JavaScript » au sein d’attributs JSX, mais vous devrez utiliser des accolades <em>à la place</em> des guillemets. Par exemple, <code>className="avatar"</code> passe la chaîne <code>"avatar"</code> comme classe CSS, mais <code>src={user.imageUrl}</code> lit d’abord la valeur de l’expression JavaScript <code>user.imageUrl</code>, et ensuite passe cette valeur à l’attribut <code>src</code> :<pre class="language-js"><code class="language-js"><span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
  <span class="token operator">&#x3C;</span>img
    className<span class="token operator">=</span><span class="token string">"avatar"</span>
    src<span class="token operator">=</span><span class="token punctuation">{</span>user<span class="token punctuation">.</span><span class="token property-access">imageUrl</span><span class="token punctuation">}</span>
  <span class="token operator">/</span><span class="token operator">></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Vous pouvez utiliser des expressions plus complexes au sein des accolades JSX, par exemple de la <a href="https://fr.javascript.info/operators#concatenation-de-chaines-de-caracteres-binaire">concaténation de chaînes</a> :</p><sandpack><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Hedy Lamarr'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">imageUrl</span><span class="token operator">:</span> <span class="token string">'https://i.imgur.com/yXOvdOSs.jpg'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">imageSize</span><span class="token operator">:</span> <span class="token number">90</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Profile</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span>h1<span class="token operator">></span><span class="token punctuation">{</span>user<span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">}</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>h1<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>img
        className<span class="token operator">=</span><span class="token string">"avatar"</span>
        src<span class="token operator">=</span><span class="token punctuation">{</span>user<span class="token punctuation">.</span><span class="token property-access">imageUrl</span><span class="token punctuation">}</span>
        alt<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'Photo de '</span> <span class="token operator">+</span> user<span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">}</span>
        style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
          <span class="token literal-property property">width</span><span class="token operator">:</span> user<span class="token punctuation">.</span><span class="token property-access">imageSize</span><span class="token punctuation">,</span>
          <span class="token literal-property property">height</span><span class="token operator">:</span> user<span class="token punctuation">.</span><span class="token property-access">imageSize</span>
        <span class="token punctuation">}</span><span class="token punctuation">}</span>
      <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><pre class="language-css"><code class="language-css"><span class="token selector"><span class="token class">.avatar</span></span> <span class="token punctuation">{</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> <span class="token number">50</span><span class="token unit">%</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.large</span></span> <span class="token punctuation">{</span>
  <span class="token property">border</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token unit">px</span> solid <span class="token color">gold</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></sandpack><p>Dans l’exemple ci-avant, <code>style={{}}</code> ne constitue pas une syntaxe spéciale : c’est un littéral objet <code>{}</code> au sein d’accolades JSX <code>style={}</code>. Vous pouvez utiliser l’attribut <code>style</code> lorsque vos styles dépendent de données dans votre code JavaScript.</section><section class="level2"aria-labelledby="affichage-conditionnel-conditional-rendering"><h2 id="affichage-conditionnel-conditional-rendering">Affichage conditionnel {/<em>conditional-rendering</em>/}</h2><p>Dans React, il n’y a pas de syntaxe spéciale pour écrire des conditions. Au lieu de ça, on utilise les mêmes techniques que pour écrire du code JavaScript normal. Par exemple, vous pouvez utiliser une instruction <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Statements/if...else"><code>if</code></a> pour choisir quel bout de JSX inclure :<pre class="language-js"><code class="language-js"><span class="token keyword">let</span> content<span class="token punctuation">;</span>
<span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>isLoggedIn<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  content <span class="token operator">=</span> <span class="token operator">&#x3C;</span><span class="token maybe-class-name">AdminPanel</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword control-flow">else</span> <span class="token punctuation">{</span>
  content <span class="token operator">=</span> <span class="token operator">&#x3C;</span><span class="token maybe-class-name">LoginForm</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
  <span class="token operator">&#x3C;</span>div<span class="token operator">></span>
    <span class="token punctuation">{</span>content<span class="token punctuation">}</span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Si vous préférez un style plus compact, vous pouvez utiliser l’<a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Operators/Conditional_Operator">opérateur ternaire conditionnel <code>?</code></a>. Contrairement à <code>if</code>, celui-ci marche aussi au sein-même de JSX :<pre class="language-js"><code class="language-js"><span class="token operator">&#x3C;</span>div<span class="token operator">></span>
  <span class="token punctuation">{</span>isLoggedIn <span class="token operator">?</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span><span class="token maybe-class-name">AdminPanel</span> <span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span><span class="token maybe-class-name">LoginForm</span> <span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">&#x3C;</span><span class="token operator">/</span>div<span class="token operator">></span></code></pre><p>Si vous n’avez pas besoin de la branche <code>else</code>, vous pouvez utiliser l’<a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Operators/Logical_AND#short-circuit_evaluation">opérateur <code>&#x26;&#x26;</code> logique</a>, plus court :<pre class="language-js"><code class="language-js"><span class="token operator">&#x3C;</span>div<span class="token operator">></span>
  <span class="token punctuation">{</span>isLoggedIn <span class="token operator">&#x26;&#x26;</span> <span class="token operator">&#x3C;</span><span class="token maybe-class-name">AdminPanel</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">}</span>
<span class="token operator">&#x3C;</span><span class="token operator">/</span>div<span class="token operator">></span></code></pre><p>Toutes ces façons de faire fonctionnent aussi pour la définition conditionnelle d’attributs. Si certaines de ces syntaxes vous déroutent, vous pouvez toujours commencer par <code>if...else</code>.</section><section class="level2"aria-labelledby="afficher-des-listes-rendering-lists"><h2 id="afficher-des-listes-rendering-lists">Afficher des listes {/<em>rendering-lists</em>/}</h2><p>Pour afficher des listes de composants vous utiliserez principalement la <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/Array/map">méthode <code>map()</code> des tableaux</a>, et parfois des <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Statements/for">boucles <code>for</code></a>.<p>Par exemple, disons que vous avez un tableau de produits :<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> products <span class="token operator">=</span> <span class="token punctuation">[</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><p>Dans ce composant, on utilise la méthode <code>map()</code> pour transformer un tableau de produits en tableau d’éléments <code>&#x3C;li></code> :<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> listItems <span class="token operator">=</span> products<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token parameter">product</span> <span class="token arrow operator">=></span>
  <span class="token operator">&#x3C;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>product<span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">}</span><span class="token operator">></span>
    <span class="token punctuation">{</span>product<span class="token punctuation">.</span><span class="token property-access">title</span><span class="token punctuation">}</span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span>li<span class="token operator">></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
  <span class="token operator">&#x3C;</span>ul<span class="token operator">></span><span class="token punctuation">{</span>listItems<span class="token punctuation">}</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>ul<span class="token operator">></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Remarquez que <code>&#x3C;li></code> a un attribut <code>key</code>. Pour chaque élément d’une liste, vous devriez passer une chaîne de caractères ou un numéro qui l’identifie de façon unique au sein de cette liste. En général, cette clé vient de vos données, par exemple une clé primaire dans la base de données. React utilise ces clés pour comprendre la nature de vos changements : insertion, suppression ou réordonnancement des éléments.</p><sandpack><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> products <span class="token operator">=</span> <span class="token punctuation">[</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">ShoppingList</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> listItems <span class="token operator">=</span> products<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token parameter">product</span> <span class="token arrow operator">=></span>
    <span class="token operator">&#x3C;</span>li
      key<span class="token operator">=</span><span class="token punctuation">{</span>product<span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">}</span>
      style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
        <span class="token literal-property property">color</span><span class="token operator">:</span> product<span class="token punctuation">.</span><span class="token property-access">isFruit</span> <span class="token operator">?</span> <span class="token string">'magenta'</span> <span class="token operator">:</span> <span class="token string">'darkgreen'</span>
      <span class="token punctuation">}</span><span class="token punctuation">}</span>
    <span class="token operator">></span>
      <span class="token punctuation">{</span>product<span class="token punctuation">.</span><span class="token property-access">title</span><span class="token punctuation">}</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>li<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span>ul<span class="token operator">></span><span class="token punctuation">{</span>listItems<span class="token punctuation">}</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>ul<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></sandpack></section><section class="level2"aria-labelledby="réagir-à-des-événements-responding-to-events"><h2 id="réagir-à-des-événements-responding-to-events">Réagir à des événements {/<em>responding-to-events</em>/}</h2><p>Vous pouvez réagir à des événements en utilisant des <em>gestionnaires d’événements</em> dans vos composants :<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">MyButton</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Vous avez cliqué !'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>handleClick<span class="token punctuation">}</span><span class="token operator">></span>
      <span class="token maybe-class-name">Cliquez</span> ici
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>button<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>Remarquez que <code>onClick={handleClick}</code> n’a pas de parenthèses à la fin ! Prenez garde de ne pas <em>appeler</em> la fonction de gestion d’événement : vous avez seulement besoin de <em>la transmettre</em>. React appellera votre gestionnaire d’événement lorsque l’utilisateur activera le bouton.</section><section class="level2"aria-labelledby="mettre-à-jour-laffichage-updating-the-screen"><h2 id="mettre-à-jour-laffichage-updating-the-screen">Mettre à jour l’affichage {/<em>updating-the-screen</em>/}</h2><p>Le plus souvent, vous voudrez que votre composant « se souvienne » de certaines informations et les affiche. Par exemple, peut-être souhaitez-vous compter le nombre de fois qu’un bouton a été cliqué. Pour cela, il vous faut équiper votre composant d’un <em>état</em>.<p>Commencez par importer <a href="/reference/react/useState"><code>useState</code></a> depuis React :<pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> useState <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span></code></pre><p>Servez-vous-en pour déclarer une <em>variable d’état</em> dans votre composant :<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">MyButton</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span></code></pre><p>Un appel à <code>useState</code> vous renvoie deux choses : l’état courant (<code>count</code>), et une fonction pour le mettre à jour (<code>setCount</code>). Vous pouvez leur donner n’importe quels noms, mais la convention largement répandue consiste à écrire <code>[something, setSomething]</code>.<p>La première fois que le bouton est affiché, <code>count</code> est à <code>0</code> car vous avez passé <code>0</code> à <code>useState()</code>. Lorsque vous souhaitez modifier l’état, appelez <code>setCount()</code> et passez-lui la nouvelle valeur. Cliquer sur ce bouton incrémentera le compteur :<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">MyButton</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>handleClick<span class="token punctuation">}</span><span class="token operator">></span>
      <span class="token maybe-class-name">Cliqué</span> <span class="token punctuation">{</span>count<span class="token punctuation">}</span> fois
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>button<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>React appellera à nouveau la fonction de votre composant. Cette fois, <code>count</code> vaudra <code>1</code>. La fois suivante, ce sera <code>2</code>. Et ainsi de suite.<p>Si vous affichez le même composant plusieurs fois, chacun a son propre état. Cliquez les différents boutons séparément :</p><sandpack><pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> useState <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">MyApp</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span>div<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>h1<span class="token operator">></span><span class="token maybe-class-name">Des</span> compteurs indépendants<span class="token operator">&#x3C;</span><span class="token operator">/</span>h1<span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">MyButton</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">MyButton</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">MyButton</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>handleClick<span class="token punctuation">}</span><span class="token operator">></span>
      <span class="token maybe-class-name">Cliqué</span> <span class="token punctuation">{</span>count<span class="token punctuation">}</span> fois
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>button<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><pre class="language-css"><code class="language-css"><span class="token selector">button</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token unit">px</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></sandpack><p>Voyez comme chaque bouton « se souvient » de son propre état <code>count</code> et n’affecte pas les autres boutons.</section><section class="level2"aria-labelledby="utiliser-des-hooks-using-hooks"><h2 id="utiliser-des-hooks-using-hooks">Utiliser des Hooks {/<em>using-hooks</em>/}</h2><p>Les fonctions dont le nom commence par <code>use</code> sont appelées <em>Hooks</em>. <code>useState</code> est un Hook fourni directement par React. Vous pouvez trouver les autres Hooks fournis dans la <a href="/reference/react">référence de l’API</a>. Vous pouvez aussi créer vos propres Hooks en combinant ceux existants.<p>Les Hooks sont plus contraignants que les autres fonctions. Vous pouvez seulement appeler les Hooks <em>au début</em> du code vos composants (ou d’autres Hooks). Si vous voulez utiliser <code>useState</code> dans une condition ou une boucle, extrayez un composant dédié au besoin et mettez le Hook à l’intérieur.</section><section class="level2"aria-labelledby="partager-des-données-entre-composants-sharing-data-between-components"><h2 id="partager-des-données-entre-composants-sharing-data-between-components">Partager des données entre composants {/<em>sharing-data-between-components</em>/}</h2><p>Dans l’exemple précédent, chaque <code>MyButton</code> avait son propre <code>count</code> indépendant, et lorsqu’un bouton était cliqué, seul le <code>count</code> de ce bouton changeait :</p><diagramgroup><diagram name="sharing_data_child"height="{367}"width="{407}"alt="Diagramme montrant une arborescence de trois composants, un parent appelé MyApp et deux enfants appelés MyButton. Les deux composants MyButton ont un count de valeur zéro."><p>Au départ, l’état <code>count</code> de chaque <code>MyButton</code> est à <code>0</code></p></diagram><diagram name="sharing_data_child_clicked"height="{367}"width="{407}"alt="Le même diagramme que précédemment, avec le count du premier composant enfant MyButton mis en exergue pour indiquer qu’un clic l’a incrémenté à un. Le deuxième composant MyButton indique toujours une valeur de zéro."><p>Le premier <code>MyButton</code> met à jour son état <code>count</code> à <code>1</code></p></diagram></diagramgroup><p>Toutefois, vous aurez régulièrement besoin que vos composants <em>partagent des données et se mettent à jour de façon synchronisée</em>.<p>Afin que les deux composants <code>MyButton</code> affichent le même <code>count</code> et se mettent à jour ensemble, vous allez devoir déplacer l’état depuis les boutons individuels « vers le haut », vers le plus proche composant qui les contienne tous.<p>Dans cet exemple, il s’agit de <code>MyApp</code> :</p><diagramgroup><diagram name="sharing_data_parent"height="{385}"width="{410}"alt="Diagramme montrant une arborescence de trois composants, un parent appelé MyApp et deux enfants appelés MyButton. MyApp contient une valeur count de zéro, qui est transmise deux deux composants MyButton, lesquels affichent également zéro."><p>Au départ, l’état <code>count</code> de <code>MyApp</code> vaut <code>0</code>, qui est transmis aux deux enfants</p></diagram><diagram name="sharing_data_parent_clicked"height="{385}"width="{410}"alt="Le même diagramme que précédemment, avec le count du premier composant enfant MyApp mis en exergue pour indiquer qu’un clic l’a incrémenté à un. Le flux vers les deux enfants MyButton est mis en exergue aussi, et la valeur count de chaque enfant est à un, illustrant la transmission de la valeur vers le bas."><p>Au clic, <code>MyApp</code> met à jour son état <code>count</code> à <code>1</code>, et le transmet aux deux enfants</p></diagram></diagramgroup><p>À présent quand vous cliquez l’un ou l’autre bouton, le <code>count</code> de <code>MyApp</code> change, ce qui altère les deux compteurs dans <code>MyButton</code>. Voici comment exprimer la même chose sous forme de code.<p>Pour commencer, <em>faites remonter l’état</em> de <code>MyButton</code> vers <code>MyApp</code> :<pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">MyApp</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span>div<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>h1<span class="token operator">></span><span class="token maybe-class-name">Des</span> compteurs indépendants<span class="token operator">&#x3C;</span><span class="token operator">/</span>h1<span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">MyButton</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">MyButton</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">MyButton</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ... on a bougé ce code à partir d’ici ...</span>
<span class="token punctuation">}</span>
</code></pre><p>Ensuite, <em>transmettez l’état vers le bas</em> de <code>MyApp</code> à chaque <code>MyButton</code>, ainsi que le gestionnaire partagé de clics. Vous pouvez passer ces informations à <code>MyButton</code> au moyen d’accolades JSX, comme nous le faisions précédemment pour des balises natives comme <code>&#x3C;img></code> :<pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">MyApp</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span>div<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>h1<span class="token operator">></span><span class="token maybe-class-name">Des</span> compteurs synchronisés<span class="token operator">&#x3C;</span><span class="token operator">/</span>h1<span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">MyButton</span> count<span class="token operator">=</span><span class="token punctuation">{</span>count<span class="token punctuation">}</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span>handleClick<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">MyButton</span> count<span class="token operator">=</span><span class="token punctuation">{</span>count<span class="token punctuation">}</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span>handleClick<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>Les informations ainsi transmises vers le bas s’appellent des <em>props</em>. Désormais, le composant <code>MyApp</code> contient l’état <code>state</code> et le gestionnaire d’événement <code>handleClick</code>, et <em>passe ces deux informations comme props</em> à chacun des boutons.<p>Pour finir, modifiez <code>MyButton</code> pour <em>lire</em> les props que le composant parent lui a passées :<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">MyButton</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> count<span class="token punctuation">,</span> onClick <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>onClick<span class="token punctuation">}</span><span class="token operator">></span>
      <span class="token maybe-class-name">Cliqué</span> <span class="token punctuation">{</span>count<span class="token punctuation">}</span> fois
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>button<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>Lorsque vous cliquez un bouton, le gestionnaire <code>onClick</code> est déclenché. La prop <code>onClick</code> de chaque bouton utilise la fonction <code>handleClick</code> issue de <code>MyApp</code>, c’est donc ce code-là qui s’exécute. Le code appelle <code>setCount(count + 1)</code>, incrémentant la variable d’état <code>count</code>. La nouvelle valeur <code>count</code> est passée comme prop à chaque bouton, de sorte qu’ils affichent tous cette nouvelle valeur. C’est ce qu’on appelle « faire remonter l’état » <em>(“lifting state up”, NdT)</em>. En déplaçant l’état vers le haut, nos composants peuvent le partager.</p><sandpack><pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> useState <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">MyApp</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span>div<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>h1<span class="token operator">></span><span class="token maybe-class-name">Des</span> compteurs synchronisés<span class="token operator">&#x3C;</span><span class="token operator">/</span>h1<span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">MyButton</span> count<span class="token operator">=</span><span class="token punctuation">{</span>count<span class="token punctuation">}</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span>handleClick<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">MyButton</span> count<span class="token operator">=</span><span class="token punctuation">{</span>count<span class="token punctuation">}</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span>handleClick<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">MyButton</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> count<span class="token punctuation">,</span> onClick <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>onClick<span class="token punctuation">}</span><span class="token operator">></span>
      <span class="token maybe-class-name">Cliqué</span> <span class="token punctuation">{</span>count<span class="token punctuation">}</span> fois
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>button<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><pre class="language-css"><code class="language-css"><span class="token selector">button</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token unit">px</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></sandpack></section><section class="level2"aria-labelledby="et-maintenant-next-steps"><h2 id="et-maintenant-next-steps">Et maintenant ? {/<em>next-steps</em>/}</h2><p>Bravo, vous connaissez désormais les bas de l’écriture de code React !<p>Allez donc découvrir notre <a href="/learn/tutorial-tic-tac-toe">tutoriel</a> pour mettre tout ça en pratique et construire votre première petite appli avec React. <span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></section></section>