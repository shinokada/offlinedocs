<!doctype html><html lang="fr"><meta charset="utf-8"><title>Ajouter React à un projet existant</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"type="text/css"href="../../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="ajouter-react-à-un-projet-existant"><h1 id="ajouter-react-à-un-projet-existant">Ajouter React à un projet existant</h1><intro><p>Si vous souhaitez apporter de l'interactivité à votre projet existant, vous n'avez pas besoin de le réécrire entièrement en React. Ajoutez simplement React à votre pile technologique existante et affichez des composants React interactifs où vous le souhaitez.</p></intro><note><p><strong>Vous aurez besoin d'installer <a href="https://nodejs.org/fr/">Node.js</a> pour le développement local.</strong> Bien que vous puissiez <a href="/learn/installation#try-react">essayer React</a> en ligne ou avec une simple page HTML, la plupart des outils JavaScript que vous souhaiterez utiliser pour le développement nécessitent en pratique Node.js.</p></note><section class="level2"aria-labelledby="utiliser-react-pour-une-portion-entière-de-votre-site-web-existant-using-react-for-an-entire-subroute-of-your-existing-website"><h2 id="utiliser-react-pour-une-portion-entière-de-votre-site-web-existant-using-react-for-an-entire-subroute-of-your-existing-website">Utiliser React pour une portion entière de votre site web existant {/<em>using-react-for-an-entire-subroute-of-your-existing-website</em>/}</h2><p>Supposons que vous ayez une application web existante sur <code>example.com</code> développée avec une autre technologie côté serveur (comme Rails) et que vous souhaitiez implémenter toutes les routes commençant par <code>example.com/some-app/</code> entièrement avec React.<p>Voici comment nous vous recommandons de procéder :<ol><li><strong>Construisez la partie React de votre appli</strong> en utilisant l'un des <a href="/learn/start-a-new-react-project">frameworks basés sur React</a>.<li><strong>Indiquez <code>/some-app</code> comme <em>chemin de base</em></strong> dans la configuration de votre framework (voici comment faire avec <a href="https://nextjs.org/docs/api-reference/next.config.js/basepath">Next.js</a> ou <a href="https://www.gatsbyjs.com/docs/how-to/previews-deploys-hosting/path-prefix/">Gatsby</a>).<li><strong>Configurez votre serveur ou un proxy</strong> de manière à ce que toutes les requêtes sous <code>/some-app/</code> soient traitées par votre application React.</ol><p>Ça garantit que la partie React de votre application peut <a href="/learn/start-a-new-react-project#can-i-use-react-without-a-framework">bénéficier de tout un tas de bonnes pratiques</a> intégrées à ces frameworks.<p>De nombreux frameworks basés sur React sont des frameworks full-stack qui permettent à votre application React de tirer parti du serveur. Cependant, vous pouvez utiliser la même approche même si vous ne pouvez pas ou ne souhaitez pas exécuter JavaScript côté serveur. Dans ce cas, servez plutôt l'export HTML/CSS/JS (<a href="https://nextjs.org/docs/advanced-features/static-html-export"><code>next export</code></a> pour Next.js, résultat par défaut pour Gatsby) à l'emplacement <code>/some-app/</code>.</section><section class="level2"aria-labelledby="utiliser-react-pour-une-partie-de-votre-page-existante-using-react-for-a-part-of-your-existing-page"><h2 id="utiliser-react-pour-une-partie-de-votre-page-existante-using-react-for-a-part-of-your-existing-page">Utiliser React pour une partie de votre page existante {/<em>using-react-for-a-part-of-your-existing-page</em>/}</h2><p>Supposons que vous ayez une page existante construite avec une autre technologie (soit côté serveur, comme Rails ; soit côté client, comme Backbone), et que vous souhaitiez afficher des composants React interactifs à un endroit spécifique de cette page. C'est une façon courante d'intégrer React--en fait, c'est ainsi que la plupart des utilisations de React étaient mises en place chez Meta pendant de nombreuses années !<p>Vous pouvez le faire en deux étapes :<ol><li><strong>Mettez en place un environnement JavaScript</strong> qui vous permette d'utiliser la <a href="/learn/writing-markup-with-jsx">syntaxe JSX</a>, de diviser votre code en modules avec la syntaxe <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Statements/import"><code>import</code></a> / <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Statements/export"><code>export</code></a>, et d'utiliser des packages (par exemple, React) provenant du référentiel de modules <a href="https://www.npmjs.com/">npm</a>.<li><strong>Affichez vos composants React</strong> là où vous souhaitez les voir sur la page.</ol><p>L'approche exacte dépend de la configuration de votre page existante, nous allons donc passer en revue quelques détails.<section class="level3"aria-labelledby="étape-1--mettez-en-place-un-environnement-javascript-modulaire-step-1-set-up-a-modular-javascript-environment"><h3 id="étape-1--mettez-en-place-un-environnement-javascript-modulaire-step-1-set-up-a-modular-javascript-environment">Étape 1 : mettez en place un environnement JavaScript modulaire {/<em>step-1-set-up-a-modular-javascript-environment</em>/}</h3><p>Un environnement JavaScript modulaire vous permet d'écrire vos composants React dans des fichiers individuels, plutôt que d'écrire tout votre code dans un seul fichier. Il vous permet également d'utiliser tous les merveilleux modules publiés par d'autres personnes sur le référentiel <a href="https://www.npmjs.com/">npm</a>--y compris React lui-même ! La manière de procéder dépend de votre configuration existante :<ul><li><p><strong>Si votre application est déjà divisée en fichiers qui utilisent des déclarations <code>import</code></strong>, essayez d'utiliser la configuration que vous avez déjà. Vérifiez si l'écriture de <code>&#x3C;div /></code> dans votre code JS provoque une erreur de syntaxe. Si tel est le cas, vous devrez peut-être <a href="https://babeljs.io/setup">transformer votre code JavaScript avec Babel</a>, et activer le <a href="https://babeljs.io/docs/babel-preset-react">préréglage Babel React</a> pour utiliser JSX.<li><p><strong>Si votre application n'a pas de configuration existante pour la compilation des modules JavaScript</strong>, mettez-en une en place avec <a href="https://vitejs.dev/">Vite</a>. La communauté Vite propose de <a href="https://github.com/vitejs/awesome-vite#integrations-with-backends">nombreuses intégrations avec des frameworks backend</a>, notament Rails, Django et Laravel. Si votre framework backend ne figure pas dans leur liste, <a href="https://vitejs.dev/guide/backend-integration.html">suivez ce guide</a> pour intégrer manuellement les builds Vite à votre backend.</ul><p>Pour vérifier si votre configuration fonctionne, exécutez cette commande dans le dossier de votre projet :</p><terminalblock>npm install react react-dom</terminalblock><p>Ensuite, ajoutez ces lignes de code en haut de votre fichier JavaScript principal (il pourrait s'appeler <code>index.js</code> ou <code>main.js</code>) :</p><sandpack><pre class="language-html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&#x3C;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>html</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>title</span><span class="token punctuation">></span></span>Mon appli<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>title</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>body</span><span class="token punctuation">></span></span>
    <span class="token comment">&#x3C;!-- Le contenu actuel de votre page (dans cet exemple, il est remplacé) --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>html</span><span class="token punctuation">></span></span></code></pre><pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> createRoot <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'react-dom/client'</span><span class="token punctuation">;</span>

<span class="token comment">// Effacez le contenu HTML existant</span>
<span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token property-access">body</span><span class="token punctuation">.</span><span class="token property-access">innerHTML</span> <span class="token operator">=</span> <span class="token string">'&#x3C;div id="app">&#x3C;/div>'</span><span class="token punctuation">;</span>

<span class="token comment">// Affichez plutôt votre composant React</span>
<span class="token keyword">const</span> root <span class="token operator">=</span> <span class="token function">createRoot</span><span class="token punctuation">(</span><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'app'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
root<span class="token punctuation">.</span><span class="token method function property-access">render</span><span class="token punctuation">(</span><span class="token operator">&#x3C;</span>h1<span class="token operator">></span><span class="token maybe-class-name">Bonjour</span> tout le monde<span class="token operator">&#x3C;</span><span class="token operator">/</span>h1<span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></sandpack><p>Si tout le contenu de votre page a été remplacé par un « Bonjour tout le monde », ça signifie que tout fonctionne ! Continuez à lire.</p><note><p>Intégrer pour la première fois un environnement JavaScript modulaire dans un projet existant pour la première fois peut sembler intimidant, mais ça en vaut la peine ! Si vous êtes bloqué, essayez nos <a href="/community">ressources communautaires</a> ou discutez sur <a href="https://chat.vitejs.dev/">le forum Vite</a>.</p></note></section><section class="level3"aria-labelledby="étape-2--affichez-les-composants-react-nimporte-où-sur-la-page-step-2-render-react-components-anywhere-on-the-page"><h3 id="étape-2--affichez-les-composants-react-nimporte-où-sur-la-page-step-2-render-react-components-anywhere-on-the-page">Étape 2 : affichez les composants React n'importe où sur la page. {/<em>step-2-render-react-components-anywhere-on-the-page</em>/}</h3><p>Dans l'étape précédente, vous avez placé ce code en haut de votre fichier principal :<pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> createRoot <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'react-dom/client'</span><span class="token punctuation">;</span>

<span class="token comment">// Effacez le contenu HTML existant</span>
<span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token property-access">body</span><span class="token punctuation">.</span><span class="token property-access">innerHTML</span> <span class="token operator">=</span> <span class="token string">'&#x3C;div id="app">&#x3C;/div>'</span><span class="token punctuation">;</span>

<span class="token comment">// Affichez plutôt votre composant React</span>
<span class="token keyword">const</span> root <span class="token operator">=</span> <span class="token function">createRoot</span><span class="token punctuation">(</span><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'app'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
root<span class="token punctuation">.</span><span class="token method function property-access">render</span><span class="token punctuation">(</span><span class="token operator">&#x3C;</span>h1<span class="token operator">></span><span class="token maybe-class-name">Bonjour</span> tout le monde<span class="token operator">&#x3C;</span><span class="token operator">/</span>h1<span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Bien sûr, vous ne voulez pas réellement effacer le contenu HTML existant !<p>Supprimez ce code.<p>Vous souhaitez probablement plutôt afficher vos composants React à des emplacements spécifiques dans votre HTML. Ouvrez votre page HTML (ou les modèles côté serveur qui la génèrent) et ajoutez un attribut <a href="https://developer.mozilla.org/fr/docs/Web/HTML/Global_attributes/id"><code>id</code></a> unique à la balise de votre choix, par exemple :<pre class="language-html"><code class="language-html"><span class="token comment">&#x3C;!-- ... quelque part dans votre html ... --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>nav</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>navigation<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>nav</span><span class="token punctuation">></span></span>
<span class="token comment">&#x3C;!-- ... plus de html ... --></span></code></pre><p>Ça vous permettra de trouver cet élément HTML avec <a href="https://developer.mozilla.org/fr/docs/Web/API/Document/getElementById"><code>document.getElementById</code></a> et de le transmettre à <a href="/reference/react-dom/client/createRoot"><code>createRoot</code></a> afin de pouvoir afficher votre propre composant React à l'intérieur :</p><sandpack><pre class="language-html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&#x3C;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>html</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>title</span><span class="token punctuation">></span></span>Mon appli<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>title</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>p</span><span class="token punctuation">></span></span>Ce paragraphe fait partie du HTML.<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>p</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>nav</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>navigation<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>nav</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>p</span><span class="token punctuation">></span></span>Ce paragraphe fait également partie du HTML.<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>p</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>html</span><span class="token punctuation">></span></span></code></pre><pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> createRoot <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'react-dom/client'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">NavigationBar</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// TODO: Implémentez une véritable barre de navigation</span>
  <span class="token keyword control-flow">return</span> <span class="token operator">&#x3C;</span>h1<span class="token operator">></span><span class="token maybe-class-name">React</span> vous dit bonjour <span class="token operator">!</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>h1<span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> domNode <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'navigation'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> root <span class="token operator">=</span> <span class="token function">createRoot</span><span class="token punctuation">(</span>domNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
root<span class="token punctuation">.</span><span class="token method function property-access">render</span><span class="token punctuation">(</span><span class="token operator">&#x3C;</span><span class="token maybe-class-name">NavigationBar</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></sandpack><p>Voyez comment le contenu HTML d'origine de <code>index.html</code> est préservé, alors que votre propre composant React <code>NavigationBar</code> apparaît désormais à l'intérieur de la balise <code>&#x3C;nav id="navigation"></code> de votre HTML. Allez voir <a href="/reference/react-dom/client/createRoot#rendering-a-page-partially-built-with-react">la documentation sur l'utilisation de <code>createRoot</code></a> pour en savoir plus sur l'affichage des composants React à l'intérieur d'une page HTML existante.<p>Lorsque vous adoptez React dans un projet existant, il est courant de commencer par de petits composants interactifs (comme des boutons), puis de progressivement « monter en gamme » jusqu'à ce que finalement l'ensemble de votre page soit construit avec React. Si vous en arrivez là, nous vous recommandons de migrer vers <a href="/learn/start-a-new-react-project">un framework React</a> pour tirer le meilleur parti de React.</section></section><section class="level2"aria-labelledby="utiliser-react-native-dans-une-application-mobile-native-existante-using-react-native-in-an-existing-native-mobile-app"><h2 id="utiliser-react-native-dans-une-application-mobile-native-existante-using-react-native-in-an-existing-native-mobile-app">Utiliser React Native dans une application mobile native existante {/<em>using-react-native-in-an-existing-native-mobile-app</em>/}</h2><p><a href="https://reactnative.dev/">React Native</a> peut également être intégré progressivement dans des applis natives existantes. Si vous avez une appli native existante pour Android (Java ou Kotlin) ou iOS (Objective-C ou Swift), <a href="https://reactnative.dev/docs/integration-with-existing-apps">suivez ce guide</a> pour ajouter un écran React Native à celle-ci. <span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></section></section>