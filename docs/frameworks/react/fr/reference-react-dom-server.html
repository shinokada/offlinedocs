<!doctype html><html lang="fr"><meta charset="utf-8"><title>ReactDOMServer</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"href="../../../../../../../../docs/themes/packages/prism-coy-theme/theme_common.css"><section id="reactdomserver"class="level1"><h1>ReactDOMServer</h1><p>L’objet <code>ReactDOMServer</code> vous permet de produire sous forme de texte statique le balisage nécessaire à l’affichage de composants. En règle générale, on l’utilise avec un serveur Node :<pre class="language-js"><code class="language-js"><span class="token comment">// Modules ES</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">ReactDOMServer</span></span> <span class="token keyword module">from</span> <span class="token string">'react-dom/server'</span><span class="token punctuation">;</span>
<span class="token comment">// CommonJS</span>
<span class="token keyword">var</span> <span class="token maybe-class-name">ReactDOMServer</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'react-dom/server'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><section id="overview"class="level2"><h2>Aperçu</h2><p>Les méthodes suivantes peuvent être utilisées aussi bien dans des environnements navigateurs que serveurs :<ul><li><a href="#rendertostring"><code>renderToString()</code></a><li><a href="#rendertostaticmarkup"><code>renderToStaticMarkup()</code></a></ul><p>Les méthodes suivantes dépendent d’un module (<code>stream</code>) <strong>disponible uniquement côté serveur</strong>, elles ne fonctionneront donc pas dans un navigateur.<ul><li><a href="#rendertonodestream"><code>renderToNodeStream()</code></a><li><a href="#rendertostaticnodestream"><code>renderToStaticNodeStream()</code></a></ul><hr></section><section id="reference"class="level2"><h2>Référence de l'API</h2><section id="rendertostring-rendertostring"class="level3"><h3><code>renderToString()</code> {#rendertostring}</h3><pre class="language-javascript"><code class="language-javascript"><span class="token maybe-class-name">ReactDOMServer</span><span class="token punctuation">.</span><span class="token method function property-access">renderToString</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span></code></pre><p>Produit le HTML initial d’un élément React, sous forme d’une chaîne de caractères. Vous pouvez utiliser cette méthode pour générer du HTML côté serveur et le renvoyer en réponse à la requête initiale, afin d’accélérer le chargement des pages et de permettre aux moteurs de recherche d’analyser vos pages dans une optique de référencement naturel <em>(SEO, NdT)</em>.<p>Si vous appelez <a href="./react-dom.html#hydrate"><code>ReactDOM.hydrate()</code></a> sur un nœud dont le balisage a déjà été généré par le serveur, React le conservera et se contentera d’y attacher les gestionnaires d’événements, ce qui vous permettra d’avoir une expérience de chargement initial des plus performantes.<hr></section><section id="rendertostaticmarkup-rendertostaticmarkup"class="level3"><h3><code>renderToStaticMarkup()</code> {#rendertostaticmarkup}</h3><pre class="language-javascript"><code class="language-javascript"><span class="token maybe-class-name">ReactDOMServer</span><span class="token punctuation">.</span><span class="token method function property-access">renderToStaticMarkup</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span></code></pre><p>Similaire à <a href="#rendertostring"><code>renderToString</code></a>, si ce n’est qu’elle ne crée pas d’attributs supplémentaires utilisés par React en interne, tels que <code>data-reactroot</code>. Ça peut être pratique si vous souhaitez utiliser React comme simple générateur de pages statiques, car supprimer les attributs supplémentaires économise quelques octets.<p>N’utilisez pas cette méthode si vous envisagez d’utiliser React côté client pour rendre le contenu interactif. Préférez <a href="#rendertostring"><code>renderToString</code></a> côté serveur, et <a href="./react-dom.html#hydrate"><code>ReactDOM.hydrate()</code></a> côté client.<hr></section><section id="rendertonodestream-rendertonodestream"class="level3"><h3><code>renderToNodeStream()</code> {#rendertonodestream}</h3><pre class="language-javascript"><code class="language-javascript"><span class="token maybe-class-name">ReactDOMServer</span><span class="token punctuation">.</span><span class="token method function property-access">renderToNodeStream</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span></code></pre><p>Produit le HTML initial d’un élément React. Renvoie un <a href="https://nodejs.org/api/stream.html#stream_readable_streams">flux en lecture</a> (<code>Readable</code>) qui génère une chaîne de caractères HTML. La sortie HTML de ce flux est identique à ce que <a href="#rendertostring"><code>ReactDOMServer.renderToString</code></a> renverrait. Vous pouvez utiliser cette méthode pour générer du HTML côté serveur et le renvoyer en réponse à la requête initiale, afin d’accélérer le chargement des pages et de permettre aux moteurs de recherche d’analyser vos pages dans une optique de référencement naturel.<p>Si vous appelez <a href="./react-dom.html#hydrate"><code>ReactDOM.hydrate()</code></a> sur un nœud dont le balisage a déjà été généré par le serveur, React le conservera et se contentera d’y attacher les gestionnaires d’événements, ce qui vous permettra d’avoir une expérience de chargement initial des plus performantes.<blockquote><p>Remarque<p>Côté serveur uniquement. Cette API n’est pas disponible côté navigateur.<p>Le flux renvoyé par cette méthode est encodé en UTF-8. Si vous avez besoin d’un autre encodage, jetez un œil au projet <a href="https://www.npmjs.com/package/iconv-lite">iconv-lite</a>, qui fournit des flux de transformation pour le transcodage de texte.</blockquote><hr></section><section id="rendertostaticnodestream-rendertostaticnodestream"class="level3"><h3><code>renderToStaticNodeStream()</code> {#rendertostaticnodestream}</h3><pre class="language-javascript"><code class="language-javascript"><span class="token maybe-class-name">ReactDOMServer</span><span class="token punctuation">.</span><span class="token method function property-access">renderToStaticNodeStream</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span></code></pre><p>Similaire à <a href="#rendertonodestream"><code>renderToNodeStream</code></a>, si ce n’est qu’elle ne crée pas d’attributs supplémentaires utilisés par React en interne, tels que <code>data-reactroot</code>. Ça peut être pratique si vous souhaitez utiliser React comme simple générateur de pages statiques, car supprimer les attributs supplémentaires économise quelques octets.<p>La sortie HTML de ce flux est identique à ce que <a href="#rendertostaticmarkup"><code>ReactDOMServer.renderToStaticMarkup</code></a> renverrait.<p>N’utilisez pas cette méthode si vous envisagez d’utiliser React côté client pour rendre le contenu interactif. Préférez <a href="#rendertonodestream"><code>renderToNodeStream</code></a> côté serveur, et <a href="./react-dom.html#hydrate"><code>ReactDOM.hydrate()</code></a> côté client.<blockquote><p>Remarque<p>Côté serveur uniquement. Cette API n’est pas disponible côté navigateur.<p>Le flux renvoyé par cette méthode est encodé en UTF-8. Si vous avez besoin d’un autre encodage, jetez un œil au projet <a href="https://www.npmjs.com/package/iconv-lite">iconv-lite</a>, qui fournit des flux de transformation pour le transcodage de texte. <span style="float:footnote"><a href="./index.html#toc">Go to TOC</a></span></blockquote></section></section></section>