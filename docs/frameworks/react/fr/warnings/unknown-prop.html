<!doctype html><html lang="fr"><meta charset="utf-8"><title>Avertissement de prop inconnue</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"href="../../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="avertissement-de-prop-inconnue"><h1 id="avertissement-de-prop-inconnue">Avertissement de prop inconnue</h1><p>L'avertissement de prop inconnue est déclenché lorsque vous tentez d'afficher un élément DOM avec une prop que React ne reconnaît pas comme étant une propriété / un attribut DOM légal. Assurez-vous que vos éléments DOM n'ont pas des propriétés louches qui traînent.<p>Il y a quelques raisons courantes pour cet avertissement :<ol><li><p>Utilisez-vous <code>{...props}</code> ou <code>cloneElement(element, props)</code> ? Quand vous copiez des props vers un composant enfant, assurez-vous que vous ne transmettez pas accidentellement des props qui ne visaient que le composant parent. Vous trouverez des solutions usuelles plus bas.<li><p>Vous utilisez un attribut DOM non standard sur un nœud DOM natif, peut-être pour représenter des données personnalisées. Si vous tentez d'attacher des données personnalisées à un élément DOM standard, envisagez plutôt d'utiliser des attributs <code>data-*</code> comme le décrit le <a href="https://developer.mozilla.org/fr/docs/Learn/HTML/Howto/Use_data_attributes">MDN</a>.<li><p>React ne reconnaît pas encore l'attribut que vous avez spécifié. Ça sera probablement corrigé dans une future version de React. React vous autorisera à passer cet attribut sans avertissement si son nom est entièrement en minuscules.<li><p>Vous utilisez un composant React sans initiale majuscule, par exemple <code>&#x3C;myButton /></code>. React comprend ça comme une balise DOM native parce que JSX distingue entre les initiales majuscule et minuscule des balises pour choisir entre des composants à vous et des éléments DOM natifs. Pour vos propres composants React, utilisez la <em>PascalCase</em>. Écrivez par exemple <code>&#x3C;MyButton /></code> plutôt que <code>&#x3C;myButton /></code>.</ol><p>Si vous recevez cet avertissement parce que vous transmettez des props avec par exemple <code>{...props}</code>, votre composant parent doit d'abord « consommer » toute prop qui ne vise que lui, et non ses composants enfants. Voici un exemple :<p><strong>Erroné :</strong> une prop <code>layout</code> inattendue est transmise à la balise <code>div</code>.<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">MyDiv</span></span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>props<span class="token punctuation">.</span><span class="token property-access">layout</span> <span class="token operator">===</span> <span class="token string">'horizontal'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// PROBLÉMATIQUE ! Car on sait bien que &#x3C;div> n’a pas de propriété "layout".</span>
    <span class="token keyword control-flow">return</span> <span class="token operator">&#x3C;</span>div <span class="token punctuation">{</span><span class="token spread operator">...</span>props<span class="token punctuation">}</span> style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">getHorizontalStyle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">}</span> <span class="token keyword control-flow">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// PROBLÉMATIQUE ! Car on sait bien que &#x3C;div> n’a pas de propriété "layout".</span>
    <span class="token keyword control-flow">return</span> <span class="token operator">&#x3C;</span>div <span class="token punctuation">{</span><span class="token spread operator">...</span>props<span class="token punctuation">}</span> style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">getVerticalStyle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p><strong>Correct :</strong> vous pouvez utiliser la syntaxe de <em>rest nominatif</em> pour retirer certaines données des props à transférer, en plaçant les autres dans une variable.<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">MyDiv</span></span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> layout<span class="token punctuation">,</span> <span class="token spread operator">...</span>rest <span class="token punctuation">}</span> <span class="token operator">=</span> props
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>layout <span class="token operator">===</span> <span class="token string">'horizontal'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> <span class="token operator">&#x3C;</span>div <span class="token punctuation">{</span><span class="token spread operator">...</span>rest<span class="token punctuation">}</span> style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">getHorizontalStyle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">}</span> <span class="token keyword control-flow">else</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> <span class="token operator">&#x3C;</span>div <span class="token punctuation">{</span><span class="token spread operator">...</span>rest<span class="token punctuation">}</span> style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">getVerticalStyle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p><strong>Correct :</strong> vous pouvez aussi affecter les props à un nouvel objet et en retirer les clés que vous n'utilisez pas. Assurez-vous de ne pas retirer ces clés des props d'origine, car celles-ci sont considérées immuables.<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">MyDiv</span></span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> divProps <span class="token operator">=</span> <span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token method function property-access">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> props<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">delete</span> divProps<span class="token punctuation">.</span><span class="token property-access">layout</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>props<span class="token punctuation">.</span><span class="token property-access">layout</span> <span class="token operator">===</span> <span class="token string">'horizontal'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> <span class="token operator">&#x3C;</span>div <span class="token punctuation">{</span><span class="token spread operator">...</span>divProps<span class="token punctuation">}</span> style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">getHorizontalStyle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">}</span> <span class="token keyword control-flow">else</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> <span class="token operator">&#x3C;</span>div <span class="token punctuation">{</span><span class="token spread operator">...</span>divProps<span class="token punctuation">}</span> style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">getVerticalStyle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p><span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></section>