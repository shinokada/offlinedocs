<!doctype html><html lang="fr"><meta charset="utf-8"><title>Avertissement de dépréciation react-dom/test-utils</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"type="text/css"href="../../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="avertissement-de-dépréciation-react-domtest-utils"><h1 id="avertissement-de-dépréciation-react-domtest-utils">Avertissement de dépréciation react-dom/test-utils</h1><section class="level2"aria-labelledby="avertissement-sur-reactdomtestutilsact-reactdomtestutilsact-warning"><h2 id="avertissement-sur-reactdomtestutilsact-reactdomtestutilsact-warning">Avertissement sur ReactDOMTestUtils.act() {/<em>reactdomtestutilsact-warning</em>/}</h2><p>La fonction <code>act</code> de <code>react-dom/test-utils</code> est dépréciée au profit de la fonction <code>act</code> de <code>react</code>.<p>Avant :<pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> act <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'react-dom/test-utils'</span><span class="token punctuation">;</span></code></pre><p>Après :<pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> act <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span></code></pre></section><section class="level2"aria-labelledby="reste-des-api-reactdomtestutils-rest-of-reactdomtestutils-apis"><h2 id="reste-des-api-reactdomtestutils-rest-of-reactdomtestutils-apis">Reste des API ReactDOMTestUtils {/<em>rest-of-reactdomtestutils-apis</em>/}</h2><p>Toutes les API excepté <code>act</code> ont été retirées.<p>L'équipe React vous conseille de migrer vos tests vers <a href="https://testing-library.com/docs/react-testing-library/intro/">@testing-library/react</a> afin de profiter d'une expérience de test moderne et bien maintenue.<section class="level3"aria-labelledby="reactdomtestutilsrenderintodocument-reactdomtestutilsrenderintodocument"><h3 id="reactdomtestutilsrenderintodocument-reactdomtestutilsrenderintodocument">ReactDOMTestUtils.renderIntoDocument {/<em>reactdomtestutilsrenderintodocument</em>/}</h3><p><code>renderIntoDocument</code> peut être remplacée par la fonction <code>render</code> de <code>@testing-library/react</code>.<p>Avant :<pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> renderIntoDocument <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'react-dom/test-utils'</span><span class="token punctuation">;</span>

<span class="token function">renderIntoDocument</span><span class="token punctuation">(</span><span class="token operator">&#x3C;</span><span class="token maybe-class-name">Component</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Après :<pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> render <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@testing-library/react'</span><span class="token punctuation">;</span>

<span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&#x3C;</span><span class="token maybe-class-name">Component</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></section><section class="level3"aria-labelledby="reactdomtestutilssimulate-reactdomtestutilssimulate"><h3 id="reactdomtestutilssimulate-reactdomtestutilssimulate">ReactDOMTestUtils.Simulate {/<em>reactdomtestutilssimulate</em>/}</h3><p><code>Simulate</code> peut être remplacée par la fonction <code>fireEvent</code> de <code>@testing-library/react</code>.<p>Avant :<pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Simulate</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'react-dom/test-utils'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">querySelector</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token maybe-class-name">Simulate</span><span class="token punctuation">.</span><span class="token method function property-access">click</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Après :<pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> fireEvent <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@testing-library/react'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">querySelector</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fireEvent<span class="token punctuation">.</span><span class="token method function property-access">click</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Sachez toutefois que <code>fireEvent</code> déclenche un véritable événement sur l'élément, plutôt que d'appeler de façon synthétique le gestionnaire d'événement.</section><section class="level3"aria-labelledby="liste-des-api-retirées-list-of-all-removed-apis-list-of-all-removed-apis"><h3 id="liste-des-api-retirées-list-of-all-removed-apis-list-of-all-removed-apis">Liste des API retirées {/<em>list-of-all-removed-apis-list-of-all-removed-apis</em>/}</h3><ul><li><code>mockComponent()</code><li><code>isElement()</code><li><code>isElementOfType()</code><li><code>isDOMComponent()</code><li><code>isCompositeComponent()</code><li><code>isCompositeComponentWithType()</code><li><code>findAllInRenderedTree()</code><li><code>scryRenderedDOMComponentsWithClass()</code><li><code>findRenderedDOMComponentWithClass()</code><li><code>scryRenderedDOMComponentsWithTag()</code><li><code>findRenderedDOMComponentWithTag()</code><li><code>scryRenderedComponentsWithType()</code><li><code>findRenderedComponentWithType()</code><li><code>renderIntoDocument</code><li><code>Simulate</code> <span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></ul></section></section></section>