<!doctype html><html lang="ja"><meta charset="utf-8"><title>リファレンス {/reference/}</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"type="text/css"href="../../../../../../themes/packages/prism-coy-theme/theme_common.css"><p>style: "</p><style></style><canary></canary><p><p>React による <code>&#x3C;style></code> の機能拡張は、現在 React の Canary および experimental チャンネルでのみ利用可能です。React の安定版リリースでは、<code>&#x3C;style></code> は単なる<a href="https://react.dev/reference/react-dom/components#all-html-components">組み込みのブラウザ HTML コンポーネント</a>として機能します。<a href="/community/versioning-policy#all-release-channels">React のリリースチャンネルについてはこちらをご覧ください</a>。</p><intro><p><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/style">ブラウザ組み込みの <code>&#x3C;style></code> コンポーネント</a>を利用することで、ドキュメントにインラインの CSS スタイルシートを追加できます。<pre class="language-js"><code class="language-js"><span class="token operator">&#x3C;</span>style<span class="token operator">></span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> p { color: red; } </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>style<span class="token operator">></span></code></pre></intro><inlinetoc><section class="level2"aria-labelledby="リファレンス-reference"><h2 id="リファレンス-reference">リファレンス {/<em>reference</em>/}</h2><section class="level3"aria-labelledby="-style"><h3 id="-style"><code>&#x3C;style></code> {/<em>style</em>/}</h3><p>ドキュメントにインラインスタイルを追加するためには、<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/style">ブラウザ組み込みの <code>&#x3C;style></code> コンポーネント</a>をレンダーします。任意のコンポーネントから <code>&#x3C;style></code> をレンダーでき、React は<a href="#special-rendering-behavior">特定の場合</a>に対応する DOM 要素をドキュメントの head に配置し、同一のスタイルの重複解消処理を行います。<pre class="language-js"><code class="language-js"><span class="token operator">&#x3C;</span>style<span class="token operator">></span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> p { color: red; } </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>style<span class="token operator">></span></code></pre><p><a href="#usage">さらに例を見る</a><section class="level4"aria-labelledby="props-props"><h4 id="props-props">props {/<em>props</em>/}</h4><p><code>&#x3C;style></code> は、<a href="/reference/react-dom/components/common#props">一般的な要素の props</a> をすべてサポートしています。<ul><li><code>children</code>: 文字列、必須。スタイルシートの内容です。<li><code>precedence</code>: 文字列。React がドキュメントの <code>&#x3C;head></code> 内で <code>&#x3C;style></code> DOM ノードを他と比較してどのように順序付けるかを指定します。これによりどのスタイルシートが他を上書きできるかが決まります。React は、最初に見つけた優先順位の値を「低い」と見なし、後で見つけた優先順位の値を「高い」と見なします。多くのスタイルシステムは、スタイルルールがアトミックであるため、単一の優先順位の値を使用しても問題なく機能します。同じ優先順位を持つスタイルシートは、<code>&#x3C;link></code> の場合でもインライン <code>&#x3C;style></code> タグの場合でも、あるいは <a href="/reference/react-dom/preinit"><code>preinit</code></a> 関数を使用してロードされた場合でも、一緒に配置されます。<li><code>href</code>: 文字列。同じ <code>href</code> を持つスタイルに対して React が<a href="#special-rendering-behavior">重複解消処理</a>を行えるようにします。<li><code>media</code>: 文字列。スタイルシートの適用を特定の<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_media_queries/Using_media_queries">メディアクエリ</a>に制限します。<li><code>nonce</code>: 文字列。厳格なコンテンツセキュリティポリシーを使用する際に<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/nonce">リソースを許可するための暗号化 nonce</a>。<li><code>title</code>: 文字列。<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Alternative_style_sheets">代替スタイルシート</a>の名前を指定します。</ul><p>以下は React での使用が<strong>推奨されない</strong> props です。<ul><li><code>blocking</code>: 文字列。<code>"render"</code> と設定されている場合、スタイルシートがロードされるまでページを描画しないようブラウザに指示します。React ではサスペンスを通じてより細かい制御を提供します。</ul></section><section class="level4"aria-labelledby="特別なレンダー動作-special-rendering-behavior"><h4 id="特別なレンダー動作-special-rendering-behavior">特別なレンダー動作 {/<em>special-rendering-behavior</em>/}</h4><p>React は <code>&#x3C;style></code> コンポーネントをドキュメントの <code>&#x3C;head></code> に移動し、同一のスタイルシートの重複解消処理を行い、スタイルシートがロードされている間に<a href="/reference/react/Suspense">サスペンド</a>します。<p>この動作を有効にするには、props として <code>href</code> と <code>precedence</code> を指定してください。React は同じ <code>href</code> を持つスタイルの重複解消処理を行います。<code>precedence</code> はドキュメントの <code>&#x3C;head></code> 内における他の <code>&#x3C;style></code> DOM ノードとの相対ランクを React に指示することで、どのスタイルシートが他を上書きできるかを決定できるようにします。<p>この特別な動作に関して、以下の 2 つの注意点があります。<ul><li>スタイルがレンダーされた後、React は props に変更があってもそれを無視します（開発中にこれが起きた場合は React が警告を発します）。<li>コンポーネントがアンマウントされた後も、React は DOM にスタイルを残すことがあります。</ul></section></section></section><section class="level2"aria-labelledby="使用法-usage"><h2 id="使用法-usage">使用法 {/<em>usage</em>/}</h2><section class="level3"aria-labelledby="インライン-css-スタイルシートのレンダー-rendering-an-inline-css-stylesheet"><h3 id="インライン-css-スタイルシートのレンダー-rendering-an-inline-css-stylesheet">インライン CSS スタイルシートのレンダー {/<em>rendering-an-inline-css-stylesheet</em>/}</h3><p>コンポーネントが正しく表示されるために特定の CSS スタイルに依存している場合、インラインスタイルシートを当該コンポーネント内でレンダーできます。<p>props として <code>href</code> と <code>precedence</code> を指定すると、スタイルシートがロードされる間、コンポーネントはサスペンドします。（インラインスタイルシートであっても、スタイルシートが参照しているフォントや画像のためのロード時間が発生することがあります。）props である <code>href</code> は、このスタイルシートを一意に識別する必要があります。React は同じ <code>href</code> を持つスタイルシートに対して重複解消処理を行うからです。</p><sandpackwithhtmloutput><pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">ShowRenderedHTML</span></span> <span class="token keyword module">from</span> <span class="token string">'./ShowRenderedHTML.js'</span><span class="token punctuation">;</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> useId <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">PieChart</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>data<span class="token punctuation">,</span> colors<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> id <span class="token operator">=</span> <span class="token function">useId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> stylesheet <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">color<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span>
    <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">#</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> .color-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>index<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">: \{ color: "</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>color<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"; \}</span><span class="token template-punctuation string">`</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span>style href<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"PieChart-"</span> <span class="token operator">+</span> <span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">stringify</span><span class="token punctuation">(</span>colors<span class="token punctuation">)</span><span class="token punctuation">}</span> precedence<span class="token operator">=</span><span class="token string">"medium"</span><span class="token operator">></span>
        <span class="token punctuation">{</span>stylesheet<span class="token punctuation">}</span>
      <span class="token operator">&#x3C;</span><span class="token operator">/</span>style<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>svg id<span class="token operator">=</span><span class="token punctuation">{</span>id<span class="token punctuation">}</span><span class="token operator">></span>
        …
      <span class="token operator">&#x3C;</span><span class="token operator">/</span>svg<span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">App</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span><span class="token maybe-class-name">ShowRenderedHTML</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">PieChart</span> data<span class="token operator">=</span><span class="token string">"..."</span> colors<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">]</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token maybe-class-name">ShowRenderedHTML</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></sandpackwithhtmloutput><span style="float:footnote"><a href="../../../index.html#toc">Go to TOC</a></span></section></section></inlinetoc>