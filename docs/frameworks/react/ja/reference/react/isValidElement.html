<!doctype html><html lang="ja"><meta charset="utf-8"><title>isValidElement</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"type="text/css"href="../../../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="isvalidelement"><h1 id="isvalidelement">isValidElement</h1><intro><p><code>isValidElement</code> は値が React 要素 (React element) であるかどうかを判定します。<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> isElement <span class="token operator">=</span> <span class="token function">isValidElement</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span></code></pre></intro><inlinetoc><section class="level2"aria-labelledby="リファレンス-reference"><h2 id="リファレンス-reference">リファレンス {/<em>reference</em>/}</h2><section class="level3"aria-labelledby="isvalidelementvalue-isvalidelement"><h3 id="isvalidelementvalue-isvalidelement"><code>isValidElement(value)</code> {/<em>isvalidelement</em>/}</h3><p><code>isValidElement(value)</code> を呼び出して、<code>value</code> が React 要素であるかどうかを判定します。<pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> isValidElement<span class="token punctuation">,</span> createElement <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token comment">// ✅ React elements</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token function">isValidElement</span><span class="token punctuation">(</span><span class="token operator">&#x3C;</span>p <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token function">isValidElement</span><span class="token punctuation">(</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token comment">// ❌ Not React elements</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token function">isValidElement</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token function">isValidElement</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token function">isValidElement</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">42</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span></code></pre><p><a href="#usage">さらに例を見る</a><section class="level4"aria-labelledby="引数-parameters"><h4 id="引数-parameters">引数 {/<em>parameters</em>/}</h4><ul><li><code>value</code>: 判定対象の値。任意の型の値を指定できます。</ul></section><section class="level4"aria-labelledby="返り値-returns"><h4 id="返り値-returns">返り値 {/<em>returns</em>/}</h4><p><code>isValidElement</code> は <code>value</code> が React 要素であれば <code>true</code> を返します。それ以外の場合は <code>false</code> を返します。</section><section class="level4"aria-labelledby="注意点-caveats"><h4 id="注意点-caveats">注意点 {/<em>caveats</em>/}</h4><ul><li><strong>React 要素と見なされるのは、<a href="/learn/writing-markup-with-jsx">JSX タグ</a>と、<a href="/reference/react/createElement"><code>createElement</code></a> によって返されるオブジェクトだけです</strong>。例えば、<code>42</code> のような数値は有効な React <em>ノード (node)</em> ではあります（コンポーネントから返すことができるため）が、有効な React 要素ではありません。配列や、<a href="/reference/react-dom/createPortal"><code>createPortal</code></a> で作成されたポータルも、React 要素とは<em>見なされません</em>。</ul></section></section></section><section class="level2"aria-labelledby="使用法-usage"><h2 id="使用法-usage">使用法 {/<em>usage</em>/}</h2><section class="level3"aria-labelledby="値が-react-要素かどうかを判定する-checking-if-something-is-a-react-element"><h3 id="値が-react-要素かどうかを判定する-checking-if-something-is-a-react-element">値が React 要素かどうかを判定する {/<em>checking-if-something-is-a-react-element</em>/}</h3><p><code>isValidElement</code> を呼び出して、ある値が <em>React 要素</em>であるかどうかを判定します。<p>React 要素とは、以下のようなものです。<ul><li><a href="/learn/writing-markup-with-jsx">JSX タグ</a>を書くことによって生成される値<li><a href="/reference/react/createElement"><code>createElement</code></a> を呼び出すことによって生成される値</ul><p>React 要素に対しては、<code>isValidElement</code> は <code>true</code> を返します。<pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> isValidElement<span class="token punctuation">,</span> createElement <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token comment">// ✅ JSX tags are React elements</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token function">isValidElement</span><span class="token punctuation">(</span><span class="token operator">&#x3C;</span>p <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token function">isValidElement</span><span class="token punctuation">(</span><span class="token operator">&#x3C;</span><span class="token maybe-class-name">MyComponent</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token comment">// ✅ Values returned by createElement are React elements</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token function">isValidElement</span><span class="token punctuation">(</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token function">isValidElement</span><span class="token punctuation">(</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token maybe-class-name">MyComponent</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span></code></pre><p>文字列、数値、または任意のオブジェクトや配列などの他の値は、React 要素ではありません。<p>それらに対しては、<code>isValidElement</code> は <code>false</code> を返します。<pre class="language-js"><code class="language-js"><span class="token comment">// ❌ These are *not* React elements</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token function">isValidElement</span><span class="token punctuation">(</span><span class="token keyword null nil">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token function">isValidElement</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token function">isValidElement</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token function">isValidElement</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">42</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token function">isValidElement</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">&#x3C;</span>div <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span> <span class="token operator">&#x3C;</span>div <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token function">isValidElement</span><span class="token punctuation">(</span><span class="token maybe-class-name">MyComponent</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span></code></pre><p><code>isValidElement</code> が必要となることは非常に稀です。これが主に役立つのは、要素のみを受け入れる他の API（例えば <a href="/reference/react/cloneElement"><code>cloneElement</code></a> がそうです）を呼び出しており、引数が React 要素でないことによるエラーを避けたい場合です。<p><code>isValidElement</code> のチェックを追加するための特段の理由がない限り、おそらくこれは必要ありません。</p><deepdive><section class="level4"aria-labelledby="react要素と-reactノード-react-elements-vs-react-nodes"><h4 id="react要素と-reactノード-react-elements-vs-react-nodes">React「要素」と React「ノード」 {/<em>react-elements-vs-react-nodes</em>/}</h4><p>コンポーネントを書くとき、そこからは任意の <em>React ノード</em> を返すことができます。<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">MyComponent</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ... you can return any React node ...</span>
<span class="token punctuation">}</span></code></pre><p>React ノードとは、以下のようなものです。<ul><li><code>&#x3C;div /></code> や <code>createElement('div')</code> のようにして作成された React 要素<li><a href="/reference/react-dom/createPortal"><code>createPortal</code></a> で作成されたポータル<li>文字列<li>数値<li><code>true</code>, <code>false</code>, <code>null</code>, <code>undefined</code>（これらは表示されません）<li>他の React ノードの配列</ul><p><strong><code>isValidElement</code> は引数が <em>React 要素</em>であるかどうかを判定しますが、それが React ノードであるかどうかを判定するわけではありません</strong>。例えば、<code>42</code> は有効な React 要素ではありません。しかし、これは完全に有効な React ノードです。<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">MyComponent</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token number">42</span><span class="token punctuation">;</span> <span class="token comment">// It's ok to return a number from component</span>
<span class="token punctuation">}</span></code></pre><p>したがって、何かがレンダーできるかどうかをチェックする方法として、<code>isValidElement</code> を使うべきではありません。</p><span style="float:footnote"><a href="../../index.html#toc">Go to TOC</a></span></section></deepdive></section></section></inlinetoc></section>