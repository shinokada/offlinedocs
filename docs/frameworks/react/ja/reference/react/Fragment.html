<!doctype html><html lang="ja"><meta charset="utf-8"><title>&#x3C;Fragment> (&#x3C;>...&#x3C;/>)</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"href="../../../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="fragment-"><h1 id="fragment-"><fragment>(&#x3C;>...&#x3C;/>)</fragment></h1><intro><p><code>&#x3C;Fragment></code> を使うことで、ラッパ用のノードを用いずに要素をグループ化することができます。通常は <code>&#x3C;>...&#x3C;/></code> という構文で使用されます。<pre class="language-js"><code class="language-js"><span class="token operator">&#x3C;</span><span class="token operator">></span>
  <span class="token operator">&#x3C;</span><span class="token maybe-class-name">OneChild</span> <span class="token operator">/</span><span class="token operator">></span>
  <span class="token operator">&#x3C;</span><span class="token maybe-class-name">AnotherChild</span> <span class="token operator">/</span><span class="token operator">></span>
<span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token operator">></span></code></pre></intro><inlinetoc><section class="level2"aria-labelledby="リファレンス-reference"><h2 id="リファレンス-reference">リファレンス {/<em>reference</em>/}</h2><section class="level3"aria-labelledby="fragment-fragment"><h3 id="fragment-fragment"><code>&#x3C;Fragment></code> {/<em>fragment</em>/}</h3><p>単一の要素が必要な場面で、複数の要素を <code>&#x3C;Fragment></code> でラップすることでグループ化することができます。<code>Fragment</code> で要素をグループ化しても、出力される DOM には影響を与えません。要素がグループ化されていないときと同じです。空の JSX タグ <code>&#x3C;>&#x3C;/></code> は、ほとんどの場合 <code>&#x3C;Fragment>&#x3C;/Fragment></code> の省略記法です。<section class="level4"aria-labelledby="props-props"><h4 id="props-props">props {/<em>props</em>/}</h4><ul><li><strong>省略可能</strong> <code>key</code>: 明示的な <code>&#x3C;Fragment></code> 構文で宣言されたフラグメントは <a href="/learn/rendering-lists#keeping-list-items-in-order-with-key">key</a> を持つことができます。</ul></section><section class="level4"aria-labelledby="注意点-caveats"><h4 id="注意点-caveats">注意点 {/<em>caveats</em>/}</h4><ul><li><p><code>key</code> をフラグメントに渡したい場合は、<code>&#x3C;>...&#x3C;/></code> 構文を使用することはできません。<code>'react'</code> から <code>Fragment</code> を明示的にインポートし、<code>&#x3C;Fragment key={yourKey}>...&#x3C;/Fragment></code> とレンダーしなければなりません。<li><p>React は、<code>&#x3C;>&#x3C;Child />&#x3C;/></code> と <code>[&#x3C;Child />]</code> のレンダー間、あるいは <code>&#x3C;>&#x3C;Child />&#x3C;/></code> と <code>&#x3C;Child /></code> のレンダー間で行き来する場合に <a href="/learn/preserving-and-resetting-state">state をリセット</a>しません。これは単一レベルの深さのときのみの動作です。例えば、<code>&#x3C;>&#x3C;>&#x3C;Child />&#x3C;/>&#x3C;/></code> から <code>&#x3C;Child /></code> への変更では state がリセットされます。具体的な振る舞いの詳細は<a href="https://gist.github.com/clemmy/b3ef00f9507909429d8aa0d3ee4f986b">こちら</a>を参照してください。</ul></section></section></section><section class="level2"aria-labelledby="使用法-usage"><h2 id="使用法-usage">使用法 {/<em>usage</em>/}</h2><section class="level3"aria-labelledby="複数の要素を返す-returning-multiple-elements"><h3 id="複数の要素を返す-returning-multiple-elements">複数の要素を返す {/<em>returning-multiple-elements</em>/}</h3><p>複数の要素をグループ化するために <code>Fragment</code> や、それと同等の <code>&#x3C;>...&#x3C;/></code> 構文を使用することができます。これにより単一の要素が置ける場所であればどこにでも、複数の要素を配置することができるようになります。例えば、コンポーネントは 1 つの要素しか返すことができませんが、フラグメントを使用すれば複数の要素をまとめて、グループとして返せます。<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Post</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">PostTitle</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">PostBody</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>フラグメントが有用なのは、DOM 要素のような他のコンテナで要素をラップする場合と異なり、フラグメントで要素をグループ化してもレイアウトやスタイルに影響を与えないからです。以下の例をブラウザツールでインスペクト（inspect, 調査）してみると、全ての <code>&#x3C;h1></code> や <code>&#x3C;article></code> DOM ノードがラップされずに兄弟として表示されることがわかります。</p><sandpack><pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Blog</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">Post</span> title<span class="token operator">=</span><span class="token string">"An update"</span> body<span class="token operator">=</span><span class="token string">"It's been a while since I posted..."</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">Post</span> title<span class="token operator">=</span><span class="token string">"My new blog"</span> body<span class="token operator">=</span><span class="token string">"I am starting a new blog!"</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Post</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> title<span class="token punctuation">,</span> body <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">PostTitle</span> title<span class="token operator">=</span><span class="token punctuation">{</span>title<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">PostBody</span> body<span class="token operator">=</span><span class="token punctuation">{</span>body<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">PostTitle</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> title <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token operator">&#x3C;</span>h1<span class="token operator">></span><span class="token punctuation">{</span>title<span class="token punctuation">}</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>h1<span class="token operator">></span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">PostBody</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> body <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span>article<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>p<span class="token operator">></span><span class="token punctuation">{</span>body<span class="token punctuation">}</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>p<span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>article<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></sandpack><deepdive><section class="level4"aria-labelledby="特別な構文を使わずにフラグメントを記述する方法-how-to-write-a-fragment-without-the-special-syntax"><h4 id="特別な構文を使わずにフラグメントを記述する方法-how-to-write-a-fragment-without-the-special-syntax">特別な構文を使わずにフラグメントを記述する方法 {/<em>how-to-write-a-fragment-without-the-special-syntax</em>/}</h4><p>上述の例は、React から <code>Fragment</code> をインポートして以下のように書くことと同じです。<pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Fragment</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Post</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span><span class="token maybe-class-name">Fragment</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">PostTitle</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">PostBody</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token maybe-class-name">Fragment</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p><a href="#rendering-a-list-of-fragments"><code>Fragment</code> に <code>key</code> を渡す</a>場合以外では、通常必要ありません。</section></deepdive></section><section class="level3"aria-labelledby="複数の要素を変数に割り当てる-assigning-multiple-elements-to-a-variable"><h3 id="複数の要素を変数に割り当てる-assigning-multiple-elements-to-a-variable">複数の要素を変数に割り当てる {/<em>assigning-multiple-elements-to-a-variable</em>/}</h3><p>他の要素と同じように、フラグメントも要素として変数に割り当てたり、props として渡したりすることができます：<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">CloseDialog</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> buttons <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">OKButton</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">CancelButton</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span><span class="token maybe-class-name">AlertDialog</span> buttons<span class="token operator">=</span><span class="token punctuation">{</span>buttons<span class="token punctuation">}</span><span class="token operator">></span>
      <span class="token maybe-class-name">Are</span> you sure you want to leave <span class="token keyword">this</span> page<span class="token operator">?</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token maybe-class-name">AlertDialog</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></section><section class="level3"aria-labelledby="テキストと要素をグループ化する-grouping-elements-with-text"><h3 id="テキストと要素をグループ化する-grouping-elements-with-text">テキストと要素をグループ化する {/<em>grouping-elements-with-text</em>/}</h3><p><code>Fragment</code> を使うとテキストとコンポーネントをグループ化することができます：<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">DateRangePicker</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> start<span class="token punctuation">,</span> end <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span><span class="token operator">></span>
      <span class="token maybe-class-name">From</span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">DatePicker</span> date<span class="token operator">=</span><span class="token punctuation">{</span>start<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
      to
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">DatePicker</span> date<span class="token operator">=</span><span class="token punctuation">{</span>end<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></section><section class="level3"aria-labelledby="フラグメントのリストをレンダーする-rendering-a-list-of-fragments"><h3 id="フラグメントのリストをレンダーする-rendering-a-list-of-fragments">フラグメントのリストをレンダーする {/<em>rendering-a-list-of-fragments</em>/}</h3><p>こちらは <code>&#x3C;>&#x3C;/></code> 構文の代わりに <code>Fragment</code> を明示的に記述する必要がある場面です。ループ内で<a href="/learn/rendering-lists">複数の要素をレンダーする</a>ときには、各要素に <code>key</code> を割り当てる必要があります。ループ内の要素がフラグメントの場合は、<code>key</code> 属性を渡すために通常の JSX 要素の構文を使用する必要があります。<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Blog</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> posts<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token parameter">post</span> <span class="token arrow operator">=></span>
    <span class="token operator">&#x3C;</span><span class="token maybe-class-name">Fragment</span> key<span class="token operator">=</span><span class="token punctuation">{</span>post<span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">}</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">PostTitle</span> title<span class="token operator">=</span><span class="token punctuation">{</span>post<span class="token punctuation">.</span><span class="token property-access">title</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">PostBody</span> body<span class="token operator">=</span><span class="token punctuation">{</span>post<span class="token punctuation">.</span><span class="token property-access">body</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token maybe-class-name">Fragment</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>DOM をインスペクトすると、フラグメントの子要素のまわりにラッパ要素がないことを確認できます。</p><sandpack><pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Fragment</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> posts <span class="token operator">=</span> <span class="token punctuation">[</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Blog</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> posts<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token parameter">post</span> <span class="token arrow operator">=></span>
    <span class="token operator">&#x3C;</span><span class="token maybe-class-name">Fragment</span> key<span class="token operator">=</span><span class="token punctuation">{</span>post<span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">}</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">PostTitle</span> title<span class="token operator">=</span><span class="token punctuation">{</span>post<span class="token punctuation">.</span><span class="token property-access">title</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span><span class="token maybe-class-name">PostBody</span> body<span class="token operator">=</span><span class="token punctuation">{</span>post<span class="token punctuation">.</span><span class="token property-access">body</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token maybe-class-name">Fragment</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">PostTitle</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> title <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token operator">&#x3C;</span>h1<span class="token operator">></span><span class="token punctuation">{</span>title<span class="token punctuation">}</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>h1<span class="token operator">></span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">PostBody</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> body <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span>article<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>p<span class="token operator">></span><span class="token punctuation">{</span>body<span class="token punctuation">}</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>p<span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>article<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></sandpack><span style="float:footnote"><a href="../../index.html#toc">Go to TOC</a></span></section></section></inlinetoc></section>