<!doctype html><html lang="en"><meta charset="utf-8"><title>Run time</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"href="../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="run-time"><h1 id="run-time">Run time</h1><section class="level2"aria-labelledby="svelte"><h2 id="svelte"><code>svelte</code></h2><p>The <code>svelte</code> package exposes <a href="/tutorial/onmount">lifecycle functions</a> and the <a href="/tutorial/context-api">context API</a>.<section class="level3"aria-labelledby="onmount"><h3 id="onmount"><code>onMount</code></h3><pre class="language-js"><code class="language-js"><span class="token function">onMount</span><span class="token punctuation">(</span><span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token keyword">void</span><span class="token punctuation">)</span></code></pre><pre class="language-js"><code class="language-js"><span class="token function">onMount</span><span class="token punctuation">(</span><span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token keyword">void</span><span class="token punctuation">)</span></code></pre><p>The <code>onMount</code> function schedules a callback to run as soon as the component has been mounted to the DOM. It must be called during the component's initialisation (but doesn't need to live <em>inside</em> the component; it can be called from an external module).<p><code>onMount</code> does not run inside a <a href="04-run-time.html">server-side component</a>.<pre class="language-sv"><code class="language-sv">&#x3C;script>
	import { onMount } from 'svelte';

	onMount(() => {
		console.log('the component has mounted');
	});
&#x3C;/script></code></pre><p>If a function is returned from <code>onMount</code>, it will be called when the component is unmounted.<pre class="language-sv"><code class="language-sv">&#x3C;script>
	import { onMount } from 'svelte';

	onMount(() => {
		const interval = setInterval(() => {
			console.log('beep');
		}, 1000);

		return () => clearInterval(interval);
	});
&#x3C;/script></code></pre><blockquote><p>This behaviour will only work when the function passed to <code>onMount</code> <em>synchronously</em> returns a value. <code>async</code> functions always return a <code>Promise</code>, and as such cannot <em>synchronously</em> return a function.</blockquote></section><section class="level3"aria-labelledby="beforeupdate"><h3 id="beforeupdate"><code>beforeUpdate</code></h3><pre class="language-js"><code class="language-js"><span class="token function">beforeUpdate</span><span class="token punctuation">(</span><span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token keyword">void</span><span class="token punctuation">)</span></code></pre><p>Schedules a callback to run immediately before the component is updated after any state change.<blockquote><p>The first time the callback runs will be before the initial <code>onMount</code></blockquote><pre class="language-sv"><code class="language-sv">&#x3C;script>
	import { beforeUpdate } from 'svelte';

	beforeUpdate(() => {
		console.log('the component is about to update');
	});
&#x3C;/script></code></pre></section><section class="level3"aria-labelledby="afterupdate"><h3 id="afterupdate"><code>afterUpdate</code></h3><pre class="language-js"><code class="language-js"><span class="token function">afterUpdate</span><span class="token punctuation">(</span><span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token keyword">void</span><span class="token punctuation">)</span></code></pre><p>Schedules a callback to run immediately after the component has been updated.<blockquote><p>The first time the callback runs will be after the initial <code>onMount</code></blockquote><pre class="language-sv"><code class="language-sv">&#x3C;script>
	import { afterUpdate } from 'svelte';

	afterUpdate(() => {
		console.log('the component just updated');
	});
&#x3C;/script></code></pre></section><section class="level3"aria-labelledby="ondestroy"><h3 id="ondestroy"><code>onDestroy</code></h3><pre class="language-js"><code class="language-js"><span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token keyword">void</span><span class="token punctuation">)</span></code></pre><p>Schedules a callback to run immediately before the component is unmounted.<p>Out of <code>onMount</code>, <code>beforeUpdate</code>, <code>afterUpdate</code> and <code>onDestroy</code>, this is the only one that runs inside a server-side component.<pre class="language-sv"><code class="language-sv">&#x3C;script>
	import { onDestroy } from 'svelte';

	onDestroy(() => {
		console.log('the component is being destroyed');
	});
&#x3C;/script></code></pre></section><section class="level3"aria-labelledby="tick"><h3 id="tick"><code>tick</code></h3><pre class="language-js"><code class="language-js"><span class="token literal-property property">promise</span><span class="token operator">:</span> <span class="token known-class-name class-name">Promise</span> <span class="token operator">=</span> <span class="token function">tick</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>Returns a promise that resolves once any pending state changes have been applied, or in the next microtask if there are none.<pre class="language-sv"><code class="language-sv">&#x3C;script>
	import { beforeUpdate, tick } from 'svelte';

	beforeUpdate(async () => {
		console.log('the component is about to update');
		await tick();
		console.log('the component just updated');
	});
&#x3C;/script></code></pre></section><section class="level3"aria-labelledby="setcontext"><h3 id="setcontext"><code>setContext</code></h3><pre class="language-js"><code class="language-js"><span class="token function">setContext</span><span class="token punctuation">(</span>key<span class="token operator">:</span> any<span class="token punctuation">,</span> <span class="token literal-property property">context</span><span class="token operator">:</span> any<span class="token punctuation">)</span></code></pre><p>Associates an arbitrary <code>context</code> object with the current component and the specified <code>key</code> and returns that object. The context is then available to children of the component (including slotted content) with <code>getContext</code>.<p>Like lifecycle functions, this must be called during component initialisation.<pre class="language-sv"><code class="language-sv">&#x3C;script>
	import { setContext } from 'svelte';

	setContext('answer', 42);
&#x3C;/script></code></pre><blockquote><p>Context is not inherently reactive. If you need reactive values in context then you can pass a store into context, which <em>will</em> be reactive.</blockquote></section><section class="level3"aria-labelledby="getcontext"><h3 id="getcontext"><code>getContext</code></h3><pre class="language-js"><code class="language-js"><span class="token literal-property property">context</span><span class="token operator">:</span> any <span class="token operator">=</span> <span class="token function">getContext</span><span class="token punctuation">(</span>key<span class="token operator">:</span> any<span class="token punctuation">)</span></code></pre><p>Retrieves the context that belongs to the closest parent component with the specified <code>key</code>. Must be called during component initialisation.<pre class="language-sv"><code class="language-sv">&#x3C;script>
	import { getContext } from 'svelte';

	const answer = getContext('answer');
&#x3C;/script></code></pre></section><section class="level3"aria-labelledby="hascontext"><h3 id="hascontext"><code>hasContext</code></h3><pre class="language-js"><code class="language-js"><span class="token literal-property property">hasContext</span><span class="token operator">:</span> boolean <span class="token operator">=</span> <span class="token function">hasContext</span><span class="token punctuation">(</span>key<span class="token operator">:</span> any<span class="token punctuation">)</span></code></pre><p>Checks whether a given <code>key</code> has been set in the context of a parent component. Must be called during component initialisation.<pre class="language-sv"><code class="language-sv">&#x3C;script>
	import { hasContext } from 'svelte';

	if (hasContext('answer')) {
		// do something
	}
&#x3C;/script></code></pre></section><section class="level3"aria-labelledby="getallcontexts"><h3 id="getallcontexts"><code>getAllContexts</code></h3><pre class="language-js"><code class="language-js"><span class="token literal-property property">contexts</span><span class="token operator">:</span> <span class="token known-class-name class-name">Map</span><span class="token operator">&#x3C;</span>any<span class="token punctuation">,</span> any<span class="token operator">></span> <span class="token operator">=</span> <span class="token function">getAllContexts</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>Retrieves the whole context map that belongs to the closest parent component. Must be called during component initialisation. Useful, for example, if you programmatically create a component and want to pass the existing context to it.<pre class="language-sv"><code class="language-sv">&#x3C;script>
	import { getAllContexts } from 'svelte';

	const contexts = getAllContexts();
&#x3C;/script></code></pre></section><section class="level3"aria-labelledby="createeventdispatcher"><h3 id="createeventdispatcher"><code>createEventDispatcher</code></h3><pre class="language-js"><code class="language-js"><span class="token literal-property property">dispatch</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">name</span><span class="token operator">:</span> string<span class="token punctuation">,</span> detail<span class="token operator">?</span><span class="token operator">:</span> any<span class="token punctuation">,</span> options<span class="token operator">?</span><span class="token operator">:</span> <span class="token maybe-class-name">DispatchOptions</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> boolean<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">createEventDispatcher</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Creates an event dispatcher that can be used to dispatch <a href="03-template-syntax.html">component events</a>. Event dispatchers are functions that can take two arguments: <code>name</code> and <code>detail</code>.<p>Component events created with <code>createEventDispatcher</code> create a <a href="https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent">CustomEvent</a>. These events do not <a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#Event_bubbling_and_capture">bubble</a>. The <code>detail</code> argument corresponds to the <a href="https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/detail">CustomEvent.detail</a> property and can contain any type of data.<pre class="language-sv"><code class="language-sv">&#x3C;script>
	import { createEventDispatcher } from 'svelte';

	const dispatch = createEventDispatcher();
&#x3C;/script>

&#x3C;button on:click="{() => dispatch('notify', 'detail value')}">Fire Event&#x3C;/button></code></pre><p>Events dispatched from child components can be listened to in their parent. Any data provided when the event was dispatched is available on the <code>detail</code> property of the event object.<pre class="language-sv"><code class="language-sv">&#x3C;script>
	function callbackFunction(event) {
		console.log(`Notify fired! Detail: ${event.detail}`)
	}
&#x3C;/script>

&#x3C;Child on:notify="{callbackFunction}"/></code></pre><p>Events can be cancelable by passing a third parameter to the dispatch function. The function returns <code>false</code> if the event is cancelled with <code>event.preventDefault()</code>, otherwise it returns <code>true</code>.<pre class="language-sv"><code class="language-sv">&#x3C;script>
	import { createEventDispatcher } from 'svelte';

	const dispatch = createEventDispatcher();

	function notify() {
		const shouldContinue = dispatch('notify', 'detail value', { cancelable: true });
		if (shouldContinue) {
			// no one called preventDefault
		} else {
			// a listener called preventDefault
		}
	}
&#x3C;/script></code></pre></section></section><section class="level2"aria-labelledby="sveltestore"><h2 id="sveltestore"><code>svelte/store</code></h2><p>The <code>svelte/store</code> module exports functions for creating <a href="04-run-time.html">readable</a>, <a href="04-run-time.html">writable</a> and <a href="04-run-time.html">derived</a> stores.<p>Keep in mind that you don't <em>have</em> to use these functions to enjoy the <a href="02-component-format.html-script-4-prefix-stores-with-$-to-access-their-values">reactive <code>$store</code> syntax</a> in your components. Any object that correctly implements <code>.subscribe</code>, unsubscribe, and (optionally) <code>.set</code> is a valid store, and will work both with the special syntax, and with Svelte's built-in <a href="04-run-time.html"><code>derived</code> stores</a>.<p>This makes it possible to wrap almost any other reactive state handling library for use in Svelte. Read more about the <a href="02-component-format.html-script-4-prefix-stores-with-$-to-access-their-values-store-contract">store contract</a> to see what a correct implementation looks like.<section class="level3"aria-labelledby="writable"><h3 id="writable"><code>writable</code></h3><pre class="language-js"><code class="language-js">store <span class="token operator">=</span> <span class="token function">writable</span><span class="token punctuation">(</span>value<span class="token operator">?</span><span class="token operator">:</span> any<span class="token punctuation">)</span></code></pre><pre class="language-js"><code class="language-js">store <span class="token operator">=</span> <span class="token function">writable</span><span class="token punctuation">(</span>value<span class="token operator">?</span><span class="token operator">:</span> any<span class="token punctuation">,</span> start<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">value</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token keyword">void</span><span class="token punctuation">)</span></code></pre><p>Function that creates a store which has values that can be set from 'outside' components. It gets created as an object with additional <code>set</code> and <code>update</code> methods.<p><code>set</code> is a method that takes one argument which is the value to be set. The store value gets set to the value of the argument if the store value is not already equal to it.<p><code>update</code> is a method that takes one argument which is a callback. The callback takes the existing store value as its argument and returns the new value to be set to the store.<pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> writable <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'svelte/store'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">writable</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

count<span class="token punctuation">.</span><span class="token method function property-access">subscribe</span><span class="token punctuation">(</span><span class="token parameter">value</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
	<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logs '0'</span>

count<span class="token punctuation">.</span><span class="token method function property-access">set</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logs '1'</span>

count<span class="token punctuation">.</span><span class="token method function property-access">update</span><span class="token punctuation">(</span><span class="token parameter">n</span> <span class="token arrow operator">=></span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logs '2'</span></code></pre><p>If a function is passed as the second argument, it will be called when the number of subscribers goes from zero to one (but not from one to two, etc). That function will be passed a <code>set</code> function which changes the value of the store. It must return a <code>stop</code> function that is called when the subscriber count goes from one to zero.<pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> writable <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'svelte/store'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">writable</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
	<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'got a subscriber'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword control-flow">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'no more subscribers'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

count<span class="token punctuation">.</span><span class="token method function property-access">set</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// does nothing</span>

<span class="token keyword">const</span> unsubscribe <span class="token operator">=</span> count<span class="token punctuation">.</span><span class="token method function property-access">subscribe</span><span class="token punctuation">(</span><span class="token parameter">value</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
	<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logs 'got a subscriber', then '1'</span>

<span class="token function">unsubscribe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logs 'no more subscribers'</span></code></pre><p>Note that the value of a <code>writable</code> is lost when it is destroyed, for example when the page is refreshed. However, you can write your own logic to sync the value to for example the <code>localStorage</code>.</section><section class="level3"aria-labelledby="readable"><h3 id="readable"><code>readable</code></h3><pre class="language-js"><code class="language-js">store <span class="token operator">=</span> <span class="token function">readable</span><span class="token punctuation">(</span>value<span class="token operator">?</span><span class="token operator">:</span> any<span class="token punctuation">,</span> start<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">value</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token keyword">void</span><span class="token punctuation">)</span></code></pre><p>Creates a store whose value cannot be set from 'outside', the first argument is the store's initial value, and the second argument to <code>readable</code> is the same as the second argument to <code>writable</code>.<pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> readable <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'svelte/store'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> time <span class="token operator">=</span> <span class="token function">readable</span><span class="token punctuation">(</span><span class="token keyword null nil">null</span><span class="token punctuation">,</span> <span class="token parameter"><span class="token keyword">set</span></span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
	<span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">const</span> interval <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
		<span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword control-flow">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token function">clearInterval</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></section><section class="level3"aria-labelledby="derived"><h3 id="derived"><code>derived</code></h3><pre class="language-js"><code class="language-js">store <span class="token operator">=</span> <span class="token function">derived</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">a</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> any<span class="token punctuation">)</span></code></pre><pre class="language-js"><code class="language-js">store <span class="token operator">=</span> <span class="token function">derived</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> any<span class="token punctuation">,</span> <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">value</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token keyword">void</span> <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token keyword">void</span><span class="token punctuation">,</span> <span class="token literal-property property">initial_value</span><span class="token operator">:</span> any<span class="token punctuation">)</span></code></pre><pre class="language-js"><code class="language-js">store <span class="token operator">=</span> <span class="token function">derived</span><span class="token punctuation">(</span><span class="token punctuation">[</span>a<span class="token punctuation">,</span> <span class="token spread operator">...</span>b<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>a<span class="token operator">:</span> any<span class="token punctuation">,</span> <span class="token spread operator">...</span>b<span class="token operator">:</span> any<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> any<span class="token punctuation">)</span></code></pre><pre class="language-js"><code class="language-js">store <span class="token operator">=</span> <span class="token function">derived</span><span class="token punctuation">(</span><span class="token punctuation">[</span>a<span class="token punctuation">,</span> <span class="token spread operator">...</span>b<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">[</span>a<span class="token operator">:</span> any<span class="token punctuation">,</span> <span class="token spread operator">...</span>b<span class="token operator">:</span> any<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">value</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token keyword">void</span> <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token keyword">void</span><span class="token punctuation">,</span> <span class="token literal-property property">initial_value</span><span class="token operator">:</span> any<span class="token punctuation">)</span></code></pre><p>Derives a store from one or more other stores. The callback runs initially when the first subscriber subscribes and then whenever the store dependencies change.<p>In the simplest version, <code>derived</code> takes a single store, and the callback returns a derived value.<pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> derived <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'svelte/store'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> doubled <span class="token operator">=</span> <span class="token function">derived</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token parameter">$a</span> <span class="token arrow operator">=></span> $a <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>The callback can set a value asynchronously by accepting a second argument, <code>set</code>, and calling it when appropriate.<p>In this case, you can also pass a third argument to <code>derived</code> — the initial value of the derived store before <code>set</code> is first called.<pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> derived <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'svelte/store'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> delayed <span class="token operator">=</span> <span class="token function">derived</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">$a<span class="token punctuation">,</span> <span class="token keyword">set</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
	<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token function">set</span><span class="token punctuation">(</span>$a<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'one moment...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>If you return a function from the callback, it will be called when a) the callback runs again, or b) the last subscriber unsubscribes.<pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> derived <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'svelte/store'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> tick <span class="token operator">=</span> <span class="token function">derived</span><span class="token punctuation">(</span>frequency<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">$frequency<span class="token punctuation">,</span> <span class="token keyword">set</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> interval <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
	  <span class="token function">set</span><span class="token punctuation">(</span><span class="token known-class-name class-name">Date</span><span class="token punctuation">.</span><span class="token method function property-access">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span> <span class="token operator">/</span> $frequency<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword control-flow">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
		<span class="token function">clearInterval</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'one moment...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>In both cases, an array of arguments can be passed as the first argument instead of a single store.<pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> derived <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'svelte/store'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> summed <span class="token operator">=</span> <span class="token function">derived</span><span class="token punctuation">(</span><span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>$a<span class="token punctuation">,</span> $b<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> $a <span class="token operator">+</span> $b<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> delayed <span class="token operator">=</span> <span class="token function">derived</span><span class="token punctuation">(</span><span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>$a<span class="token punctuation">,</span> $b<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">set</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
	<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token function">set</span><span class="token punctuation">(</span>$a <span class="token operator">+</span> $b<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></section><section class="level3"aria-labelledby="get"><h3 id="get"><code>get</code></h3><pre class="language-js"><code class="language-js"><span class="token literal-property property">value</span><span class="token operator">:</span> any <span class="token operator">=</span> <span class="token function">get</span><span class="token punctuation">(</span>store<span class="token punctuation">)</span></code></pre><p>Generally, you should read the value of a store by subscribing to it and using the value as it changes over time. Occasionally, you may need to retrieve the value of a store to which you're not subscribed. <code>get</code> allows you to do so.<blockquote><p>This works by creating a subscription, reading the value, then unsubscribing. It's therefore not recommended in hot code paths.</blockquote><pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> get <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'svelte/store'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> value <span class="token operator">=</span> <span class="token function">get</span><span class="token punctuation">(</span>store<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></section><section class="level3"aria-labelledby="readonly"><h3 id="readonly"><code>readonly</code></h3><pre class="language-js"><code class="language-js">readableStore <span class="token operator">=</span> <span class="token function">readonly</span><span class="token punctuation">(</span>writableStore<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>This simple helper function makes a store readonly. You can still subscribe to the changes from the original one using this new readable store.<pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> readonly <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'svelte/store'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> writableStore <span class="token operator">=</span> <span class="token function">writable</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> readableStore <span class="token operator">=</span> <span class="token function">readonly</span><span class="token punctuation">(</span>writableStore<span class="token punctuation">)</span><span class="token punctuation">;</span>

readableStore<span class="token punctuation">.</span><span class="token method function property-access">subscribe</span><span class="token punctuation">(</span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token property-access">log</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

writableStore<span class="token punctuation">.</span><span class="token method function property-access">set</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// console: 2</span>
readableStore<span class="token punctuation">.</span><span class="token method function property-access">set</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ERROR</span></code></pre></section></section><section class="level2"aria-labelledby="sveltemotion"><h2 id="sveltemotion"><code>svelte/motion</code></h2><p>The <code>svelte/motion</code> module exports two functions, <code>tweened</code> and <code>spring</code>, for creating writable stores whose values change over time after <code>set</code> and <code>update</code>, rather than immediately.<section class="level3"aria-labelledby="tweened"><h3 id="tweened"><code>tweened</code></h3><pre class="language-js"><code class="language-js">store <span class="token operator">=</span> <span class="token function">tweened</span><span class="token punctuation">(</span>value<span class="token operator">:</span> any<span class="token punctuation">,</span> options<span class="token punctuation">)</span></code></pre><p>Tweened stores update their values over a fixed duration. The following options are available:<ul><li><code>delay</code> (<code>number</code>, default 0) — milliseconds before starting<li><code>duration</code> (<code>number</code> | <code>function</code>, default 400) — milliseconds the tween lasts<li><code>easing</code> (<code>function</code>, default <code>t => t</code>) — an <a href="04-run-time.html">easing function</a><li><code>interpolate</code> (<code>function</code>) — see below</ul><p><code>store.set</code> and <code>store.update</code> can accept a second <code>options</code> argument that will override the options passed in upon instantiation.<p>Both functions return a Promise that resolves when the tween completes. If the tween is interrupted, the promise will never resolve.<p>Out of the box, Svelte will interpolate between two numbers, two arrays or two objects (as long as the arrays and objects are the same 'shape', and their 'leaf' properties are also numbers).<pre class="language-sv"><code class="language-sv">&#x3C;script>
	import { tweened } from 'svelte/motion';
	import { cubicOut } from 'svelte/easing';

	const size = tweened(1, {
		duration: 300,
		easing: cubicOut
	});

	function handleClick() {
		// this is equivalent to size.update(n => n + 1)
		$size += 1;
	}
&#x3C;/script>

&#x3C;button
	on:click={handleClick}
	style="transform: scale({$size}); transform-origin: 0 0"
>embiggen&#x3C;/button></code></pre><p>If the initial value is <code>undefined</code> or <code>null</code>, the first value change will take effect immediately. This is useful when you have tweened values that are based on props, and don't want any motion when the component first renders.<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> size <span class="token operator">=</span> <span class="token function">tweened</span><span class="token punctuation">(</span><span class="token keyword nil">undefined</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span>
	<span class="token literal-property property">easing</span><span class="token operator">:</span> cubicOut
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token literal-property property">$</span><span class="token operator">:</span> $size <span class="token operator">=</span> big <span class="token operator">?</span> <span class="token number">100</span> <span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">;</span></code></pre><p>The <code>interpolate</code> option allows you to tween between <em>any</em> arbitrary values. It must be an <code>(a, b) => t => value</code> function, where <code>a</code> is the starting value, <code>b</code> is the target value, <code>t</code> is a number between 0 and 1, and <code>value</code> is the result. For example, we can use the <a href="https://github.com/d3/d3-interpolate">d3-interpolate</a> package to smoothly interpolate between two colours.<pre class="language-sv"><code class="language-sv">&#x3C;script>
	import { interpolateLab } from 'd3-interpolate';
	import { tweened } from 'svelte/motion';

	const colors = [
		'rgb(255, 62, 0)',
		'rgb(64, 179, 255)',
		'rgb(103, 103, 120)'
	];

	const color = tweened(colors[0], {
		duration: 800,
		interpolate: interpolateLab
	});
&#x3C;/script>

{#each colors as c}
	&#x3C;button
		style="background-color: {c}; color: white; border: none;"
		on:click="{e => color.set(c)}"
	>{c}&#x3C;/button>
{/each}

&#x3C;h1 style="color: {$color}">{$color}&#x3C;/h1></code></pre></section><section class="level3"aria-labelledby="spring"><h3 id="spring"><code>spring</code></h3><pre class="language-js"><code class="language-js">store <span class="token operator">=</span> <span class="token function">spring</span><span class="token punctuation">(</span>value<span class="token operator">:</span> any<span class="token punctuation">,</span> options<span class="token punctuation">)</span></code></pre><p>A <code>spring</code> store gradually changes to its target value based on its <code>stiffness</code> and <code>damping</code> parameters. Whereas <code>tweened</code> stores change their values over a fixed duration, <code>spring</code> stores change over a duration that is determined by their existing velocity, allowing for more natural-seeming motion in many situations. The following options are available:<ul><li><code>stiffness</code> (<code>number</code>, default <code>0.15</code>) — a value between 0 and 1 where higher means a 'tighter' spring<li><code>damping</code> (<code>number</code>, default <code>0.8</code>) — a value between 0 and 1 where lower means a 'springier' spring<li><code>precision</code> (<code>number</code>, default <code>0.01</code>) — determines the threshold at which the spring is considered to have 'settled', where lower means more precise</ul><p>All of the options above can be changed while the spring is in motion, and will take immediate effect.<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> size <span class="token operator">=</span> <span class="token function">spring</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
size<span class="token punctuation">.</span><span class="token property-access">stiffness</span> <span class="token operator">=</span> <span class="token number">0.3</span><span class="token punctuation">;</span>
size<span class="token punctuation">.</span><span class="token property-access">damping</span> <span class="token operator">=</span> <span class="token number">0.4</span><span class="token punctuation">;</span>
size<span class="token punctuation">.</span><span class="token property-access">precision</span> <span class="token operator">=</span> <span class="token number">0.005</span><span class="token punctuation">;</span></code></pre><p>As with <a href="04-run-time.html"><code>tweened</code></a> stores, <code>set</code> and <code>update</code> return a Promise that resolves if the spring settles.<p>Both <code>set</code> and <code>update</code> can take a second argument — an object with <code>hard</code> or <code>soft</code> properties. <code>{ hard: true }</code> sets the target value immediately; <code>{ soft: n }</code> preserves existing momentum for <code>n</code> seconds before settling. <code>{ soft: true }</code> is equivalent to <code>{ soft: 0.5 }</code>.<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> coords <span class="token operator">=</span> <span class="token function">spring</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">50</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// updates the value immediately</span>
coords<span class="token punctuation">.</span><span class="token method function property-access">set</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">200</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">hard</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// preserves existing momentum for 1s</span>
coords<span class="token punctuation">.</span><span class="token method function property-access">update</span><span class="token punctuation">(</span>
	<span class="token punctuation">(</span><span class="token parameter">target_coords<span class="token punctuation">,</span> coords</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
		<span class="token keyword control-flow">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> target_coords<span class="token punctuation">.</span><span class="token property-access">x</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> coords<span class="token punctuation">.</span><span class="token property-access">y</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">{</span> <span class="token literal-property property">soft</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><a href="/tutorial/spring">See a full example on the spring tutorial.</a><pre class="language-sv"><code class="language-sv">&#x3C;script>
	import { spring } from 'svelte/motion';

	const coords = spring({ x: 50, y: 50 }, {
		stiffness: 0.1,
		damping: 0.25
	});
&#x3C;/script></code></pre><p>If the initial value is <code>undefined</code> or <code>null</code>, the first value change will take effect immediately, just as with <code>tweened</code> values (see above).<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> size <span class="token operator">=</span> <span class="token function">spring</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token literal-property property">$</span><span class="token operator">:</span> $size <span class="token operator">=</span> big <span class="token operator">?</span> <span class="token number">100</span> <span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">;</span></code></pre></section></section><section class="level2"aria-labelledby="sveltetransition"><h2 id="sveltetransition"><code>svelte/transition</code></h2><p>The <code>svelte/transition</code> module exports seven functions: <code>fade</code>, <code>blur</code>, <code>fly</code>, <code>slide</code>, <code>scale</code>, <code>draw</code> and <code>crossfade</code>. They are for use with Svelte <a href="03-template-syntax.html"><code>transitions</code></a>.<section class="level3"aria-labelledby="fade"><h3 id="fade"><code>fade</code></h3><pre class="language-sv"><code class="language-sv">transition:fade={params}</code></pre><pre class="language-sv"><code class="language-sv">in:fade={params}</code></pre><pre class="language-sv"><code class="language-sv">out:fade={params}</code></pre><p>Animates the opacity of an element from 0 to the current opacity for <code>in</code> transitions and from the current opacity to 0 for <code>out</code> transitions.<p><code>fade</code> accepts the following parameters:<ul><li><code>delay</code> (<code>number</code>, default 0) — milliseconds before starting<li><code>duration</code> (<code>number</code>, default 400) — milliseconds the transition lasts<li><code>easing</code> (<code>function</code>, default <code>linear</code>) — an <a href="04-run-time.html">easing function</a></ul><p>You can see the <code>fade</code> transition in action in the <a href="/tutorial/transition">transition tutorial</a>.<pre class="language-sv"><code class="language-sv">&#x3C;script>
	import { fade } from 'svelte/transition';
&#x3C;/script>

{#if condition}
	&#x3C;div transition:fade="{{delay: 250, duration: 300}}">
		fades in and out
	&#x3C;/div>
{/if}</code></pre></section><section class="level3"aria-labelledby="blur"><h3 id="blur"><code>blur</code></h3><pre class="language-sv"><code class="language-sv">transition:blur={params}</code></pre><pre class="language-sv"><code class="language-sv">in:blur={params}</code></pre><pre class="language-sv"><code class="language-sv">out:blur={params}</code></pre><p>Animates a <code>blur</code> filter alongside an element's opacity.<p><code>blur</code> accepts the following parameters:<ul><li><code>delay</code> (<code>number</code>, default 0) — milliseconds before starting<li><code>duration</code> (<code>number</code>, default 400) — milliseconds the transition lasts<li><code>easing</code> (<code>function</code>, default <code>cubicInOut</code>) — an <a href="04-run-time.html">easing function</a><li><code>opacity</code> (<code>number</code>, default 0) - the opacity value to animate out to and in from<li><code>amount</code> (<code>number | string</code>, default 5) - the size of the blur. Supports css units (for example: <code>"4rem"</code>). The default unit is <code>px</code></ul><pre class="language-sv"><code class="language-sv">&#x3C;script>
	import { blur } from 'svelte/transition';
&#x3C;/script>

{#if condition}
	&#x3C;div transition:blur="{{amount: 10}}">
		fades in and out
	&#x3C;/div>
{/if}</code></pre></section><section class="level3"aria-labelledby="fly"><h3 id="fly"><code>fly</code></h3><pre class="language-sv"><code class="language-sv">transition:fly={params}</code></pre><pre class="language-sv"><code class="language-sv">in:fly={params}</code></pre><pre class="language-sv"><code class="language-sv">out:fly={params}</code></pre><p>Animates the x and y positions and the opacity of an element. <code>in</code> transitions animate from the provided values, passed as parameters to the element's default values. <code>out</code> transitions animate from the element's default values to the provided values.<p><code>fly</code> accepts the following parameters:<ul><li><code>delay</code> (<code>number</code>, default 0) — milliseconds before starting<li><code>duration</code> (<code>number</code>, default 400) — milliseconds the transition lasts<li><code>easing</code> (<code>function</code>, default <code>cubicOut</code>) — an <a href="04-run-time.html">easing function</a><li><code>x</code> (<code>number | string</code>, default 0) - the x offset to animate out to and in from<li><code>y</code> (<code>number | string</code>, default 0) - the y offset to animate out to and in from<li><code>opacity</code> (<code>number</code>, default 0) - the opacity value to animate out to and in from</ul><p>x and y use <code>px</code> by default but support css units, for example <code>x: '100vw'</code> or <code>y: '50%'</code>. You can see the <code>fly</code> transition in action in the <a href="/tutorial/adding-parameters-to-transitions">transition tutorial</a>.<pre class="language-sv"><code class="language-sv">&#x3C;script>
	import { fly } from 'svelte/transition';
	import { quintOut } from 'svelte/easing';
&#x3C;/script>

{#if condition}
	&#x3C;div transition:fly="{{delay: 250, duration: 300, x: 100, y: 500, opacity: 0.5, easing: quintOut}}">
		flies in and out
	&#x3C;/div>
{/if}</code></pre></section><section class="level3"aria-labelledby="slide"><h3 id="slide"><code>slide</code></h3><pre class="language-sv"><code class="language-sv">transition:slide={params}</code></pre><pre class="language-sv"><code class="language-sv">in:slide={params}</code></pre><pre class="language-sv"><code class="language-sv">out:slide={params}</code></pre><p>Slides an element in and out.<p><code>slide</code> accepts the following parameters:<ul><li><code>delay</code> (<code>number</code>, default 0) — milliseconds before starting<li><code>duration</code> (<code>number</code>, default 400) — milliseconds the transition lasts<li><code>easing</code> (<code>function</code>, default <code>cubicOut</code>) — an <a href="04-run-time.html">easing function</a></ul><ul><li><code>axis</code> (<code>x</code> | <code>y</code>, default <code>y</code>) — the axis of motion along which the transition occurs</ul><pre class="language-sv"><code class="language-sv">&#x3C;script>
	import { slide } from 'svelte/transition';
	import { quintOut } from 'svelte/easing';
&#x3C;/script>

{#if condition}
	&#x3C;div transition:slide="{{delay: 250, duration: 300, easing: quintOut, axis: 'x'}}">
		slides in and out horizontally
	&#x3C;/div>
{/if}</code></pre></section><section class="level3"aria-labelledby="scale"><h3 id="scale"><code>scale</code></h3><pre class="language-sv"><code class="language-sv">transition:scale={params}</code></pre><pre class="language-sv"><code class="language-sv">in:scale={params}</code></pre><pre class="language-sv"><code class="language-sv">out:scale={params}</code></pre><p>Animates the opacity and scale of an element. <code>in</code> transitions animate from an element's current (default) values to the provided values, passed as parameters. <code>out</code> transitions animate from the provided values to an element's default values.<p><code>scale</code> accepts the following parameters:<ul><li><code>delay</code> (<code>number</code>, default 0) — milliseconds before starting<li><code>duration</code> (<code>number</code>, default 400) — milliseconds the transition lasts<li><code>easing</code> (<code>function</code>, default <code>cubicOut</code>) — an <a href="04-run-time.html">easing function</a><li><code>start</code> (<code>number</code>, default 0) - the scale value to animate out to and in from<li><code>opacity</code> (<code>number</code>, default 0) - the opacity value to animate out to and in from</ul><pre class="language-sv"><code class="language-sv">&#x3C;script>
	import { scale } from 'svelte/transition';
	import { quintOut } from 'svelte/easing';
&#x3C;/script>

{#if condition}
	&#x3C;div transition:scale="{{duration: 500, delay: 500, opacity: 0.5, start: 0.5, easing: quintOut}}">
		scales in and out
	&#x3C;/div>
{/if}</code></pre></section><section class="level3"aria-labelledby="draw"><h3 id="draw"><code>draw</code></h3><pre class="language-sv"><code class="language-sv">transition:draw={params}</code></pre><pre class="language-sv"><code class="language-sv">in:draw={params}</code></pre><pre class="language-sv"><code class="language-sv">out:draw={params}</code></pre><p>Animates the stroke of an SVG element, like a snake in a tube. <code>in</code> transitions begin with the path invisible and draw the path to the screen over time. <code>out</code> transitions start in a visible state and gradually erase the path. <code>draw</code> only works with elements that have a <code>getTotalLength</code> method, like <code>&#x3C;path></code> and <code>&#x3C;polyline></code>.<p><code>draw</code> accepts the following parameters:<ul><li><code>delay</code> (<code>number</code>, default 0) — milliseconds before starting<li><code>speed</code> (<code>number</code>, default undefined) - the speed of the animation, see below.<li><code>duration</code> (<code>number</code> | <code>function</code>, default 800) — milliseconds the transition lasts<li><code>easing</code> (<code>function</code>, default <code>cubicInOut</code>) — an <a href="04-run-time.html">easing function</a></ul><p>The <code>speed</code> parameter is a means of setting the duration of the transition relative to the path's length. It is a modifier that is applied to the length of the path: <code>duration = length / speed</code>. A path that is 1000 pixels with a speed of 1 will have a duration of <code>1000ms</code>, setting the speed to <code>0.5</code> will double that duration and setting it to <code>2</code> will halve it.<pre class="language-sv"><code class="language-sv">&#x3C;script>
	import { draw } from 'svelte/transition';
	import { quintOut } from 'svelte/easing';
&#x3C;/script>

&#x3C;svg viewBox="0 0 5 5" xmlns="http://www.w3.org/2000/svg">
	{#if condition}
		&#x3C;path transition:draw="{{duration: 5000, delay: 500, easing: quintOut}}"
					d="M2 1 h1 v1 h1 v1 h-1 v1 h-1 v-1 h-1 v-1 h1 z"
					fill="none"
					stroke="cornflowerblue"
					stroke-width="0.1px"
					stroke-linejoin="round"
		/>
	{/if}
&#x3C;/svg>
</code></pre></section><section class="level3"aria-labelledby="crossfade"><h3 id="crossfade"><code>crossfade</code></h3><p>The <code>crossfade</code> function creates a pair of <a href="03-template-syntax.html">transitions</a> called <code>send</code> and <code>receive</code>. When an element is 'sent', it looks for a corresponding element being 'received', and generates a transition that transforms the element to its counterpart's position and fades it out. When an element is 'received', the reverse happens. If there is no counterpart, the <code>fallback</code> transition is used.<p><code>crossfade</code> accepts the following parameters:<ul><li><code>delay</code> (<code>number</code>, default 0) — milliseconds before starting<li><code>duration</code> (<code>number</code> | <code>function</code>, default 800) — milliseconds the transition lasts<li><code>easing</code> (<code>function</code>, default <code>cubicOut</code>) — an <a href="04-run-time.html">easing function</a><li><code>fallback</code> (<code>function</code>) — A fallback <a href="03-template-syntax.html">transition</a> to use for send when there is no matching element being received, and for receive when there is no element being sent.</ul><pre class="language-sv"><code class="language-sv">&#x3C;script>
	import { crossfade } from 'svelte/transition';
	import { quintOut } from 'svelte/easing';

	const [send, receive] = crossfade({
		duration:1500,
		easing: quintOut
	});
&#x3C;/script>

{#if condition}
	&#x3C;h1 in:send={{key}} out:receive={{key}}>BIG ELEM&#x3C;/h1>
{:else}
	&#x3C;small in:send={{key}} out:receive={{key}}>small elem&#x3C;/small>
{/if}</code></pre></section></section><section class="level2"aria-labelledby="svelteanimate"><h2 id="svelteanimate"><code>svelte/animate</code></h2><p>The <code>svelte/animate</code> module exports one function for use with Svelte <a href="/docs#template-syntax-element-directives-animate-fn">animations</a>.<section class="level3"aria-labelledby="flip"><h3 id="flip"><code>flip</code></h3><pre class="language-sv"><code class="language-sv">animate:flip={params}</code></pre><p>The <code>flip</code> function calculates the start and end position of an element and animates between them, translating the <code>x</code> and <code>y</code> values. <code>flip</code> stands for <a href="https://aerotwist.com/blog/flip-your-animations/">First, Last, Invert, Play</a>.<p><code>flip</code> accepts the following parameters:<ul><li><code>delay</code> (<code>number</code>, default 0) — milliseconds before starting<li><code>duration</code> (<code>number</code> | <code>function</code>, default <code>d => Math.sqrt(d) * 120</code>) — see below<li><code>easing</code> (<code>function</code>, default <code>cubicOut</code>) — an <a href="04-run-time.html">easing function</a></ul><p><code>duration</code> can be provided as either:<ul><li>a <code>number</code>, in milliseconds.<li>a function, <code>distance: number => duration: number</code>, receiving the distance the element will travel in pixels and returning the duration in milliseconds. This allows you to assign a duration that is relative to the distance travelled by each element.</ul><p>You can see a full example on the <a href="/tutorial/animate">animations tutorial</a><pre class="language-sv"><code class="language-sv">&#x3C;script>
	import { flip } from 'svelte/animate';
	import { quintOut } from 'svelte/easing';

	let list = [1, 2, 3];
&#x3C;/script>

{#each list as n (n)}
	&#x3C;div animate:flip="{{delay: 250, duration: 250, easing: quintOut}}">
		{n}
	&#x3C;/div>
{/each}</code></pre></section></section><section class="level2"aria-labelledby="svelteeasing"><h2 id="svelteeasing"><code>svelte/easing</code></h2><p>Easing functions specify the rate of change over time and are useful when working with Svelte's built-in transitions and animations as well as the tweened and spring utilities. <code>svelte/easing</code> contains 31 named exports, a <code>linear</code> ease and 3 variants of 10 different easing functions: <code>in</code>, <code>out</code> and <code>inOut</code>.<p>You can explore the various eases using the <a href="/examples/easing">ease visualiser</a> in the <a href="/examples">examples section</a>.<p>| ease | in | out | inOut | | | --- | --- | --- | | <strong>back</strong> | <code>backIn</code> | <code>backOut</code> | <code>backInOut</code> | | <strong>bounce</strong> | <code>bounceIn</code> | <code>bounceOut</code> | <code>bounceInOut</code> | | <strong>circ</strong> | <code>circIn</code> | <code>circOut</code> | <code>circInOut</code> | | <strong>cubic</strong> | <code>cubicIn</code> | <code>cubicOut</code> | <code>cubicInOut</code> | | <strong>elastic</strong> | <code>elasticIn</code> | <code>elasticOut</code> | <code>elasticInOut</code> | | <strong>expo</strong> | <code>expoIn</code> | <code>expoOut</code> | <code>expoInOut</code> | | <strong>quad</strong> | <code>quadIn</code> | <code>quadOut</code> | <code>quadInOut</code> | | <strong>quart</strong> | <code>quartIn</code> | <code>quartOut</code> | <code>quartInOut</code> | | <strong>quint</strong> | <code>quintIn</code> | <code>quintOut</code> | <code>quintInOut</code> | | <strong>sine</strong> | <code>sineIn</code> | <code>sineOut</code> | <code>sineInOut</code> |</section><section class="level2"aria-labelledby="svelteregister"><h2 id="svelteregister"><code>svelte/register</code></h2><p>To render Svelte components in Node.js without bundling, use <code>require('svelte/register')</code>. After that, you can use <code>require</code> to include any <code>.svelte</code> file.<pre class="language-js"><code class="language-js"><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'svelte/register'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token maybe-class-name">App</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./App.svelte'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword module">default</span><span class="token punctuation">;</span>

<span class="token spread operator">...</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> html<span class="token punctuation">,</span> css<span class="token punctuation">,</span> head <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token maybe-class-name">App</span><span class="token punctuation">.</span><span class="token method function property-access">render</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">answer</span><span class="token operator">:</span> <span class="token number">42</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><blockquote><p>The <code>.default</code> is necessary because we're converting from native JavaScript modules to the CommonJS modules recognised by Node. Note that if your component imports JavaScript modules, they will fail to load in Node and you will need to use a bundler instead.</blockquote><p>To set compile options, or to use a custom file extension, call the <code>register</code> hook as a function:<pre class="language-js"><code class="language-js"><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'svelte/register'</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">extensions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'.customextension'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// defaults to ['.html', '.svelte']</span>
	<span class="token literal-property property">preserveComments</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></section><section class="level2"aria-labelledby="client-side-component-api"><h2 id="client-side-component-api">Client-side component API</h2><section class="level3"aria-labelledby="creating-a-component"><h3 id="creating-a-component">Creating a component</h3><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> component <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Component</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span></code></pre><p>A client-side component — that is, a component compiled with <code>generate: 'dom'</code> (or the <code>generate</code> option left unspecified) is a JavaScript class.<pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">App</span></span> <span class="token keyword module">from</span> <span class="token string">'./App.svelte'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">App</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token property-access">body</span><span class="token punctuation">,</span>
	<span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token comment">// assuming App.svelte contains something like</span>
		<span class="token comment">// `export let answer`:</span>
		<span class="token literal-property property">answer</span><span class="token operator">:</span> <span class="token number">42</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>The following initialisation options can be provided:<p>| option | default | description | | | --- | --- | | <code>target</code> | <strong>none</strong> | An <code>HTMLElement</code> or <code>ShadowRoot</code> to render to. This option is required | <code>anchor</code> | <code>null</code> | A child of <code>target</code> to render the component immediately before | <code>props</code> | <code>{}</code> | An object of properties to supply to the component | <code>context</code> | <code>new Map()</code> | A <code>Map</code> of root-level context key-value pairs to supply to the component | <code>hydrate</code> | <code>false</code> | See below | <code>intro</code> | <code>false</code> | If <code>true</code>, will play transitions on initial render, rather than waiting for subsequent state changes<p>Existing children of <code>target</code> are left where they are.<p>The <code>hydrate</code> option instructs Svelte to upgrade existing DOM (usually from server-side rendering) rather than creating new elements. It will only work if the component was compiled with the <a href="05-compile-time.html"><code>hydratable: true</code> option</a>. Hydration of <code>&#x3C;head></code> elements only works properly if the server-side rendering code was also compiled with <code>hydratable: true</code>, which adds a marker to each element in the <code>&#x3C;head></code> so that the component knows which elements it's responsible for removing during hydration.<p>Whereas children of <code>target</code> are normally left alone, <code>hydrate: true</code> will cause any children to be removed. For that reason, the <code>anchor</code> option cannot be used alongside <code>hydrate: true</code>.<p>The existing DOM doesn't need to match the component — Svelte will 'repair' the DOM as it goes.<pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">App</span></span> <span class="token keyword module">from</span> <span class="token string">'./App.svelte'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">App</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">querySelector</span><span class="token punctuation">(</span><span class="token string">'#server-rendered-html'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token literal-property property">hydrate</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></section><section class="level3"aria-labelledby="set"><h3 id="set"><code>$set</code></h3><pre class="language-js"><code class="language-js">component<span class="token punctuation">.</span><span class="token method function property-access">$set</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span></code></pre><p>Programmatically sets props on an instance. <code>component.$set({ x: 1 })</code> is equivalent to <code>x = 1</code> inside the component's <code>&#x3C;script></code> block.<p>Calling this method schedules an update for the next microtask — the DOM is <em>not</em> updated synchronously.<pre class="language-js"><code class="language-js">component<span class="token punctuation">.</span><span class="token method function property-access">$set</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">answer</span><span class="token operator">:</span> <span class="token number">42</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></section><section class="level3"aria-labelledby="on"><h3 id="on"><code>$on</code></h3><pre class="language-js"><code class="language-js">component<span class="token punctuation">.</span><span class="token method function property-access">$on</span><span class="token punctuation">(</span>event<span class="token punctuation">,</span> callback<span class="token punctuation">)</span></code></pre><p>Causes the <code>callback</code> function to be called whenever the component dispatches an <code>event</code>.<p>A function is returned that will remove the event listener when called.<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> off <span class="token operator">=</span> app<span class="token punctuation">.</span><span class="token method function property-access">$on</span><span class="token punctuation">(</span><span class="token string">'selected'</span><span class="token punctuation">,</span> <span class="token parameter">event</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
	<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span><span class="token property-access">detail</span><span class="token punctuation">.</span><span class="token property-access">selection</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">off</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></section><section class="level3"aria-labelledby="destroy"><h3 id="destroy"><code>$destroy</code></h3><pre class="language-js"><code class="language-js">component<span class="token punctuation">.</span><span class="token method function property-access">$destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>Removes a component from the DOM and triggers any <code>onDestroy</code> handlers.</section><section class="level3"aria-labelledby="component-props"><h3 id="component-props">Component props</h3><pre class="language-js"><code class="language-js">component<span class="token punctuation">.</span><span class="token property-access">prop</span></code></pre><pre class="language-js"><code class="language-js">component<span class="token punctuation">.</span><span class="token property-access">prop</span> <span class="token operator">=</span> value</code></pre><p>If a component is compiled with <code>accessors: true</code>, each instance will have getters and setters corresponding to each of the component's props. Setting a value will cause a <em>synchronous</em> update, rather than the default async update caused by <code>component.$set(...)</code>.<p>By default, <code>accessors</code> is <code>false</code>, unless you're compiling as a custom element.<pre class="language-js"><code class="language-js"><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>app<span class="token punctuation">.</span><span class="token property-access">count</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token property-access">count</span> <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span></code></pre></section></section><section class="level2"aria-labelledby="custom-element-api"><h2 id="custom-element-api">Custom element API</h2><p>Svelte components can also be compiled to custom elements (aka web components) using the <code>customElement: true</code> compiler option. You should specify a tag name for the component using the <code>&#x3C;svelte:options></code> <a href="03-template-syntax.html">element</a>.<pre class="language-sv"><code class="language-sv">&#x3C;svelte:options tag="my-element" />

&#x3C;script>
	export let name = 'world';
&#x3C;/script>

&#x3C;h1>Hello {name}!&#x3C;/h1>
&#x3C;slot>&#x3C;/slot></code></pre><p>Alternatively, use <code>tag={null}</code> to indicate that the consumer of the custom element should name it.<pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">MyElement</span></span> <span class="token keyword module">from</span> <span class="token string">'./MyElement.svelte'</span><span class="token punctuation">;</span>

customElements<span class="token punctuation">.</span><span class="token method function property-access">define</span><span class="token punctuation">(</span><span class="token string">'my-element'</span><span class="token punctuation">,</span> <span class="token maybe-class-name">MyElement</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Once a custom element has been defined, it can be used as a regular DOM element:<pre class="language-js"><code class="language-js"><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token property-access">body</span><span class="token punctuation">.</span><span class="token property-access">innerHTML</span> <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token html language-html">
	<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>my-element</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>p</span><span class="token punctuation">></span></span>This is some slotted content<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>p</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>my-element</span><span class="token punctuation">></span></span>
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></code></pre><p>By default, custom elements are compiled with <code>accessors: true</code>, which means that any <a href="03-template-syntax.html">props</a> are exposed as properties of the DOM element (as well as being readable/writable as attributes, where possible).<p>To prevent this, add <code>accessors={false}</code> to <code>&#x3C;svelte:options></code>.<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> el <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">querySelector</span><span class="token punctuation">(</span><span class="token string">'my-element'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// get the current value of the 'name' prop</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// set a new value, updating the shadow DOM</span>
el<span class="token punctuation">.</span><span class="token property-access">name</span> <span class="token operator">=</span> <span class="token string">'everybody'</span><span class="token punctuation">;</span></code></pre><p>Custom elements can be a useful way to package components for consumption in a non-Svelte app, as they will work with vanilla HTML and JavaScript as well as <a href="https://custom-elements-everywhere.com/">most frameworks</a>. There are, however, some important differences to be aware of:<ul><li>Styles are <em>encapsulated</em>, rather than merely <em>scoped</em>. This means that any non-component styles (such as you might have in a <code>global.css</code> file) will not apply to the custom element, including styles with the <code>:global(...)</code> modifier<li>Instead of being extracted out as a separate .css file, styles are inlined into the component as a JavaScript string<li>Custom elements are not generally suitable for server-side rendering, as the shadow DOM is invisible until JavaScript loads<li>In Svelte, slotted content renders <em>lazily</em>. In the DOM, it renders <em>eagerly</em>. In other words, it will always be created even if the component's <code>&#x3C;slot></code> element is inside an <code>{#if ...}</code> block. Similarly, including a <code>&#x3C;slot></code> in an <code>{#each ...}</code> block will not cause the slotted content to be rendered multiple times<li>The <code>let:</code> directive has no effect<li>Polyfills are required to support older browsers</ul></section><section class="level2"aria-labelledby="server-side-component-api"><h2 id="server-side-component-api">Server-side component API</h2><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token maybe-class-name">Component</span><span class="token punctuation">.</span><span class="token method function property-access">render</span><span class="token punctuation">(</span><span class="token spread operator">...</span><span class="token punctuation">)</span></code></pre><p>Unlike client-side components, server-side components don't have a lifespan after you render them — their whole job is to create some HTML and CSS. For that reason, the API is somewhat different.<p>A server-side component exposes a <code>render</code> method that can be called with optional props. It returns an object with <code>head</code>, <code>html</code>, and <code>css</code> properties, where <code>head</code> contains the contents of any <code>&#x3C;svelte:head></code> elements encountered.<p>You can import a Svelte component directly into Node using <a href="04-run-time.html"><code>svelte/register</code></a>.<pre class="language-js"><code class="language-js"><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'svelte/register'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token maybe-class-name">App</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./App.svelte'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword module">default</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> head<span class="token punctuation">,</span> html<span class="token punctuation">,</span> css <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token maybe-class-name">App</span><span class="token punctuation">.</span><span class="token method function property-access">render</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token literal-property property">answer</span><span class="token operator">:</span> <span class="token number">42</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>The <code>.render()</code> method accepts the following parameters:<p>| parameter | default | description | | | --- | --- | | <code>props</code> | <code>{}</code> | An object of properties to supply to the component | <code>options</code> | <code>{}</code> | An object of options<p>The <code>options</code> object takes in the following options:<p>| option | default | description | | | --- | --- | | <code>context</code> | <code>new Map()</code> | A <code>Map</code> of root-level context key-value pairs to supply to the component<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">{</span> head<span class="token punctuation">,</span> html<span class="token punctuation">,</span> css <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token maybe-class-name">App</span><span class="token punctuation">.</span><span class="token method function property-access">render</span><span class="token punctuation">(</span>
	<span class="token comment">// props</span>
	<span class="token punctuation">{</span> <span class="token literal-property property">answer</span><span class="token operator">:</span> <span class="token number">42</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token comment">// options</span>
	<span class="token punctuation">{</span>
		<span class="token literal-property property">context</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'context-key'</span><span class="token punctuation">,</span> <span class="token string">'context-value'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><span style="float:footnote"><a href="./index.html#toc">Go to TOC</a></span></section></section>