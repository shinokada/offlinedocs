<!doctype html><html lang="en"><meta charset="utf-8"><title>Imperative component API</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"type="text/css"href="../../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="imperative-component-api"><h1 id="imperative-component-api">Imperative component API</h1><p>better title needed?<ul><li>mount<li>unmount<li>render<li>hydrate<li>how they interact with each other</ul><p>Every Svelte application starts by imperatively creating a root component. On the client this component is mounted to a specific element. On the server, you want to get back a string of HTML instead which you can render. The following functions help you achieve those tasks.<section class="level2"aria-labelledby="mount"><h2 id="mount"><code>mount</code></h2><p>Instantiates a component and mounts it to the given target:<pre class="language-js"><code class="language-js"><span class="token comment">// @errors: 2322</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> mount <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'svelte'</span><span class="token punctuation">;</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">App</span></span> <span class="token keyword module">from</span> <span class="token string">'./App.svelte'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">mount</span><span class="token punctuation">(</span><span class="token maybe-class-name">App</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">querySelector</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">some</span><span class="token operator">:</span> <span class="token string">'property'</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>You can mount multiple components per page, and you can also mount from within your application, for example when creating a tooltip component and attaching it to the hovered element.<p>Note that unlike calling <code>new App(...)</code> in Svelte 4, things like effects (including <code>onMount</code> callbacks, and action functions) will not run during <code>mount</code>. If you need to force pending effects to run (in the context of a test, for example) you can do so with <code>flushSync()</code>.</section><section class="level2"aria-labelledby="unmount"><h2 id="unmount"><code>unmount</code></h2><p>Unmounts a component created with <a href="#mount"><code>mount</code></a> or <a href="#hydrate"><code>hydrate</code></a>:<pre class="language-js"><code class="language-js"><span class="token comment">// @errors: 1109</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> mount<span class="token punctuation">,</span> unmount <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'svelte'</span><span class="token punctuation">;</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">App</span></span> <span class="token keyword module">from</span> <span class="token string">'./App.svelte'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">mount</span><span class="token punctuation">(</span><span class="token maybe-class-name">App</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token spread operator">...</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// later</span>
<span class="token function">unmount</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></section><section class="level2"aria-labelledby="render"><h2 id="render"><code>render</code></h2><p>Only available on the server and when compiling with the <code>server</code> option. Takes a component and returns an object with <code>body</code> and <code>head</code> properties on it, which you can use to populate the HTML when server-rendering your app:<pre class="language-js"><code class="language-js"><span class="token comment">// @errors: 2724 2305 2307</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> render <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'svelte/server'</span><span class="token punctuation">;</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">App</span></span> <span class="token keyword module">from</span> <span class="token string">'./App.svelte'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token maybe-class-name">App</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">some</span><span class="token operator">:</span> <span class="token string">'property'</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
result<span class="token punctuation">.</span><span class="token property-access">body</span><span class="token punctuation">;</span> <span class="token comment">// HTML for somewhere in this &#x3C;body> tag</span>
result<span class="token punctuation">.</span><span class="token property-access">head</span><span class="token punctuation">;</span> <span class="token comment">// HTML for somewhere in this &#x3C;head> tag</span></code></pre></section><section class="level2"aria-labelledby="hydrate"><h2 id="hydrate"><code>hydrate</code></h2><p>Like <code>mount</code>, but will reuse up any HTML rendered by Svelte's SSR output (from the <a href="#render"><code>render</code></a> function) inside the target and make it interactive:<pre class="language-js"><code class="language-js"><span class="token comment">// @errors: 2322</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> hydrate <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'svelte'</span><span class="token punctuation">;</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">App</span></span> <span class="token keyword module">from</span> <span class="token string">'./App.svelte'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">hydrate</span><span class="token punctuation">(</span><span class="token maybe-class-name">App</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">querySelector</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">some</span><span class="token operator">:</span> <span class="token string">'property'</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>As with <code>mount</code>, effects will not run during <code>hydrate</code> â€” use <code>flushSync()</code> immediately afterwards if you need them to. <span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></section></section>