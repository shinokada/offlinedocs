<!doctypehtml><html lang="en"><meta charset="utf-8"><title>Command Line Interface | Guide</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"href="../../../../../../../../docs/themes/packages/prism-coy-theme/theme_common.css"><section id="command-line-interface"class="level1"><h1>Command Line Interface</h1><section id="commands"class="level2"><h2>Commands</h2><section id="vitest"class="level3"><h3><code>vitest</code></h3><p>Start Vitest in the current directory. Will enter the watch mode in development environment and run mode in CI automatically.<p>You can pass an additional argument as the filter of the test files to run. For example:<pre class="language-bash"><code class="language-bash">vitest foobar</code></pre><p>Will run only the test file that contains <code>foobar</code> in their paths.</section><section id="vitest-run"class="level3"><h3><code>vitest run</code></h3><p>Perform a single run without watch mode.</section><section id="vitest-watch"class="level3"><h3><code>vitest watch</code></h3><p>Run all test suites but watch for changes and rerun tests when they change. Same as calling <code>vitest</code> without an argument. Will fallback to <code>vitest run</code> in CI.</section><section id="vitest-dev"class="level3"><h3><code>vitest dev</code></h3><p>Alias to <code>vitest watch</code>.</section><section id="vitest-related"class="level3"><h3><code>vitest related</code></h3><p>Run only tests that cover a list of source files. Works with static imports (e.g., <code>import('./index.ts')</code> or <code>import index from './index.ts</code>), but not the dynamic ones (e.g., <code>import(filepath)</code>). All files should be relative to root folder.<p>Useful to run with <a href="https://github.com/okonet/lint-staged"><code>lint-staged</code></a> or with your CI setup.<pre class="language-bash"><code class="language-bash">vitest related /src/index.ts /src/hello-world.js</code></pre></section></section><section id="options"class="level2"><h2>Options</h2><table><thead><tr><th>Options<th><tbody><tr><td><code>-v, --version</code><td>Display version number<tr><td><code>-r, --root &#x3C;path></code><td>Define the project root<tr><td><code>-c, --config &#x3C;path></code><td>Path to config file<tr><td><code>-u, --update</code><td>Update snapshots<tr><td><code>-w, --watch</code><td>Smart &#x26; instant watch mode<tr><td><code>-t, --testNamePattern &#x3C;pattern></code><td>Run tests with full names matching the pattern<tr><td><code>--dir &#x3C;path></code><td>Base directory to scan for the test files<tr><td><code>--ui</code><td>Enable UI<tr><td><code>--open</code><td>Open the UI automatically if enabled (default: <code>true</code>)<tr><td><code>--api [api]</code><td>Serve API, available options: <code>--api.port &#x3C;port></code>, <code>--api.host [host]</code> and <code>--api.strictPort</code><tr><td><code>--threads</code><td>Enable Threads (default: <code>true</code>)<tr><td><code>--silent</code><td>Silent console output from tests<tr><td><code>--isolate</code><td>Isolate environment for each test file (default: <code>true</code>)<tr><td><code>--reporter &#x3C;name></code><td>Select reporter: <code>default</code>, <code>verbose</code>, <code>dot</code>, <code>junit</code>, <code>json</code>, or a path to a custom reporter<tr><td><code>--outputTruncateLength &#x3C;length></code><td>Truncate output diff lines up to <code>&#x3C;length></code> number of characters.<tr><td><code>--outputDiffLines &#x3C;lines></code><td>Limit number of output diff lines up to <code>&#x3C;lines></code>.<tr><td><code>--outputFile &#x3C;filename/-s></code><td>Write test results to a file when the <code>--reporter=json</code> or <code>--reporter=junit</code> option is also specified<br>Via [cac's dot notation] you can specify individual outputs for multiple reporters<tr><td><code>--coverage</code><td>Enable coverage report<tr><td><code>--run</code><td>Do not watch<tr><td><code>--mode</code><td>Override Vite mode (default: <code>test</code>)<tr><td><code>--mode &#x3C;name></code><td>Override Vite mode (default: <code>test</code>)<tr><td><code>--globals</code><td>Inject APIs globally<tr><td><code>--dom</code><td>Mock browser api with happy-dom<tr><td><code>--browser</code><td>Run tests in browser<tr><td><code>--environment &#x3C;env></code><td>Runner environment (default: <code>node</code>)<tr><td><code>--passWithNoTests</code><td>Pass when no tests found<tr><td><code>--allowOnly</code><td>Allow tests and suites that are marked as <code>only</code> (default: false in CI, true otherwise)<tr><td><code>--dangerouslyIgnoreUnhandledErrors</code><td>Ignore any unhandled errors that occur<tr><td><code>--changed [since]</code><td>Run tests that are affected by the changed files (default: false). See <a href="#changed">docs</a><tr><td><code>--shard &#x3C;shard></code><td>Execute tests in a specified shard<tr><td><code>--sequence</code><td>Define in what order to run tests. Use [cac's dot notation] to specify options (for example, use <code>--sequence.shuffle</code> to run tests in random order)<tr><td><code>--no-color</code><td>Removes colors from the console output<tr><td><code>--inspect</code><td>Enables Node.js inspector<tr><td><code>--inspect-brk</code><td>Enables Node.js inspector with break<tr><td><code>-h, --help</code><td>Display available CLI options</table><section id="changed"class="level3"><h3>changed</h3><ul><li><p><strong>Type</strong>: <code>boolean | string</code><li><p><strong>Default</strong>: false<p>Run tests only against changed files. If no value is provided, it will run tests against uncommitted changes (including staged and unstaged).<p>To run tests against changes made in the last commit, you can use <code>--changed HEAD~1</code>. You can also pass commit hash or branch name.<p>If paired with the <code>forceRerunTriggers</code> config option it will run the whole test suite if a match is found.</ul></section><section id="shard"class="level3"><h3>shard</h3><ul><li><p><strong>Type</strong>: <code>string</code><li><p><strong>Default</strong>: disabled<p>Test suite shard to execute in a format of <code>&#x3C;index></code>/<code>&#x3C;count></code>, where<ul><li><code>count</code> is a positive integer, count of divided parts<li><code>index</code> is a positive integer, index of divided part</ul><p>This command will divide all tests into <code>count</code> equal parts, and will run only those that happen to be in an <code>index</code> part. For example, to split your tests suite into three parts, use this:<pre class="language-sh"><code class="language-sh">vitest run --shard=1/3
vitest run --shard=2/3
vitest run --shard=3/3</code></pre></ul><blockquote>You cannot use this option with `--watch` enabled (enabled in dev by default).</blockquote><span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></section></section></section>