<!doctype html><html lang="en"><meta charset="utf-8"><title>Command Line Interface | Guide</title><meta name="viewport"content="width=device-width,initial-scale=1"><meta name="outline"content="deep"><link rel="stylesheet"type="text/css"href="../../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="command-line-interface"><h1 id="command-line-interface">Command Line Interface</h1><section class="level2"aria-labelledby="commands"><h2 id="commands">Commands</h2><section class="level3"aria-labelledby="vitest"><h3 id="vitest"><code>vitest</code></h3><p>Start Vitest in the current directory. Will enter the watch mode in development environment and run mode in CI automatically.<p>You can pass an additional argument as the filter of the test files to run. For example:<pre class="language-bash"><code class="language-bash">vitest foobar</code></pre><p>Will run only the test file that contains <code>foobar</code> in their paths. This filter only checks inclusion and doesn't support regexp or glob patterns (unless your terminal processes it before Vitest receives the filter).</section><section class="level3"aria-labelledby="vitest-run"><h3 id="vitest-run"><code>vitest run</code></h3><p>Perform a single run without watch mode.</section><section class="level3"aria-labelledby="vitest-watch"><h3 id="vitest-watch"><code>vitest watch</code></h3><p>Run all test suites but watch for changes and rerun tests when they change. Same as calling <code>vitest</code> without an argument. Will fallback to <code>vitest run</code> in CI.</section><section class="level3"aria-labelledby="vitest-dev"><h3 id="vitest-dev"><code>vitest dev</code></h3><p>Alias to <code>vitest watch</code>.</section><section class="level3"aria-labelledby="vitest-related"><h3 id="vitest-related"><code>vitest related</code></h3><p>Run only tests that cover a list of source files. Works with static imports (e.g., <code>import('./index.js')</code> or <code>import index from './index.js</code>), but not the dynamic ones (e.g., <code>import(filepath)</code>). All files should be relative to root folder.<p>Useful to run with <a href="https://github.com/okonet/lint-staged"><code>lint-staged</code></a> or with your CI setup.<pre class="language-bash"><code class="language-bash">vitest related /src/index.ts /src/hello-world.js</code></pre><blockquote>Don't forget that Vitest runs with enabled watch mode by default. If you are using tools like `lint-staged`, you should also pass `--run` option, so that command can exit normally.<pre class="language-js"><code class="language-js"><span class="token comment">// .lintstagedrc.js</span>
<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
  <span class="token string-property property">'*.{js,ts}'</span><span class="token operator">:</span> <span class="token string">'vitest related --run'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span></code></pre></blockquote></section><section class="level3"aria-labelledby="vitest-bench"><h3 id="vitest-bench"><code>vitest bench</code></h3><p>Run only <a href="https://vitest.dev/guide/features.html#benchmarking-experimental">benchmark</a> tests, which compare performance results.</section><section class="level3"aria-labelledby="vitest-init"><h3 id="vitest-init"><code>vitest init</code></h3><p><code>vitest init &#x3C;name></code> can be used to setup project configuration. At the moment, it only supports <a href="/guide/browser/"><code>browser</code></a> value:<pre class="language-bash"><code class="language-bash">vitest init browser</code></pre></section><section class="level3"aria-labelledby="vitest-list"><h3 id="vitest-list"><code>vitest list</code></h3><p><code>vitest list</code> command inherits all <code>vitest</code> options to print the list of all matching tests. This command ignores <code>reporters</code> option. By default, it will print the names of all tests that matched the file filter and name pattern:<pre class="language-shell"><code class="language-shell">vitest list filename.spec.ts -t<span class="token operator">=</span><span class="token string">"some-test"</span></code></pre><pre class="language-txt"><code class="language-txt">describe > some-test
describe > some-test > test 1
describe > some-test > test 2</code></pre><p>You can pass down <code>--json</code> flag to print tests in JSON format or save it in a separate file:<pre class="language-bash"><code class="language-bash">vitest list filename.spec.ts -t<span class="token operator">=</span><span class="token string">"some-test"</span> --json<span class="token operator">=</span>./file.json</code></pre><p>If <code>--json</code> flag doesn't receive a value, it will output the JSON into stdout.<p>You also can pass down <code>--filesOnly</code> flag to print the test files only:<pre class="language-bash"><code class="language-bash">vitest list --filesOnly</code></pre><pre class="language-txt"><code class="language-txt">tests/test1.test.ts
tests/test2.test.ts</code></pre></section></section><section class="level2"aria-labelledby="options"><h2 id="options">Options</h2><blockquote>Vitest supports both camel case and kebab case for CLI arguments. For example, `--passWithNoTests` and `--pass-with-no-tests` will both work (`--no-color` and `--inspect-brk` are the exceptions).<p>Vitest also supports different ways of specifying the value: <code>--reporter dot</code> and <code>--reporter=dot</code> are both valid.<p>If option supports an array of values, you need to pass the option multiple times:<pre class="language-text"><code class="language-text">vitest --reporter=dot --reporter=default</code></pre><p>Boolean options can be negated with <code>no-</code> prefix. Specifying the value as <code>false</code> also works:<pre class="language-text"><code class="language-text">vitest --no-api
vitest --api=false</code></pre></blockquote><section class="level3"aria-labelledby="changed"><h3 id="changed">changed</h3><ul><li><strong>Type</strong>: <code>boolean | string</code><li><strong>Default</strong>: false</ul><p>Run tests only against changed files. If no value is provided, it will run tests against uncommitted changes (including staged and unstaged).<p>To run tests against changes made in the last commit, you can use <code>--changed HEAD~1</code>. You can also pass commit hash (e.g. <code>--changed 09a9920</code>) or branch name (e.g. <code>--changed origin/develop</code>).<p>When used with code coverage the report will contain only the files that were related to the changes.<p>If paired with the <a href="../config.html#forcereruntriggers"><code>forceRerunTriggers</code></a> config option it will run the whole test suite if at least one of the files listed in the <code>forceRerunTriggers</code> list changes. By default, changes to the Vitest config file and <code>package.json</code> will always rerun the whole suite.</section><section class="level3"aria-labelledby="shard"><h3 id="shard">shard</h3><ul><li><strong>Type</strong>: <code>string</code><li><strong>Default</strong>: disabled</ul><p>Test suite shard to execute in a format of <code>&#x3C;index></code>/<code>&#x3C;count></code>, where<ul><li><code>count</code> is a positive integer, count of divided parts<li><code>index</code> is a positive integer, index of divided part</ul><p>This command will divide all tests into <code>count</code> equal parts, and will run only those that happen to be in an <code>index</code> part. For example, to split your tests suite into three parts, use this:<pre class="language-sh"><code class="language-sh">vitest run --shard=1/3
vitest run --shard=2/3
vitest run --shard=3/3</code></pre><blockquote>You cannot use this option with `--watch` enabled (enabled in dev by default).</blockquote><blockquote>If `--reporter=blob` is used without an output file, the default path will include the current shard config to avoid collisions with other Vitest processes.</blockquote></section><section class="level3"aria-labelledby="merge-reports"><h3 id="merge-reports">merge-reports</h3><ul><li><strong>Type:</strong> <code>boolean | string</code></ul><p>Merges every blob report located in the specified folder (<code>.vitest-reports</code> by default). You can use any reporters with this command (except <a href="/guide/reporters#blob-reporter"><code>blob</code></a>):<pre class="language-sh"><code class="language-sh">vitest --merge-reports --reporter=junit</code></pre><p><span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></section></section></section>