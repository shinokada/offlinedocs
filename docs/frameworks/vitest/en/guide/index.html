<!doctype html><html lang="en"><meta charset="utf-8"><title>Getting Started | Guide</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"href="../../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="getting-started"><h1 id="getting-started">Getting Started</h1><section class="level2"aria-labelledby="overview"><h2 id="overview">Overview</h2><p>Vitest is a blazing fast unit test framework powered by Vite.<p>You can learn more about the rationale behind the project in the <a href="./why">Why Vitest</a> section.</section><section class="level2"aria-labelledby="trying-vitest-online"><h2 id="trying-vitest-online">Trying Vitest Online</h2><p>You can try Vitest online on <a href="https://vitest.new">StackBlitz</a>. It runs Vitest directly in the browser, and it is almost identical to the local setup but doesn't require installing anything on your machine.</section><section class="level2"aria-labelledby="adding-vitest-to-your-project"><h2 id="adding-vitest-to-your-project">Adding Vitest to your Project</h2><p><courselink href="https://vueschool.io/lessons/how-to-install-vitest?friend=vueuse">Learn how to install by Video</courselink></p>code-group ```bash [npm] npm install -D vitest ``` ```bash [yarn] yarn add -D vitest ``` ```bash [pnpm] pnpm add -D vitest ```<blockquote>Vitest requires Vite >=v3.0.0 and Node >=v14.18</blockquote><p>It is recommended that you install a copy of <code>vitest</code> in your <code>package.json</code>, using one of the methods listed above. However, if you would prefer to run <code>vitest</code> directly, you can use <code>npx vitest</code> (the <code>npx</code> command comes with npm and Node.js).<p>The <code>npx</code> command will execute the command either from a local <code>node_modules/.bin</code> installing any packages needed in order for the command to run. By default, npx will check whether command exists in $PATH, or in the local project binaries, and execute that. If command is not found, it will be installed prior to execution.</section><section class="level2"aria-labelledby="writing-tests"><h2 id="writing-tests">Writing Tests</h2><p>As an example, we will write a simple test that verifies the output of a function that adds two numbers.<pre class="language-js"><code class="language-js"><span class="token comment">// sum.js</span>
<span class="token keyword module">export</span> <span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> a <span class="token operator">+</span> b
<span class="token punctuation">}</span></code></pre><pre class="language-js"><code class="language-js"><span class="token comment">// sum.test.js</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> expect<span class="token punctuation">,</span> test <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vitest'</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> sum <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'./sum'</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'adds 1 + 2 to equal 3'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBe</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>Next, in order to execute the test, add the following section to your <code>package.json</code>:<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"test"</span><span class="token operator">:</span> <span class="token string">"vitest"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p>Finally, run <code>npm run test</code>, <code>yarn test</code>, or <code>pnpm test</code>, depending on your package manager, and Vitest will print this message:<pre class="language-log"><code class="language-log">✓ <span class="token domain constant">sum.test.js</span> <span class="token operator">(</span><span class="token number">1</span><span class="token operator">)</span>
  ✓ adds <span class="token number">1</span> <span class="token operator">+</span> <span class="token number">2</span> to equal <span class="token number">3</span>

Test Files  <span class="token number">1</span> passed <span class="token operator">(</span><span class="token number">1</span><span class="token operator">)</span>
    Tests  <span class="token number">1</span> passed <span class="token operator">(</span><span class="token number">1</span><span class="token operator">)</span>
  Start at  <span class="token time number">02:15:44</span>
  Duration  <span class="token number">311ms</span> <span class="token operator">(</span>transform <span class="token number">23ms</span><span class="token punctuation">,</span> setup <span class="token number">0ms</span><span class="token punctuation">,</span> collect <span class="token number">16ms</span><span class="token punctuation">,</span> tests <span class="token number">2ms</span><span class="token punctuation">,</span> environment <span class="token number">0ms</span><span class="token punctuation">,</span> prepare <span class="token number">106ms</span><span class="token operator">)</span></code></pre><p>Learn more about the usage of Vitest, see the <a href="https://vitest.dev/api/">API</a> section.</section><section class="level2"aria-labelledby="configuring-vitest"><h2 id="configuring-vitest">Configuring Vitest</h2><p>One of the main advantages of Vitest is its unified configuration with Vite. If present, <code>vitest</code> will read your root <code>vite.config.ts</code> to match with the plugins and setup as your Vite app. For example, your Vite <a href="https://vitejs.dev/config/shared-options.html#resolve-alias">resolve.alias</a> and <a href="https://vitejs.dev/guide/using-plugins.html">plugins</a> configuration will work out-of-the-box. If you want a different configuration during testing, you can:<ul><li>Create <code>vitest.config.ts</code>, which will have the higher priority<li>Pass <code>--config</code> option to CLI, e.g. <code>vitest --config ./path/to/vitest.config.ts</code><li>Use <code>process.env.VITEST</code> or <code>mode</code> property on <code>defineConfig</code> (will be set to <code>test</code> if not overridden) to conditionally apply different configuration in <code>vite.config.ts</code></ul><p>Vitest supports the same extensions for your configuration file as Vite does: <code>.js</code>, <code>.mjs</code>, <code>.cjs</code>, <code>.ts</code>, <code>.cts</code>, <code>.mts</code>. Vitest does not support <code>.json</code> extension.<p>If you are not using Vite as your build tool, you can configure Vitest using the <code>test</code> property in your config file:<pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vitest/config'</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  test<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><blockquote>Even if you do not use Vite yourself, Vitest relies heavily on it for its transformation pipeline. For that reason, you can also configure any property described in [Vite documentation](https://vitejs.dev/config/).</blockquote><p>If you are already using Vite, add <code>test</code> property in your Vite config. You'll also need to add a reference to Vitest types using a <a href="https://www.typescriptlang.org/docs/handbook/triple-slash-directives.html#-reference-types-">triple slash directive</a> at the top of your config file.<pre class="language-ts"><code class="language-ts"><span class="token comment">/// &#x3C;reference types="vitest" /></span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vite'</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  test<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>See the list of config options in the <a href="../config/">Config Reference</a><blockquote>If you decide to have two separate config files for Vite and Vitest, make sure to define the same Vite options in your Vitest config file since it will override your Vite file, not extend it. You can also use `mergeConfig` method from `vite` or `vitest/config` entries to merge Vite config with Vitest config:config:</blockquote>code-group ```ts [vitest.config.mjs] import { defineConfig, mergeConfig } from 'vitest/config' import viteConfig from './vite.config.mjs'<p>export default mergeConfig(viteConfig, defineConfig({ test: { // ... } }))<pre class="language-text"><code class="language-text">
```ts [vite.config.mjs]
import { defineConfig } from 'vite'
import Vue from '@vitejs/plugin-vue'

export default defineConfig({
  plugins: [Vue()],
})</code></pre><p>But we recommend to use the same file for both Vite and Vitest instead of creating two separate files.</section><section class="level2"aria-labelledby="workspaces-support"><h2 id="workspaces-support">Workspaces Support</h2><p>Run different project configurations inside the same project with <a href="/guide/workspace">Vitest Workspaces</a>. You can define a list of files and folders that define your workspace in <code>vitest.workspace</code> file. The file supports <code>js</code>/<code>ts</code>/<code>json</code> extensions. This feature works great with monorepo setups.<pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> defineWorkspace <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vitest/config'</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token function">defineWorkspace</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token comment">// you can use a list of glob patterns to define your workspaces</span>
  <span class="token comment">// Vitest expects a list of config files</span>
  <span class="token comment">// or directories where there is a config file</span>
  <span class="token string">'packages/*'</span><span class="token punctuation">,</span>
  <span class="token string">'tests/*/vitest.config.{e2e,unit}.ts'</span><span class="token punctuation">,</span>
  <span class="token comment">// you can even run the same tests,</span>
  <span class="token comment">// but with different configs in the same "vitest" process</span>
  <span class="token punctuation">{</span>
    test<span class="token operator">:</span> <span class="token punctuation">{</span>
      name<span class="token operator">:</span> <span class="token string">'happy-dom'</span><span class="token punctuation">,</span>
      root<span class="token operator">:</span> <span class="token string">'./shared_tests'</span><span class="token punctuation">,</span>
      environment<span class="token operator">:</span> <span class="token string">'happy-dom'</span><span class="token punctuation">,</span>
      setupFiles<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'./setup.happy-dom.ts'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    test<span class="token operator">:</span> <span class="token punctuation">{</span>
      name<span class="token operator">:</span> <span class="token string">'node'</span><span class="token punctuation">,</span>
      root<span class="token operator">:</span> <span class="token string">'./shared_tests'</span><span class="token punctuation">,</span>
      environment<span class="token operator">:</span> <span class="token string">'node'</span><span class="token punctuation">,</span>
      setupFiles<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'./setup.node.ts'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre></section><section class="level2"aria-labelledby="command-line-interface"><h2 id="command-line-interface">Command Line Interface</h2><p>In a project where Vitest is installed, you can use the <code>vitest</code> binary in your npm scripts, or run it directly with <code>npx vitest</code>. Here are the default npm scripts in a scaffolded Vitest project:<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"test"</span><span class="token operator">:</span> <span class="token string">"vitest"</span><span class="token punctuation">,</span>
    <span class="token property">"coverage"</span><span class="token operator">:</span> <span class="token string">"vitest run --coverage"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p>To run tests once without watching for file changes, use <code>vitest run</code>. You can specify additional CLI options like <code>--port</code> or <code>--https</code>. For a full list of CLI options, run <code>npx vitest --help</code> in your project.<p>Learn more about the <a href="./cli.md">Command Line Interface</a></section><section class="level2"aria-labelledby="ide-integrations"><h2 id="ide-integrations">IDE Integrations</h2><p>We also provided a official extension for Visual Studio Code to enhance your testing experience with Vitest.<p><a href="https://marketplace.visualstudio.com/items?itemName=ZixuanChen.vitest-explorer">Install from VS Code Marketplace</a><p>Learn more about <a href="./ide.md">IDE Integrations</a></section><section class="level2"aria-labelledby="examples"><h2 id="examples">Examples</h2><p><a href="../../../examples/README.md">@@include</a></section><section class="level2"aria-labelledby="projects-using-vitest"><h2 id="projects-using-vitest">Projects using Vitest</h2><ul><li><a href="https://github.com/unocss/unocss">unocss</a><li><a href="https://github.com/antfu/unplugin-auto-import">unplugin-auto-import</a><li><a href="https://github.com/antfu/unplugin-vue-components">unplugin-vue-components</a><li><a href="https://github.com/vuejs/core">vue</a><li><a href="https://github.com/vitejs/vite">vite</a><li><a href="https://github.com/antfu/vitesse">vitesse</a><li><a href="https://github.com/antfu/vitesse-lite">vitesse-lite</a><li><a href="https://github.com/demivan/fluent-vue">fluent-vue</a><li><a href="https://github.com/vueuse/vueuse">vueuse</a><li><a href="https://github.com/Saul-Mirone/milkdown">milkdown</a><li><a href="https://github.com/iamyuu/gridjs-svelte">gridjs-svelte</a><li><a href="https://github.com/okikio/spring-easing">spring-easing</a><li><a href="https://github.com/bytedance/bytemd">bytemd</a><li><a href="https://github.com/faker-js/faker">faker</a><li><a href="https://github.com/aidenybai/million">million</a><li><a href="https://github.com/wtchnm/Vitamin">Vitamin</a><li><a href="https://github.com/PuruVJ/neodrag">neodrag</a><li><a href="https://github.com/janosh/svelte-multiselect">svelte-multiselect</a><li><a href="https://github.com/iconify/iconify">iconify</a><li><a href="https://github.com/Tencent/tdesign-vue-next">tdesign-vue-next</a><li><a href="https://github.com/Zhengqbbb/cz-git">cz-git</a></ul></section><section class="level2"aria-labelledby="using-unreleased-commits"><h2 id="using-unreleased-commits">Using Unreleased Commits</h2><p>If you can't wait for a new release to test the latest features, you will need to clone the <a href="https://github.com/vitest-dev/vitest">vitest repo</a> to your local machine and then build and link it yourself (<a href="https://pnpm.io/">pnpm</a> is required):<pre class="language-bash"><code class="language-bash"><span class="token function">git</span> clone https://github.com/vitest-dev/vitest.git
<span class="token builtin class-name">cd</span> vitest
<span class="token function">pnpm</span> <span class="token function">install</span>
<span class="token builtin class-name">cd</span> packages/vitest
<span class="token function">pnpm</span> run build
<span class="token function">pnpm</span> <span class="token function">link</span> --global <span class="token comment"># you can use your preferred package manager for this step</span></code></pre><p>Then go to the project where you are using Vitest and run <code>pnpm link --global vitest</code> (or the package manager that you used to link <code>vitest</code> globally).</section><section class="level2"aria-labelledby="community"><h2 id="community">Community</h2><p>If you have questions or need help, reach out to the community at <a href="https://chat.vitest.dev">Discord</a> and <a href="https://github.com/vitest-dev/vitest/discussions">GitHub Discussions</a>. <span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></section></section>