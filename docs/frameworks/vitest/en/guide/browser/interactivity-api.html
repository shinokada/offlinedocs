<!doctype html><html lang="en"><meta charset="utf-8"><title>Interactivity API | Browser Mode</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"type="text/css"href="../../../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="interactivity-api"><h1 id="interactivity-api">Interactivity API</h1><p>Vitest implements a subset of <a href="https://testing-library.com/docs/user-event"><code>@testing-library/user-event</code></a> APIs using <a href="https://chromedevtools.github.io/devtools-protocol/">Chrome DevTools Protocol</a> or <a href="https://www.w3.org/TR/webdriver/">webdriver</a> instead of faking events which makes the browser behaviour more reliable and consistent with how users interact with a page.<pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> userEvent <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@vitest/browser/context'</span>

<span class="token keyword control-flow">await</span> userEvent<span class="token punctuation">.</span><span class="token method function property-access">click</span><span class="token punctuation">(</span><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">querySelector</span><span class="token punctuation">(</span><span class="token string">'.button'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p>Almost every <code>userEvent</code> method inherits its provider options. To see all available options in your IDE, add <code>webdriver</code> or <code>playwright</code> types (depending on your provider) to your <code>tsconfig.json</code> file:</p>code-group ```json [playwright] { "compilerOptions": { "types": [ "@vitest/browser/providers/playwright" ] } } ``` ```json [webdriverio] { "compilerOptions": { "types": [ "@vitest/browser/providers/webdriverio" ] } } ```<section class="level2"aria-labelledby="usereventsetup"><h2 id="usereventsetup">userEvent.setup</h2><pre class="language-ts"><code class="language-ts"><span class="token keyword">function</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token maybe-class-name">UserEvent</span></code></pre><p>Creates a new user event instance. This is useful if you need to keep the state of keyboard to press and release buttons correctly.<blockquote>Unlike `@testing-library/user-event`, the default `userEvent` instance from `@vitest/browser/context` is created once, not every time its methods are called! You can see the difference in how it works in this snippet:<pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> userEvent <span class="token keyword module">as</span> vitestUserEvent <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@vitest/browser/context'</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> userEvent <span class="token keyword module">as</span> originalUserEvent <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@testing-library/user-event'</span>

<span class="token keyword control-flow">await</span> vitestUserEvent<span class="token punctuation">.</span><span class="token method function property-access">keyboard</span><span class="token punctuation">(</span><span class="token string">'{Shift}'</span><span class="token punctuation">)</span> <span class="token comment">// press shift without releasing</span>
<span class="token keyword control-flow">await</span> vitestUserEvent<span class="token punctuation">.</span><span class="token method function property-access">keyboard</span><span class="token punctuation">(</span><span class="token string">'{/Shift}'</span><span class="token punctuation">)</span> <span class="token comment">// releases shift</span>

<span class="token keyword control-flow">await</span> originalUserEvent<span class="token punctuation">.</span><span class="token method function property-access">keyboard</span><span class="token punctuation">(</span><span class="token string">'{Shift}'</span><span class="token punctuation">)</span> <span class="token comment">// press shift without releasing</span>
<span class="token keyword control-flow">await</span> originalUserEvent<span class="token punctuation">.</span><span class="token method function property-access">keyboard</span><span class="token punctuation">(</span><span class="token string">'{/Shift}'</span><span class="token punctuation">)</span> <span class="token comment">// DID NOT release shift because the state is different</span></code></pre><p>This behaviour is more useful because we do not emulate the keyboard, we actually press the Shift, so keeping the original behaviour would cause unexpected issues when typing in the field.</blockquote></section><section class="level2"aria-labelledby="usereventclick"><h2 id="usereventclick">userEvent.click</h2><pre class="language-ts"><code class="language-ts"><span class="token keyword">function</span> <span class="token function">click</span><span class="token punctuation">(</span>
  element<span class="token operator">:</span> <span class="token maybe-class-name">Element</span> <span class="token operator">|</span> <span class="token maybe-class-name">Locator</span><span class="token punctuation">,</span>
  options<span class="token operator">?</span><span class="token operator">:</span> <span class="token maybe-class-name">UserEventClickOptions</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token known-class-name class-name">Promise</span><span class="token operator">&#x3C;</span><span class="token keyword">void</span><span class="token operator">></span></code></pre><p>Click on an element. Inherits provider's options. Please refer to your provider's documentation for detailed explanation about how this method works.<pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> page<span class="token punctuation">,</span> userEvent <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@vitest/browser/context'</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'clicks on an element'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> logo <span class="token operator">=</span> page<span class="token punctuation">.</span><span class="token method function property-access">getByRole</span><span class="token punctuation">(</span><span class="token string">'img'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">logo</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token keyword control-flow">await</span> userEvent<span class="token punctuation">.</span><span class="token method function property-access">click</span><span class="token punctuation">(</span>logo<span class="token punctuation">)</span>
  <span class="token comment">// or you can access it directly on the locator</span>
  <span class="token keyword control-flow">await</span> logo<span class="token punctuation">.</span><span class="token method function property-access">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>References:<ul><li><a href="https://playwright.dev/docs/api/class-locator#locator-click">Playwright <code>locator.click</code> API</a><li><a href="https://webdriver.io/docs/api/element/click/">WebdriverIO <code>element.click</code> API</a><li><a href="https://testing-library.com/docs/user-event/convenience/#click">testing-library <code>click</code> API</a></ul></section><section class="level2"aria-labelledby="usereventdblclick"><h2 id="usereventdblclick">userEvent.dblClick</h2><pre class="language-ts"><code class="language-ts"><span class="token keyword">function</span> <span class="token function">dblClick</span><span class="token punctuation">(</span>
  element<span class="token operator">:</span> <span class="token maybe-class-name">Element</span> <span class="token operator">|</span> <span class="token maybe-class-name">Locator</span><span class="token punctuation">,</span>
  options<span class="token operator">?</span><span class="token operator">:</span> <span class="token maybe-class-name">UserEventDoubleClickOptions</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token known-class-name class-name">Promise</span><span class="token operator">&#x3C;</span><span class="token keyword">void</span><span class="token operator">></span></code></pre><p>Triggers a double click event on an element.<p>Please refer to your provider's documentation for detailed explanation about how this method works.<pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> page<span class="token punctuation">,</span> userEvent <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@vitest/browser/context'</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'triggers a double click on an element'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> logo <span class="token operator">=</span> page<span class="token punctuation">.</span><span class="token method function property-access">getByRole</span><span class="token punctuation">(</span><span class="token string">'img'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">logo</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token keyword control-flow">await</span> userEvent<span class="token punctuation">.</span><span class="token method function property-access">dblClick</span><span class="token punctuation">(</span>logo<span class="token punctuation">)</span>
  <span class="token comment">// or you can access it directly on the locator</span>
  <span class="token keyword control-flow">await</span> logo<span class="token punctuation">.</span><span class="token method function property-access">dblClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>References:<ul><li><a href="https://playwright.dev/docs/api/class-locator#locator-dblclick">Playwright <code>locator.dblclick</code> API</a><li><a href="https://webdriver.io/docs/api/element/doubleClick/">WebdriverIO <code>element.doubleClick</code> API</a><li><a href="https://testing-library.com/docs/user-event/convenience/#dblClick">testing-library <code>dblClick</code> API</a></ul></section><section class="level2"aria-labelledby="usereventtripleclick"><h2 id="usereventtripleclick">userEvent.tripleClick</h2><pre class="language-ts"><code class="language-ts"><span class="token keyword">function</span> <span class="token function">tripleClick</span><span class="token punctuation">(</span>
  element<span class="token operator">:</span> <span class="token maybe-class-name">Element</span> <span class="token operator">|</span> <span class="token maybe-class-name">Locator</span><span class="token punctuation">,</span>
  options<span class="token operator">?</span><span class="token operator">:</span> <span class="token maybe-class-name">UserEventTripleClickOptions</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token known-class-name class-name">Promise</span><span class="token operator">&#x3C;</span><span class="token keyword">void</span><span class="token operator">></span></code></pre><p>Triggers a triple click event on an element. Since there is no <code>tripleclick</code> in browser api, this method will fire three click events in a row, and so you must check <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/click_event#usage_notes">click event detail</a> to filter the event: <code>evt.detail === 3</code>.<p>Please refer to your provider's documentation for detailed explanation about how this method works.<pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> page<span class="token punctuation">,</span> userEvent <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@vitest/browser/context'</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'triggers a triple click on an element'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> logo <span class="token operator">=</span> page<span class="token punctuation">.</span><span class="token method function property-access">getByRole</span><span class="token punctuation">(</span><span class="token string">'img'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">logo</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> tripleClickFired <span class="token operator">=</span> <span class="token boolean">false</span>
  logo<span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>evt<span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>evt<span class="token punctuation">.</span><span class="token property-access">detail</span> <span class="token operator">===</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      tripleClickFired <span class="token operator">=</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token keyword control-flow">await</span> userEvent<span class="token punctuation">.</span><span class="token method function property-access">tripleClick</span><span class="token punctuation">(</span>logo<span class="token punctuation">)</span>
  <span class="token comment">// or you can access it directly on the locator</span>
  <span class="token keyword control-flow">await</span> logo<span class="token punctuation">.</span><span class="token method function property-access">tripleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token function">expect</span><span class="token punctuation">(</span>tripleClickFired<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBe</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>References:<ul><li><a href="https://playwright.dev/docs/api/class-locator#locator-click">Playwright <code>locator.click</code> API</a>: implemented via <code>click</code> with <code>clickCount: 3</code> .<li><a href="https://webdriver.io/docs/api/browser/action/">WebdriverIO <code>browser.action</code> API</a>: implemented via actions api with <code>move</code> plus three <code>down + up + pause</code> events in a row<li><a href="https://testing-library.com/docs/user-event/convenience/#tripleClick">testing-library <code>tripleClick</code> API</a></ul></section><section class="level2"aria-labelledby="usereventfill"><h2 id="usereventfill">userEvent.fill</h2><pre class="language-ts"><code class="language-ts"><span class="token keyword">function</span> <span class="token function">fill</span><span class="token punctuation">(</span>
  element<span class="token operator">:</span> <span class="token maybe-class-name">Element</span> <span class="token operator">|</span> <span class="token maybe-class-name">Locator</span><span class="token punctuation">,</span>
  text<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token known-class-name class-name">Promise</span><span class="token operator">&#x3C;</span><span class="token keyword">void</span><span class="token operator">></span></code></pre><p>Set a value to the <code>input/textarea/conteneditable</code> field. This will remove any existing text in the input before setting the new value.<pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> page<span class="token punctuation">,</span> userEvent <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@vitest/browser/context'</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'update input'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> input <span class="token operator">=</span> page<span class="token punctuation">.</span><span class="token method function property-access">getByRole</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span>

  <span class="token keyword control-flow">await</span> userEvent<span class="token punctuation">.</span><span class="token method function property-access">fill</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> <span class="token string">'foo'</span><span class="token punctuation">)</span> <span class="token comment">// input.value == foo</span>
  <span class="token keyword control-flow">await</span> userEvent<span class="token punctuation">.</span><span class="token method function property-access">fill</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> <span class="token string">'{{a[['</span><span class="token punctuation">)</span> <span class="token comment">// input.value == {{a[[</span>
  <span class="token keyword control-flow">await</span> userEvent<span class="token punctuation">.</span><span class="token method function property-access">fill</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> <span class="token string">'{Shift}'</span><span class="token punctuation">)</span> <span class="token comment">// input.value == {Shift}</span>

  <span class="token comment">// or you can access it directly on the locator</span>
  <span class="token keyword control-flow">await</span> input<span class="token punctuation">.</span><span class="token method function property-access">fill</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span> <span class="token comment">// input.value == foo</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>This methods focuses the element, fills it and triggers an <code>input</code> event after filling. You can use an empty string to clear the field.<blockquote>This API is faster than using [`userEvent.type`](#userevent-type) or [`userEvent.keyboard`](#userevent-keyboard), but it **doesn't support** [user-event `keyboard` syntax](https://testing-library.com/docs/user-event/keyboard) (e.g., `{Shift}{selectall}`).<p>We recommend using this API over <a href="#userevent-type"><code>userEvent.type</code></a> in situations when you don't need to enter special characters or have granular control over keypress events.</blockquote><p>References:<ul><li><a href="https://playwright.dev/docs/api/class-locator#locator-fill">Playwright <code>locator.fill</code> API</a><li><a href="https://webdriver.io/docs/api/element/setValue">WebdriverIO <code>element.setValue</code> API</a><li><a href="https://testing-library.com/docs/user-event/utility/#type">testing-library <code>type</code> API</a></ul></section><section class="level2"aria-labelledby="usereventkeyboard"><h2 id="usereventkeyboard">userEvent.keyboard</h2><pre class="language-ts"><code class="language-ts"><span class="token keyword">function</span> <span class="token function">keyboard</span><span class="token punctuation">(</span>text<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token known-class-name class-name">Promise</span><span class="token operator">&#x3C;</span><span class="token keyword">void</span><span class="token operator">></span></code></pre><p>The <code>userEvent.keyboard</code> allows you to trigger keyboard strokes. If any input has a focus, it will type characters into that input. Otherwise, it will trigger keyboard events on the currently focused element (<code>document.body</code> if there are no focused elements).<p>This API supports <a href="https://testing-library.com/docs/user-event/keyboard">user-event <code>keyboard</code> syntax</a>.<pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> userEvent <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@vitest/browser/context'</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'trigger keystrokes'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">await</span> userEvent<span class="token punctuation">.</span><span class="token method function property-access">keyboard</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span> <span class="token comment">// translates to: f, o, o</span>
  <span class="token keyword control-flow">await</span> userEvent<span class="token punctuation">.</span><span class="token method function property-access">keyboard</span><span class="token punctuation">(</span><span class="token string">'{{a[['</span><span class="token punctuation">)</span> <span class="token comment">// translates to: {, a, [</span>
  <span class="token keyword control-flow">await</span> userEvent<span class="token punctuation">.</span><span class="token method function property-access">keyboard</span><span class="token punctuation">(</span><span class="token string">'{Shift}{f}{o}{o}'</span><span class="token punctuation">)</span> <span class="token comment">// translates to: Shift, f, o, o</span>
  <span class="token keyword control-flow">await</span> userEvent<span class="token punctuation">.</span><span class="token method function property-access">keyboard</span><span class="token punctuation">(</span><span class="token string">'{a>5}'</span><span class="token punctuation">)</span> <span class="token comment">// press a without releasing it and trigger 5 keydown</span>
  <span class="token keyword control-flow">await</span> userEvent<span class="token punctuation">.</span><span class="token method function property-access">keyboard</span><span class="token punctuation">(</span><span class="token string">'{a>5/}'</span><span class="token punctuation">)</span> <span class="token comment">// press a for 5 keydown and then release it</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>References:<ul><li><a href="https://playwright.dev/docs/api/class-keyboard">Playwright <code>Keyboard</code> API</a><li><a href="https://webdriver.io/docs/api/browser/action#key-input-source">WebdriverIO <code>action('key')</code> API</a><li><a href="https://testing-library.com/docs/user-event/utility/#type">testing-library <code>type</code> API</a></ul></section><section class="level2"aria-labelledby="usereventtab"><h2 id="usereventtab">userEvent.tab</h2><pre class="language-ts"><code class="language-ts"><span class="token keyword">function</span> <span class="token function">tab</span><span class="token punctuation">(</span>options<span class="token operator">?</span><span class="token operator">:</span> <span class="token maybe-class-name">UserEventTabOptions</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token known-class-name class-name">Promise</span><span class="token operator">&#x3C;</span><span class="token keyword">void</span><span class="token operator">></span></code></pre><p>Sends a <code>Tab</code> key event. This is a shorthand for <code>userEvent.keyboard('{tab}')</code>.<pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> page<span class="token punctuation">,</span> userEvent <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@vitest/browser/context'</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'tab works'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>input1<span class="token punctuation">,</span> input2<span class="token punctuation">]</span> <span class="token operator">=</span> page<span class="token punctuation">.</span><span class="token method function property-access">getByRole</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">elements</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token function">expect</span><span class="token punctuation">(</span>input1<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toHaveFocus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token keyword control-flow">await</span> userEvent<span class="token punctuation">.</span><span class="token method function property-access">tab</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token function">expect</span><span class="token punctuation">(</span>input2<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toHaveFocus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token keyword control-flow">await</span> userEvent<span class="token punctuation">.</span><span class="token method function property-access">tab</span><span class="token punctuation">(</span><span class="token punctuation">{</span> shift<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token function">expect</span><span class="token punctuation">(</span>input1<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toHaveFocus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>References:<ul><li><a href="https://playwright.dev/docs/api/class-keyboard">Playwright <code>Keyboard</code> API</a><li><a href="https://webdriver.io/docs/api/browser/action#key-input-source">WebdriverIO <code>action('key')</code> API</a><li><a href="https://testing-library.com/docs/user-event/convenience/#tab">testing-library <code>tab</code> API</a></ul></section><section class="level2"aria-labelledby="usereventtype"><h2 id="usereventtype">userEvent.type</h2><pre class="language-ts"><code class="language-ts"><span class="token keyword">function</span> <span class="token function">type</span><span class="token punctuation">(</span>
  element<span class="token operator">:</span> <span class="token maybe-class-name">Element</span> <span class="token operator">|</span> <span class="token maybe-class-name">Locator</span><span class="token punctuation">,</span>
  text<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  options<span class="token operator">?</span><span class="token operator">:</span> <span class="token maybe-class-name">UserEventTypeOptions</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token known-class-name class-name">Promise</span><span class="token operator">&#x3C;</span><span class="token keyword">void</span><span class="token operator">></span></code></pre><blockquote>If you don't rely on [special characters](https://testing-library.com/docs/user-event/keyboard) (e.g., `{shift}` or `{selectall}`), it is recommended to use [`userEvent.fill`](#userevent-fill) instead for better performance.</blockquote><p>The <code>type</code> method implements <code>@testing-library/user-event</code>'s <a href="https://testing-library.com/docs/user-event/utility/#type"><code>type</code></a> utility built on top of <a href="https://testing-library.com/docs/user-event/keyboard"><code>keyboard</code></a> API.<p>This function allows you to type characters into an input/textarea/conteneditable element. It supports <a href="https://testing-library.com/docs/user-event/keyboard">user-event <code>keyboard</code> syntax</a>.<p>If you just need to press characters without an input, use <a href="#userevent-keyboard"><code>userEvent.keyboard</code></a> API.<pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> page<span class="token punctuation">,</span> userEvent <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@vitest/browser/context'</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'update input'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> input <span class="token operator">=</span> page<span class="token punctuation">.</span><span class="token method function property-access">getByRole</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span>

  <span class="token keyword control-flow">await</span> userEvent<span class="token punctuation">.</span><span class="token method function property-access">type</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> <span class="token string">'foo'</span><span class="token punctuation">)</span> <span class="token comment">// input.value == foo</span>
  <span class="token keyword control-flow">await</span> userEvent<span class="token punctuation">.</span><span class="token method function property-access">type</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> <span class="token string">'{{a[['</span><span class="token punctuation">)</span> <span class="token comment">// input.value == foo{a[</span>
  <span class="token keyword control-flow">await</span> userEvent<span class="token punctuation">.</span><span class="token method function property-access">type</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> <span class="token string">'{Shift}'</span><span class="token punctuation">)</span> <span class="token comment">// input.value == foo{a[</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>info Vitest doesn't expose `.type` method on the locator like `input.type` because it exists only for compatiblity with the `userEvent` library. Consider using `.fill` instead as it is faster.<p>References:<ul><li><a href="https://playwright.dev/docs/api/class-locator#locator-press">Playwright <code>locator.press</code> API</a><li><a href="https://webdriver.io/docs/api/browser/action#key-input-source">WebdriverIO <code>action('key')</code> API</a><li><a href="https://testing-library.com/docs/user-event/utility/#type">testing-library <code>type</code> API</a></ul></section><section class="level2"aria-labelledby="usereventclear"><h2 id="usereventclear">userEvent.clear</h2><pre class="language-ts"><code class="language-ts"><span class="token keyword">function</span> <span class="token function">clear</span><span class="token punctuation">(</span>element<span class="token operator">:</span> <span class="token maybe-class-name">Element</span> <span class="token operator">|</span> <span class="token maybe-class-name">Locator</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token known-class-name class-name">Promise</span><span class="token operator">&#x3C;</span><span class="token keyword">void</span><span class="token operator">></span></code></pre><p>This method clears the input element content.<pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> page<span class="token punctuation">,</span> userEvent <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@vitest/browser/context'</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'clears input'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> input <span class="token operator">=</span> page<span class="token punctuation">.</span><span class="token method function property-access">getByRole</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span>

  <span class="token keyword control-flow">await</span> userEvent<span class="token punctuation">.</span><span class="token method function property-access">fill</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> <span class="token string">'foo'</span><span class="token punctuation">)</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toHaveValue</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span>

  <span class="token keyword control-flow">await</span> userEvent<span class="token punctuation">.</span><span class="token method function property-access">clear</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span>
  <span class="token comment">// or you can access it directly on the locator</span>
  <span class="token keyword control-flow">await</span> input<span class="token punctuation">.</span><span class="token method function property-access">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token function">expect</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toHaveValue</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>References:<ul><li><a href="https://playwright.dev/docs/api/class-locator#locator-clear">Playwright <code>locator.clear</code> API</a><li><a href="https://webdriver.io/docs/api/element/clearValue">WebdriverIO <code>element.clearValue</code> API</a><li><a href="https://testing-library.com/docs/user-event/utility/#clear">testing-library <code>clear</code> API</a></ul></section><section class="level2"aria-labelledby="usereventselectoptions"><h2 id="usereventselectoptions">userEvent.selectOptions</h2><pre class="language-ts"><code class="language-ts"><span class="token keyword">function</span> <span class="token function">selectOptions</span><span class="token punctuation">(</span>
  element<span class="token operator">:</span> <span class="token maybe-class-name">Element</span> <span class="token operator">|</span> <span class="token maybe-class-name">Locator</span><span class="token punctuation">,</span>
  values<span class="token operator">:</span>
    <span class="token operator">|</span> <span class="token maybe-class-name">HTMLElement</span>
    <span class="token operator">|</span> <span class="token maybe-class-name">HTMLElement</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token operator">|</span> <span class="token maybe-class-name">Locator</span>
    <span class="token operator">|</span> <span class="token maybe-class-name">Locator</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token operator">|</span> <span class="token builtin">string</span>
    <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  options<span class="token operator">?</span><span class="token operator">:</span> <span class="token maybe-class-name">UserEventSelectOptions</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token known-class-name class-name">Promise</span><span class="token operator">&#x3C;</span><span class="token keyword">void</span><span class="token operator">></span></code></pre><p>The <code>userEvent.selectOptions</code> allows selecting a value in a <code>&#x3C;select></code> element.<blockquote>If select element doesn't have [`multiple`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select#attr-multiple) attribute, Vitest will select only the first element in the array.<p>Unlike <code>@testing-library</code>, Vitest doesn't support <a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/listbox_role">listbox</a> at the moment, but we plan to add support for it in the future.</blockquote><pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> page<span class="token punctuation">,</span> userEvent <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@vitest/browser/context'</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'clears input'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> select <span class="token operator">=</span> page<span class="token punctuation">.</span><span class="token method function property-access">getByRole</span><span class="token punctuation">(</span><span class="token string">'select'</span><span class="token punctuation">)</span>

  <span class="token keyword control-flow">await</span> userEvent<span class="token punctuation">.</span><span class="token method function property-access">selectOptions</span><span class="token punctuation">(</span>select<span class="token punctuation">,</span> <span class="token string">'Option 1'</span><span class="token punctuation">)</span>
  <span class="token comment">// or you can access it directly on the locator</span>
  <span class="token keyword control-flow">await</span> select<span class="token punctuation">.</span><span class="token method function property-access">selectOptions</span><span class="token punctuation">(</span><span class="token string">'Option 1'</span><span class="token punctuation">)</span>

  <span class="token function">expect</span><span class="token punctuation">(</span>select<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toHaveValue</span><span class="token punctuation">(</span><span class="token string">'option-1'</span><span class="token punctuation">)</span>

  <span class="token keyword control-flow">await</span> userEvent<span class="token punctuation">.</span><span class="token method function property-access">selectOptions</span><span class="token punctuation">(</span>select<span class="token punctuation">,</span> <span class="token string">'option-1'</span><span class="token punctuation">)</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>select<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toHaveValue</span><span class="token punctuation">(</span><span class="token string">'option-1'</span><span class="token punctuation">)</span>

  <span class="token keyword control-flow">await</span> userEvent<span class="token punctuation">.</span><span class="token method function property-access">selectOptions</span><span class="token punctuation">(</span>select<span class="token punctuation">,</span> <span class="token punctuation">[</span>
    page<span class="token punctuation">.</span><span class="token method function property-access">getByRole</span><span class="token punctuation">(</span><span class="token string">'option'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'Option 1'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    page<span class="token punctuation">.</span><span class="token method function property-access">getByRole</span><span class="token punctuation">(</span><span class="token string">'option'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'Option 2'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>select<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toHaveValue</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'option-1'</span><span class="token punctuation">,</span> <span class="token string">'option-2'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><blockquote>`webdriverio` provider doesn't support selecting multiple elements because it doesn't provide API to do so.</blockquote><p>References:<ul><li><a href="https://playwright.dev/docs/api/class-locator#locator-select-option">Playwright <code>locator.selectOption</code> API</a><li><a href="https://webdriver.io/docs/api/element/selectByIndex">WebdriverIO <code>element.selectByIndex</code> API</a><li><a href="https://testing-library.com/docs/user-event/utility/#-selectoptions-deselectoptions">testing-library <code>selectOptions</code> API</a></ul></section><section class="level2"aria-labelledby="usereventhover"><h2 id="usereventhover">userEvent.hover</h2><pre class="language-ts"><code class="language-ts"><span class="token keyword">function</span> <span class="token function">hover</span><span class="token punctuation">(</span>
  element<span class="token operator">:</span> <span class="token maybe-class-name">Element</span> <span class="token operator">|</span> <span class="token maybe-class-name">Locator</span><span class="token punctuation">,</span>
  options<span class="token operator">?</span><span class="token operator">:</span> <span class="token maybe-class-name">UserEventHoverOptions</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token known-class-name class-name">Promise</span><span class="token operator">&#x3C;</span><span class="token keyword">void</span><span class="token operator">></span></code></pre><p>This method moves the cursor position to the selected element. Please refer to your provider's documentation for detailed explanation about how this method works.<blockquote>If you are using `webdriverio` provider, the cursor will move to the center of the element by default.<p>If you are using <code>playwright</code> provider, the cursor moves to "some" visible point of the element.</blockquote><pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> page<span class="token punctuation">,</span> userEvent <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@vitest/browser/context'</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'hovers logo element'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> logo <span class="token operator">=</span> page<span class="token punctuation">.</span><span class="token method function property-access">getByRole</span><span class="token punctuation">(</span><span class="token string">'img'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">logo</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token keyword control-flow">await</span> userEvent<span class="token punctuation">.</span><span class="token method function property-access">hover</span><span class="token punctuation">(</span>logo<span class="token punctuation">)</span>
  <span class="token comment">// or you can access it directly on the locator</span>
  <span class="token keyword control-flow">await</span> logo<span class="token punctuation">.</span><span class="token method function property-access">hover</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>References:<ul><li><a href="https://playwright.dev/docs/api/class-locator#locator-hover">Playwright <code>locator.hover</code> API</a><li><a href="https://webdriver.io/docs/api/element/moveTo/">WebdriverIO <code>element.moveTo</code> API</a><li><a href="https://testing-library.com/docs/user-event/convenience/#hover">testing-library <code>hover</code> API</a></ul></section><section class="level2"aria-labelledby="usereventunhover"><h2 id="usereventunhover">userEvent.unhover</h2><pre class="language-ts"><code class="language-ts"><span class="token keyword">function</span> <span class="token function">unhover</span><span class="token punctuation">(</span>
  element<span class="token operator">:</span> <span class="token maybe-class-name">Element</span> <span class="token operator">|</span> <span class="token maybe-class-name">Locator</span><span class="token punctuation">,</span>
  options<span class="token operator">?</span><span class="token operator">:</span> <span class="token maybe-class-name">UserEventHoverOptions</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token known-class-name class-name">Promise</span><span class="token operator">&#x3C;</span><span class="token keyword">void</span><span class="token operator">></span></code></pre><p>This works the same as <a href="#userevent-hover"><code>userEvent.hover</code></a>, but moves the cursor to the <code>document.body</code> element instead.<blockquote>By default, the cursor position is in "some" visible place (in `playwright` provider) or in the center (in `webdriverio` provider) of the body element, so if the currently hovered element is already in the same position, this method will have no effect.</blockquote><pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> page<span class="token punctuation">,</span> userEvent <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@vitest/browser/context'</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'unhover logo element'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> logo <span class="token operator">=</span> page<span class="token punctuation">.</span><span class="token method function property-access">getByRole</span><span class="token punctuation">(</span><span class="token string">'img'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">logo</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token keyword control-flow">await</span> userEvent<span class="token punctuation">.</span><span class="token method function property-access">unhover</span><span class="token punctuation">(</span>logo<span class="token punctuation">)</span>
  <span class="token comment">// or you can access it directly on the locator</span>
  <span class="token keyword control-flow">await</span> logo<span class="token punctuation">.</span><span class="token method function property-access">unhover</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>References:<ul><li><a href="https://playwright.dev/docs/api/class-locator#locator-hover">Playwright <code>locator.hover</code> API</a><li><a href="https://webdriver.io/docs/api/element/moveTo/">WebdriverIO <code>element.moveTo</code> API</a><li><a href="https://testing-library.com/docs/user-event/convenience/#hover">testing-library <code>hover</code> API</a></ul></section><section class="level2"aria-labelledby="usereventupload"><h2 id="usereventupload">userEvent.upload</h2><pre class="language-ts"><code class="language-ts"><span class="token keyword">function</span> <span class="token function">upload</span><span class="token punctuation">(</span>
  element<span class="token operator">:</span> <span class="token maybe-class-name">Element</span> <span class="token operator">|</span> <span class="token maybe-class-name">Locator</span><span class="token punctuation">,</span>
  files<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token maybe-class-name">File</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token maybe-class-name">File</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token known-class-name class-name">Promise</span><span class="token operator">&#x3C;</span><span class="token keyword">void</span><span class="token operator">></span></code></pre><p>Change a file input element to have the specified files.<pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> page<span class="token punctuation">,</span> userEvent <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@vitest/browser/context'</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'can upload a file'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> input <span class="token operator">=</span> page<span class="token punctuation">.</span><span class="token method function property-access">getByRole</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">Upload files</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token keyword">const</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token maybe-class-name">File</span></span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'file'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'file.png'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">'image/png'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token keyword control-flow">await</span> userEvent<span class="token punctuation">.</span><span class="token method function property-access">upload</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> file<span class="token punctuation">)</span>
  <span class="token comment">// or you can access it directly on the locator</span>
  <span class="token keyword control-flow">await</span> input<span class="token punctuation">.</span><span class="token method function property-access">upload</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span>

  <span class="token comment">// you can also use file paths relative to the test file</span>
  <span class="token keyword control-flow">await</span> userEvent<span class="token punctuation">.</span><span class="token method function property-access">upload</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> <span class="token string">'../fixtures/file.png'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><blockquote>`webdriverio` provider supports this command only in `chrome` and `edge` browsers. It also only supports string types at the moment.</blockquote><p>References:<ul><li><a href="https://playwright.dev/docs/api/class-locator#locator-set-input-files">Playwright <code>locator.setInputFiles</code> API</a><li><a href="https://webdriver.io/docs/api/browser/uploadFile">WebdriverIO <code>browser.uploadFile</code> API</a><li><a href="https://testing-library.com/docs/user-event/utility/#upload">testing-library <code>upload</code> API</a></ul></section><section class="level2"aria-labelledby="usereventdraganddrop"><h2 id="usereventdraganddrop">userEvent.dragAndDrop</h2><pre class="language-ts"><code class="language-ts"><span class="token keyword">function</span> <span class="token function">dragAndDrop</span><span class="token punctuation">(</span>
  source<span class="token operator">:</span> <span class="token maybe-class-name">Element</span> <span class="token operator">|</span> <span class="token maybe-class-name">Locator</span><span class="token punctuation">,</span>
  target<span class="token operator">:</span> <span class="token maybe-class-name">Element</span> <span class="token operator">|</span> <span class="token maybe-class-name">Locator</span><span class="token punctuation">,</span>
  options<span class="token operator">?</span><span class="token operator">:</span> <span class="token maybe-class-name">UserEventDragAndDropOptions</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token known-class-name class-name">Promise</span><span class="token operator">&#x3C;</span><span class="token keyword">void</span><span class="token operator">></span></code></pre><p>Drags the source element on top of the target element. Don't forget that the <code>source</code> element has to have the <code>draggable</code> attribute set to <code>true</code>.<pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> page<span class="token punctuation">,</span> userEvent <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@vitest/browser/context'</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'drag and drop works'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> source <span class="token operator">=</span> page<span class="token punctuation">.</span><span class="token method function property-access">getByRole</span><span class="token punctuation">(</span><span class="token string">'img'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">logo</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> target <span class="token operator">=</span> page<span class="token punctuation">.</span><span class="token method function property-access">getByTestId</span><span class="token punctuation">(</span><span class="token string">'logo-target'</span><span class="token punctuation">)</span>

  <span class="token keyword control-flow">await</span> userEvent<span class="token punctuation">.</span><span class="token method function property-access">dragAndDrop</span><span class="token punctuation">(</span>source<span class="token punctuation">,</span> target<span class="token punctuation">)</span>
  <span class="token comment">// or you can access it directly on the locator</span>
  <span class="token keyword control-flow">await</span> source<span class="token punctuation">.</span><span class="token method function property-access">dropTo</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span>

  <span class="token keyword control-flow">await</span> expect<span class="token punctuation">.</span><span class="token method function property-access">element</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toHaveTextContent</span><span class="token punctuation">(</span><span class="token string">'Logo is processed'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><blockquote>This API is not supported by the default `preview` provider.</blockquote><p>References:<ul><li><a href="https://playwright.dev/docs/api/class-frame#frame-drag-and-drop">Playwright <code>frame.dragAndDrop</code> API</a><li><a href="https://webdriver.io/docs/api/element/dragAndDrop/">WebdriverIO <code>element.dragAndDrop</code> API</a> <span style="float:footnote"><a href="../../index.html#toc">Go to TOC</a></span></ul></section></section>