<!doctype html><html lang="en"><meta charset="utf-8"><title>Extending Reporters</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"type="text/css"href="../../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="extending-reporters"><h1 id="extending-reporters">Extending Reporters</h1><p>You can import reporters from <code>vitest/reporters</code> and extend them to create your custom reporters.<section class="level2"aria-labelledby="extending-built-in-reporters"><h2 id="extending-built-in-reporters">Extending Built-in Reporters</h2><p>In general, you don't need to create your reporter from scratch. <code>vitest</code> comes with several default reporting programs that you can extend.<pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">DefaultReporter</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vitest/reporters'</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">class</span> <span class="token class-name"><span class="token maybe-class-name">MyDefaultReporter</span></span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token maybe-class-name">DefaultReporter</span></span> <span class="token punctuation">{</span>
  <span class="token comment">// do something</span>
<span class="token punctuation">}</span></code></pre><p>Of course, you can create your reporter from scratch. Just extend the <code>BaseReporter</code> class and implement the methods you need.<p>And here is an example of a custom reporter:<pre class="language-ts"><code class="language-ts"><span class="token comment">// ./custom-reporter.js</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">BaseReporter</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vitest/reporters'</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">class</span> <span class="token class-name"><span class="token maybe-class-name">CustomReporter</span></span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token maybe-class-name">BaseReporter</span></span> <span class="token punctuation">{</span>
  <span class="token function">onCollected</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> files <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">ctx</span><span class="token punctuation">.</span><span class="token property-access">state</span><span class="token punctuation">.</span><span class="token method function property-access">getFiles</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">watchFilters</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">reportTestSummary</span><span class="token punctuation">(</span>files<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p>Or implement the <code>Reporter</code> interface:<pre class="language-ts"><code class="language-ts"><span class="token comment">// ./custom-reporter.js</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Reporter</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vitest/reporters'</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">class</span> <span class="token class-name"><span class="token maybe-class-name">CustomReporter</span></span> <span class="token keyword">implements</span> <span class="token class-name"><span class="token maybe-class-name">Reporter</span></span> <span class="token punctuation">{</span>
  <span class="token function">onCollected</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// print something</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p>Then you can use your custom reporter in the <code>vitest.config.ts</code> file:<pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vitest/config'</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">CustomReporter</span></span> <span class="token keyword module">from</span> <span class="token string">'./custom-reporter.js'</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  test<span class="token operator">:</span> <span class="token punctuation">{</span>
    reporters<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name"><span class="token maybe-class-name">CustomReporter</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></section><section class="level2"aria-labelledby="reported-tasks"><h2 id="reported-tasks">Reported Tasks</h2><blockquote>This is an experimental API. Breaking changes might not follow SemVer. Please pin Vitest's version when using it.<p>You can get access to this API by calling <code>vitest.state.getReportedEntity(runnerTask)</code>:<pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> <span class="token maybe-class-name">Vitest</span> <span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">'vitest/node'</span>
<span class="token keyword module">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> <span class="token maybe-class-name">RunnerTestFile</span> <span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">'vitest'</span>
<span class="token keyword module">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> <span class="token maybe-class-name">Reporter</span><span class="token punctuation">,</span> <span class="token maybe-class-name">TestModule</span> <span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">'vitest/reporters'</span>

<span class="token keyword">class</span> <span class="token class-name"><span class="token maybe-class-name">MyReporter</span></span> <span class="token keyword">implements</span> <span class="token class-name"><span class="token maybe-class-name">Reporter</span></span> <span class="token punctuation">{</span>
  ctx<span class="token operator">!</span><span class="token operator">:</span> <span class="token maybe-class-name">Vitest</span>

  <span class="token function">onInit</span><span class="token punctuation">(</span>ctx<span class="token operator">:</span> <span class="token maybe-class-name">Vitest</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">ctx</span> <span class="token operator">=</span> ctx
  <span class="token punctuation">}</span>

  <span class="token function">onFinished</span><span class="token punctuation">(</span>files<span class="token operator">:</span> <span class="token maybe-class-name">RunnerTestFile</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> fileTask <span class="token keyword">of</span> files<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// note that the old task implementation uses "file" instead of "module"</span>
      <span class="token keyword">const</span> testModule <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">ctx</span><span class="token punctuation">.</span><span class="token property-access">state</span><span class="token punctuation">.</span><span class="token method function property-access">getReportedEntity</span><span class="token punctuation">(</span>fileTask<span class="token punctuation">)</span> <span class="token keyword module">as</span> <span class="token maybe-class-name">TestModule</span>
      <span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> task <span class="token keyword">of</span> testModule<span class="token punctuation">.</span><span class="token property-access">children</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//                          ^?</span>
        <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'finished'</span><span class="token punctuation">,</span> task<span class="token punctuation">.</span><span class="token property-access">type</span><span class="token punctuation">,</span> task<span class="token punctuation">.</span><span class="token property-access">fullName</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p>We are planning to stabilize this API in Vitest 2.1.</blockquote><section class="level3"aria-labelledby="testcase"><h3 id="testcase">TestCase</h3><p><code>TestCase</code> represents a single test.<pre class="language-ts"><code class="language-ts"><span class="token keyword">declare</span> <span class="token keyword">class</span> <span class="token class-name"><span class="token maybe-class-name">TestCase</span></span> <span class="token punctuation">{</span>
  <span class="token keyword">readonly</span> type <span class="token operator">=</span> <span class="token string">'test'</span> <span class="token operator">|</span> <span class="token string">'custom'</span>
  <span class="token doc-comment comment">/**
   * Task instance.
   * <span class="token keyword">@experimental</span> Public task API is experimental and does not follow semver.
   */</span>
  <span class="token keyword">readonly</span> task<span class="token operator">:</span> <span class="token maybe-class-name">RunnerTestCase</span> <span class="token operator">|</span> <span class="token maybe-class-name">RunnerCustomCase</span>
  <span class="token doc-comment comment">/**
   * The project associated with the test.
   */</span>
  <span class="token keyword">readonly</span> project<span class="token operator">:</span> <span class="token maybe-class-name">TestProject</span>
  <span class="token doc-comment comment">/**
   * Direct reference to the test module where the test is defined.
   */</span>
  <span class="token keyword">readonly</span> module<span class="token operator">:</span> <span class="token maybe-class-name">TestModule</span>
  <span class="token doc-comment comment">/**
   * Name of the test.
   */</span>
  <span class="token keyword">readonly</span> name<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token doc-comment comment">/**
   * Full name of the test including all parent suites separated with `>`.
   */</span>
  <span class="token keyword">readonly</span> fullName<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token doc-comment comment">/**
   * Unique identifier.
   * This ID is deterministic and will be the same for the same test across multiple runs.
   * The ID is based on the project name, module id and test position.
   */</span>
  <span class="token keyword">readonly</span> id<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token doc-comment comment">/**
   * Location in the module where the test was defined.
   * Locations are collected only if `includeTaskLocation` is enabled in the config.
   */</span>
  <span class="token keyword">readonly</span> <span class="token dom variable">location</span><span class="token operator">:</span> <span class="token punctuation">{</span> line<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> column<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span> <span class="token operator">|</span> <span class="token keyword nil">undefined</span>
  <span class="token doc-comment comment">/**
   * Parent suite. If the test was called directly inside the module, the parent will be the module itself.
   */</span>
  <span class="token keyword">readonly</span> parent<span class="token operator">:</span> <span class="token maybe-class-name">TestSuite</span> <span class="token operator">|</span> <span class="token maybe-class-name">TestModule</span>
  <span class="token doc-comment comment">/**
   * Options that test was initiated with.
   */</span>
  <span class="token keyword">readonly</span> options<span class="token operator">:</span> <span class="token maybe-class-name">TaskOptions</span>
  <span class="token doc-comment comment">/**
   * Checks if the test did not fail the suite.
   * If the test is not finished yet or was skipped, it will return `true`.
   */</span>
  <span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span>
  <span class="token doc-comment comment">/**
   * Custom metadata that was attached to the test during its execution.
   */</span>
  <span class="token function">meta</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token maybe-class-name">TaskMeta</span>
  <span class="token doc-comment comment">/**
   * Test results. Will be `undefined` if test is not finished yet or was just collected.
   */</span>
  <span class="token function">result</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token maybe-class-name">TestResult</span> <span class="token operator">|</span> <span class="token keyword nil">undefined</span>
  <span class="token doc-comment comment">/**
   * Useful information about the test like duration, memory usage, etc.
   */</span>
  <span class="token function">diagnostic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token maybe-class-name">TestDiagnostic</span> <span class="token operator">|</span> <span class="token keyword nil">undefined</span>
<span class="token punctuation">}</span>

<span class="token keyword module">export</span> <span class="token keyword">type</span> <span class="token class-name"><span class="token maybe-class-name">TestResult</span></span> <span class="token operator">=</span> <span class="token maybe-class-name">TestResultPassed</span> <span class="token operator">|</span> <span class="token maybe-class-name">TestResultFailed</span> <span class="token operator">|</span> <span class="token maybe-class-name">TestResultSkipped</span>

<span class="token keyword module">export</span> <span class="token keyword">interface</span> <span class="token class-name"><span class="token maybe-class-name">TestResultPassed</span></span> <span class="token punctuation">{</span>
  <span class="token doc-comment comment">/**
   * The test passed successfully.
   */</span>
  state<span class="token operator">:</span> <span class="token string">'passed'</span>
  <span class="token doc-comment comment">/**
   * Errors that were thrown during the test execution.
   *
   * **Note**: If test was retried successfully, errors will still be reported.

   */</span>
  errors<span class="token operator">:</span> <span class="token known-class-name class-name">TestError</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token keyword nil">undefined</span>
<span class="token punctuation">}</span>

<span class="token keyword module">export</span> <span class="token keyword">interface</span> <span class="token class-name"><span class="token maybe-class-name">TestResultFailed</span></span> <span class="token punctuation">{</span>
  <span class="token doc-comment comment">/**
   * The test failed to execute.
   */</span>
  state<span class="token operator">:</span> <span class="token string">'failed'</span>
  <span class="token doc-comment comment">/**
   * Errors that were thrown during the test execution.
   */</span>
  errors<span class="token operator">:</span> <span class="token known-class-name class-name">TestError</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword module">export</span> <span class="token keyword">interface</span> <span class="token class-name"><span class="token maybe-class-name">TestResultSkipped</span></span> <span class="token punctuation">{</span>
  <span class="token doc-comment comment">/**
   * The test was skipped with `only`, `skip` or `todo` flag.
   * You can see which one was used in the `mode` option.
   */</span>
  state<span class="token operator">:</span> <span class="token string">'skipped'</span>
  <span class="token doc-comment comment">/**
   * Skipped tests have no errors.
   */</span>
  errors<span class="token operator">:</span> <span class="token keyword nil">undefined</span>
<span class="token punctuation">}</span>

<span class="token keyword module">export</span> <span class="token keyword">interface</span> <span class="token class-name"><span class="token maybe-class-name">TestDiagnostic</span></span> <span class="token punctuation">{</span>
  <span class="token doc-comment comment">/**
   * The amount of memory used by the test in bytes.
   * This value is only available if the test was executed with `logHeapUsage` flag.
   */</span>
  heap<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token keyword nil">undefined</span>
  <span class="token doc-comment comment">/**
   * The time it takes to execute the test in ms.
   */</span>
  duration<span class="token operator">:</span> <span class="token builtin">number</span>
  <span class="token doc-comment comment">/**
   * The time in ms when the test started.
   */</span>
  startTime<span class="token operator">:</span> <span class="token builtin">number</span>
  <span class="token doc-comment comment">/**
   * The amount of times the test was retried.
   */</span>
  retryCount<span class="token operator">:</span> <span class="token builtin">number</span>
  <span class="token doc-comment comment">/**
   * The amount of times the test was repeated as configured by `repeats` option.
   * This value can be lower if the test failed during the repeat and no `retry` is configured.
   */</span>
  repeatCount<span class="token operator">:</span> <span class="token builtin">number</span>
  <span class="token doc-comment comment">/**
   * If test passed on a second retry.
   */</span>
  flaky<span class="token operator">:</span> <span class="token builtin">boolean</span>
<span class="token punctuation">}</span></code></pre></section><section class="level3"aria-labelledby="testsuite"><h3 id="testsuite">TestSuite</h3><p><code>TestSuite</code> represents a single suite that contains tests and other suites.<pre class="language-ts"><code class="language-ts"><span class="token keyword">declare</span> <span class="token keyword">class</span> <span class="token class-name"><span class="token maybe-class-name">TestSuite</span></span> <span class="token punctuation">{</span>
  <span class="token keyword">readonly</span> type <span class="token operator">=</span> <span class="token string">'suite'</span>
  <span class="token doc-comment comment">/**
   * Task instance.
   * <span class="token keyword">@experimental</span> Public task API is experimental and does not follow semver.
   */</span>
  <span class="token keyword">readonly</span> task<span class="token operator">:</span> <span class="token maybe-class-name">RunnerTestSuite</span>
  <span class="token doc-comment comment">/**
   * The project associated with the test.
   */</span>
  <span class="token keyword">readonly</span> project<span class="token operator">:</span> <span class="token maybe-class-name">TestProject</span>
  <span class="token doc-comment comment">/**
   * Direct reference to the test module where the suite is defined.
   */</span>
  <span class="token keyword">readonly</span> module<span class="token operator">:</span> <span class="token maybe-class-name">TestModule</span>
  <span class="token doc-comment comment">/**
   * Name of the suite.
   */</span>
  <span class="token keyword">readonly</span> name<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token doc-comment comment">/**
   * Full name of the suite including all parent suites separated with `>`.
   */</span>
  <span class="token keyword">readonly</span> fullName<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token doc-comment comment">/**
   * Unique identifier.
   * This ID is deterministic and will be the same for the same test across multiple runs.
   * The ID is based on the project name, module id and test position.
   */</span>
  <span class="token keyword">readonly</span> id<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token doc-comment comment">/**
   * Location in the module where the suite was defined.
   * Locations are collected only if `includeTaskLocation` is enabled in the config.
   */</span>
  <span class="token keyword">readonly</span> <span class="token dom variable">location</span><span class="token operator">:</span> <span class="token punctuation">{</span> line<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> column<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span> <span class="token operator">|</span> <span class="token keyword nil">undefined</span>
  <span class="token doc-comment comment">/**
   * Collection of suites and tests that are part of this suite.
   */</span>
  <span class="token keyword">readonly</span> children<span class="token operator">:</span> <span class="token maybe-class-name">TaskCollection</span>
  <span class="token doc-comment comment">/**
   * Options that the suite was initiated with.
   */</span>
  <span class="token keyword">readonly</span> options<span class="token operator">:</span> <span class="token maybe-class-name">TaskOptions</span>
<span class="token punctuation">}</span></code></pre></section><section class="level3"aria-labelledby="testmodule"><h3 id="testmodule">TestModule</h3><p><code>TestModule</code> represents a single file that contains suites and tests.<pre class="language-ts"><code class="language-ts"><span class="token keyword">declare</span> <span class="token keyword">class</span> <span class="token class-name"><span class="token maybe-class-name">TestModule</span></span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token maybe-class-name">SuiteImplementation</span></span> <span class="token punctuation">{</span>
  <span class="token keyword">readonly</span> type <span class="token operator">=</span> <span class="token string">'module'</span>
  <span class="token doc-comment comment">/**
   * Task instance.
   * <span class="token keyword">@experimental</span> Public task API is experimental and does not follow semver.
   */</span>
  <span class="token keyword">readonly</span> task<span class="token operator">:</span> <span class="token maybe-class-name">RunnerTestFile</span>
  <span class="token doc-comment comment">/**
   * Collection of suites and tests that are part of this module.
   */</span>
  <span class="token keyword">readonly</span> children<span class="token operator">:</span> <span class="token maybe-class-name">TestCollection</span>
  <span class="token doc-comment comment">/**
   * This is usually an absolute Unix file path.
   * It can be a virtual id if the file is not on the disk.
   * This value corresponds to Vite's `ModuleGraph` id.
   */</span>
  <span class="token keyword">readonly</span> moduleId<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token doc-comment comment">/**
   * Useful information about the module like duration, memory usage, etc.
   * If the module was not executed yet, all diagnostic values will return `0`.
   */</span>
  <span class="token function">diagnostic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token maybe-class-name">ModuleDiagnostic</span>
<span class="token punctuation">}</span>

<span class="token keyword module">export</span> <span class="token keyword">interface</span> <span class="token class-name"><span class="token maybe-class-name">ModuleDiagnostic</span></span> <span class="token punctuation">{</span>
  <span class="token doc-comment comment">/**
   * The time it takes to import and initiate an environment.
   */</span>
  environmentSetupDuration<span class="token operator">:</span> <span class="token builtin">number</span>
  <span class="token doc-comment comment">/**
   * The time it takes Vitest to setup test harness (runner, mocks, etc.).
   */</span>
  prepareDuration<span class="token operator">:</span> <span class="token builtin">number</span>
  <span class="token doc-comment comment">/**
   * The time it takes to import the test module.
   * This includes importing everything in the module and executing suite callbacks.
   */</span>
  collectDuration<span class="token operator">:</span> <span class="token builtin">number</span>
  <span class="token doc-comment comment">/**
   * The time it takes to import the setup module.
   */</span>
  setupDuration<span class="token operator">:</span> <span class="token builtin">number</span>
  <span class="token doc-comment comment">/**
   * Accumulated duration of all tests and hooks in the module.
   */</span>
  duration<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span></code></pre></section><section class="level3"aria-labelledby="testcollection"><h3 id="testcollection">TestCollection</h3><p><code>TestCollection</code> represents a collection of suites and tests. It also provides useful methods to iterate over itself.<pre class="language-ts"><code class="language-ts"><span class="token keyword">declare</span> <span class="token keyword">class</span> <span class="token class-name"><span class="token maybe-class-name">TestCollection</span></span> <span class="token punctuation">{</span>
  <span class="token doc-comment comment">/**
   * Returns the test or suite at a specific index in the array.
   */</span>
  <span class="token function">at</span><span class="token punctuation">(</span>index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token maybe-class-name">TestCase</span> <span class="token operator">|</span> <span class="token maybe-class-name">TestSuite</span> <span class="token operator">|</span> <span class="token keyword nil">undefined</span>
  <span class="token doc-comment comment">/**
   * The number of tests and suites in the collection.
   */</span>
  size<span class="token operator">:</span> <span class="token builtin">number</span>
  <span class="token doc-comment comment">/**
   * Returns the collection in array form for easier manipulation.
   */</span>
  <span class="token function">array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token maybe-class-name">TestCase</span> <span class="token operator">|</span> <span class="token maybe-class-name">TestSuite</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token doc-comment comment">/**
   * Filters all suites that are part of this collection and its children.
   */</span>
  <span class="token function">allSuites</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token maybe-class-name">IterableIterator</span><span class="token operator">&#x3C;</span><span class="token maybe-class-name">TestSuite</span><span class="token operator">></span>
  <span class="token doc-comment comment">/**
   * Filters all tests that are part of this collection and its children.
   */</span>
  <span class="token function">allTests</span><span class="token punctuation">(</span>state<span class="token operator">?</span><span class="token operator">:</span> <span class="token maybe-class-name">TestResult</span><span class="token punctuation">[</span><span class="token string">'state'</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token string">'running'</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token maybe-class-name">IterableIterator</span><span class="token operator">&#x3C;</span><span class="token maybe-class-name">TestCase</span><span class="token operator">></span>
  <span class="token doc-comment comment">/**
   * Filters only the tests that are part of this collection.
   */</span>
  <span class="token function">tests</span><span class="token punctuation">(</span>state<span class="token operator">?</span><span class="token operator">:</span> <span class="token maybe-class-name">TestResult</span><span class="token punctuation">[</span><span class="token string">'state'</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token string">'running'</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token maybe-class-name">IterableIterator</span><span class="token operator">&#x3C;</span><span class="token maybe-class-name">TestCase</span><span class="token operator">></span>
  <span class="token doc-comment comment">/**
   * Filters only the suites that are part of this collection.
   */</span>
  <span class="token function">suites</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token maybe-class-name">IterableIterator</span><span class="token operator">&#x3C;</span><span class="token maybe-class-name">TestSuite</span><span class="token operator">></span><span class="token punctuation">;</span>
  <span class="token punctuation">[</span><span class="token known-class-name class-name">Symbol</span><span class="token punctuation">.</span><span class="token property-access">iterator</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token maybe-class-name">IterableIterator</span><span class="token operator">&#x3C;</span><span class="token maybe-class-name">TestSuite</span> <span class="token operator">|</span> <span class="token maybe-class-name">TestCase</span><span class="token operator">></span>
<span class="token punctuation">}</span></code></pre><p>For example, you can iterate over all tests inside a module by calling <code>testModule.children.allTests()</code>:<pre class="language-ts"><code class="language-ts"><span class="token keyword">function</span> <span class="token function">onFileCollected</span><span class="token punctuation">(</span>testModule<span class="token operator">:</span> <span class="token maybe-class-name">TestModule</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'collecting tests in'</span><span class="token punctuation">,</span> testModule<span class="token punctuation">.</span><span class="token property-access">moduleId</span><span class="token punctuation">)</span>

  <span class="token comment">// iterate over all tests and suites in the module</span>
  <span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> task <span class="token keyword">of</span> testModule<span class="token punctuation">.</span><span class="token property-access">children</span><span class="token punctuation">.</span><span class="token method function property-access">allTests</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'collected'</span><span class="token punctuation">,</span> task<span class="token punctuation">.</span><span class="token property-access">type</span><span class="token punctuation">,</span> task<span class="token punctuation">.</span><span class="token property-access">fullName</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></section><section class="level3"aria-labelledby="testproject"><h3 id="testproject">TestProject</h3><p><code>TestProject</code> is a project assosiated with the module. Every test and suite inside that module will reference the same project.<p>Project is useful to get the configuration or provided context.<pre class="language-ts"><code class="language-ts"><span class="token keyword">declare</span> <span class="token keyword">class</span> <span class="token class-name"><span class="token maybe-class-name">TestProject</span></span> <span class="token punctuation">{</span>
  <span class="token doc-comment comment">/**
   * The global vitest instance.
   * <span class="token keyword">@experimental</span> The public Vitest API is experimental and does not follow semver.
   */</span>
  <span class="token keyword">readonly</span> vitest<span class="token operator">:</span> <span class="token maybe-class-name">Vitest</span>
  <span class="token doc-comment comment">/**
   * The workspace project this test project is associated with.
   * <span class="token keyword">@experimental</span> The public Vitest API is experimental and does not follow semver.
   */</span>
  <span class="token keyword">readonly</span> workspaceProject<span class="token operator">:</span> <span class="token maybe-class-name">WorkspaceProject</span>
  <span class="token doc-comment comment">/**
   * Resolved project configuration.
   */</span>
  <span class="token keyword">readonly</span> config<span class="token operator">:</span> <span class="token maybe-class-name">ResolvedProjectConfig</span>
  <span class="token doc-comment comment">/**
   * Resolved global configuration. If there are no workspace projects, this will be the same as `config`.
   */</span>
  <span class="token keyword">readonly</span> globalConfig<span class="token operator">:</span> <span class="token maybe-class-name">ResolvedConfig</span>
  <span class="token doc-comment comment">/**
   * Serialized project configuration. This is the config that tests receive.
   */</span>
  <span class="token keyword">get</span> <span class="token function">serializedConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token maybe-class-name">SerializedConfig</span>
  <span class="token doc-comment comment">/**
   * The name of the project or an empty string if not set.
   */</span>
  <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token doc-comment comment">/**
   * Custom context provided to the project.
   */</span>
  <span class="token function">context</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token maybe-class-name">ProvidedContext</span>
  <span class="token doc-comment comment">/**
   * Provide a custom serializable context to the project. This context will be available for tests once they run.
   */</span>
  <span class="token generic-function"><span class="token function">provide</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token maybe-class-name">ProvidedContext</span> <span class="token operator">&#x26;</span> <span class="token builtin">string</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token maybe-class-name">ProvidedContext</span><span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
<span class="token punctuation">}</span></code></pre></section></section><section class="level2"aria-labelledby="exported-reporters"><h2 id="exported-reporters">Exported Reporters</h2><p><code>vitest</code> comes with a few <a href="/guide/reporters">built-in reporters</a> that you can use out of the box.<section class="level3"aria-labelledby="built-in-reporters"><h3 id="built-in-reporters">Built-in reporters:</h3><ol><li><code>BasicReporter</code><li><code>DefaultReporter</code><li><code>DotReporter</code><li><code>JsonReporter</code><li><code>VerboseReporter</code><li><code>TapReporter</code><li><code>JUnitReporter</code><li><code>TapFlatReporter</code><li><code>HangingProcessReporter</code></ol></section><section class="level3"aria-labelledby="base-abstract-reporters"><h3 id="base-abstract-reporters">Base Abstract reporters:</h3><ol><li><code>BaseReporter</code></ol></section><section class="level3"aria-labelledby="interface-reporters"><h3 id="interface-reporters">Interface reporters:</h3><ol><li><code>Reporter</code> <span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></ol></section></section></section>