<!doctype html><html lang="cn"><meta charset="utf-8"><title>expectTypeOf</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"href="../../../../../../Vivliostyle/read-html-download-pdf/docs/themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="expecttypeof"><h1 id="expecttypeof">expectTypeOf</h1><ul><li><strong>类型:</strong> <code>&#x3C;T>(a: unknown) => ExpectTypeOf</code></ul><section class="level2"aria-labelledby="not"><h2 id="not">not</h2><ul><li><p><strong>类型:</strong> <code>ExpectTypeOf</code><p>你可以使用 <code>.not</code> 属性否定所有断言。</ul></section><section class="level2"aria-labelledby="toequaltypeof"><h2 id="toequaltypeof">toEqualTypeOf</h2><ul><li><p><strong>类型:</strong> <code>&#x3C;T>(expected: T) => void</code><p>该匹配器将检查类型是否完全相同。如果两个对象具有不同的值但类型相同，则此匹配器不会失败。但是，如果对象缺少属性，它将失败。</ul><pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> expectTypeOf <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vitest'</span>

<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token generic-function"><span class="token function">toEqualTypeOf</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toEqualTypeOf</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toEqualTypeOf</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">not</span><span class="token punctuation">.</span><span class="token generic-function"><span class="token function">toEqualTypeOf</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></section><section class="level2"aria-labelledby="tomatchtypeof"><h2 id="tomatchtypeof">toMatchTypeOf</h2><ul><li><p><strong>类型:</strong> <code>&#x3C;T>(expected: T) => void</code><p>此匹配器检查期望类型是否扩展了提供的类型。它不同于 <code>toEqual</code>，更类似于 <a href="/api/expect">expect's</a> <code>toMatchObject()</code>。使用此匹配器，你可以检查对象是否“匹配”类型。</ul><pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> expectTypeOf <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vitest'</span>

<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toMatchTypeOf</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token generic-function"><span class="token function">expectTypeOf</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token builtin">number</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token generic-function"><span class="token function">toMatchTypeOf</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token generic-function"><span class="token function">expectTypeOf</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">not</span><span class="token punctuation">.</span><span class="token generic-function"><span class="token function">toMatchTypeOf</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token builtin">number</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></section><section class="level2"aria-labelledby="extract"><h2 id="extract">extract</h2><ul><li><p><strong>类型:</strong> <code>ExpectTypeOf&#x3C;ExtractedUnion></code><p>你可以使用 <code>.extract</code> 来缩小类型以进行进一步测试。</ul><pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> expectTypeOf <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vitest'</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token maybe-class-name">ResponsiveProp</span><span class="token operator">&#x3C;</span><span class="token constant">T</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token operator">|</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token punctuation">{</span> xs<span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span> sm<span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span> md<span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name"><span class="token maybe-class-name">CSSProperties</span></span> <span class="token punctuation">{</span> margin<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> padding<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">getResponsiveProp</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>_props<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token maybe-class-name">ResponsiveProp</span><span class="token operator">&#x3C;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> cssProperties<span class="token operator">:</span> <span class="token maybe-class-name">CSSProperties</span> <span class="token operator">=</span> <span class="token punctuation">{</span> margin<span class="token operator">:</span> <span class="token string">'1px'</span><span class="token punctuation">,</span> padding<span class="token operator">:</span> <span class="token string">'2px'</span> <span class="token punctuation">}</span>

<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token function">getResponsiveProp</span><span class="token punctuation">(</span>cssProperties<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token generic-function"><span class="token function">extract</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token punctuation">{</span> xs<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">any</span> <span class="token punctuation">}</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// extracts the last type from a union</span>
  <span class="token punctuation">.</span><span class="token generic-function"><span class="token function">toEqualTypeOf</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token punctuation">{</span>
    xs<span class="token operator">?</span><span class="token operator">:</span> <span class="token maybe-class-name">CSSProperties</span>
    sm<span class="token operator">?</span><span class="token operator">:</span> <span class="token maybe-class-name">CSSProperties</span>
    md<span class="token operator">?</span><span class="token operator">:</span> <span class="token maybe-class-name">CSSProperties</span>
  <span class="token punctuation">}</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token function">getResponsiveProp</span><span class="token punctuation">(</span>cssProperties<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token generic-function"><span class="token function">extract</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token builtin">unknown</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// extracts an array from a union</span>
  <span class="token punctuation">.</span><span class="token generic-function"><span class="token function">toEqualTypeOf</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token maybe-class-name">CSSProperties</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><blockquote>如果在联合类型中找不到类型，`.extract` 将返回 `never`。</blockquote></section><section class="level2"aria-labelledby="exclude"><h2 id="exclude">exclude</h2><ul><li><p><strong>类型:</strong> <code>ExpectTypeOf&#x3C;NonExcludedUnion></code><p>你可以使用 <code>.exclude</code> 从联合中删除类型以进行进一步测试。</ul><pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> expectTypeOf <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vitest'</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token maybe-class-name">ResponsiveProp</span><span class="token operator">&#x3C;</span><span class="token constant">T</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token operator">|</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token punctuation">{</span> xs<span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span> sm<span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span> md<span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">}</span>
<span class="token keyword">const</span> getResponsiveProp <span class="token operator">=</span> <span class="token operator">&#x3C;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">(</span>_props<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token maybe-class-name">ResponsiveProp</span><span class="token operator">&#x3C;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token arrow operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">interface</span> <span class="token class-name"><span class="token maybe-class-name">CSSProperties</span></span> <span class="token punctuation">{</span>
  margin<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
  padding<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> cssProperties<span class="token operator">:</span> <span class="token maybe-class-name">CSSProperties</span> <span class="token operator">=</span> <span class="token punctuation">{</span> margin<span class="token operator">:</span> <span class="token string">'1px'</span><span class="token punctuation">,</span> padding<span class="token operator">:</span> <span class="token string">'2px'</span> <span class="token punctuation">}</span>

<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token function">getResponsiveProp</span><span class="token punctuation">(</span>cssProperties<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token generic-function"><span class="token function">exclude</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token builtin">unknown</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token generic-function"><span class="token function">exclude</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token punctuation">{</span> xs<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">unknown</span> <span class="token punctuation">}</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// or just .exclude&#x3C;unknown[] | { xs?: unknown }>()</span>
  <span class="token punctuation">.</span><span class="token generic-function"><span class="token function">toEqualTypeOf</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token maybe-class-name">CSSProperties</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><blockquote>如果在联合类型中找不到类型，`.extract` 将返回 `never`。</blockquote></section><section class="level2"aria-labelledby="returns"><h2 id="returns">returns</h2><ul><li><p><strong>类型:</strong> <code>ExpectTypeOf&#x3C;ReturnValue></code><p>你可以使用 <code>.returns</code> 来提取函数类型的返回值。</ul><pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> expectTypeOf <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vitest'</span>

<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">returns</span><span class="token punctuation">.</span><span class="token method function property-access">toBeVoid</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> a<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">returns</span><span class="token punctuation">.</span><span class="token method function property-access">toEqualTypeOf</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><blockquote>如果用在非函数类型上，它将返回 `never`，因此你将无法将它与其他匹配器链接起来。</blockquote></section><section class="level2"aria-labelledby="parameters"><h2 id="parameters">parameters</h2><ul><li><p><strong>类型:</strong> <code>ExpectTypeOf&#x3C;Parameters></code><p>你可以使用 <code>.parameters</code> 提取函数参数以对其值执行断言。参数以数组形式返回。</ul><pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> expectTypeOf <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vitest'</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token maybe-class-name">NoParam</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token keyword">void</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token maybe-class-name">HasParam</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span>s<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token keyword">void</span>

<span class="token generic-function"><span class="token function">expectTypeOf</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token maybe-class-name">NoParam</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">parameters</span><span class="token punctuation">.</span><span class="token generic-function"><span class="token function">toEqualTypeOf</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token generic-function"><span class="token function">expectTypeOf</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token maybe-class-name">HasParam</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">parameters</span><span class="token punctuation">.</span><span class="token generic-function"><span class="token function">toEqualTypeOf</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><blockquote>如果用在非函数类型上，它将返回 `never`，因此你将无法将它与其他匹配器链接起来。</blockquote><blockquote>你还可以使用 [`.toBeCallableWith`](#tobecallablewith) 匹配器作为更具表现力的断言。</blockquote></section><section class="level2"aria-labelledby="parameter"><h2 id="parameter">parameter</h2><ul><li><p><strong>类型:</strong> <code>(nth: number) => ExpectTypeOf</code><p>你可以使用 <code>.parameter(number)</code> 调用提取某个函数参数，以对其执行其他断言。</ul><pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> expectTypeOf <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vitest'</span>

<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token function">expectTypeOf</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">parameter</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBeNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">expectTypeOf</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">parameter</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBeString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><blockquote>如果用在非函数类型上，它将返回 `never`，因此你将无法将它与其他匹配器链接起来。</blockquote></section><section class="level2"aria-labelledby="constructorparameters"><h2 id="constructorparameters">constructorParameters</h2><ul><li><p><strong>类型:</strong> <code>ExpectTypeOf&#x3C;ConstructorParameters></code><p>你可以将构造函数参数提取为数组元素，并使用此方法对它们执行断言。</ul><pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> expectTypeOf <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vitest'</span>

<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token known-class-name class-name">Date</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">constructorParameters</span><span class="token punctuation">.</span><span class="token generic-function"><span class="token function">toEqualTypeOf</span><span class="token generic class-name"><span class="token operator">&#x3C;</span>
  <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token punctuation">[</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token known-class-name class-name">Date</span><span class="token punctuation">]</span>
<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><blockquote>如果用在非函数类型上，它将返回 `never`，因此你将无法将它与其他匹配器链接起来。</blockquote><blockquote>你还可以使用 [`.toBeConstructibleWith`](#tobeconstructiblewith) 匹配器作为更具表现力的断言。</blockquote></section><section class="level2"aria-labelledby="instance"><h2 id="instance">instance</h2><ul><li><p><strong>类型:</strong> <code>ExpectTypeOf&#x3C;ConstructableInstance></code><p>此属性允许访问可以在所提供类的实例上执行匹配器。</ul><pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> expectTypeOf <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vitest'</span>

<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token known-class-name class-name">Date</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">instance</span><span class="token punctuation">.</span><span class="token method function property-access">toHaveProperty</span><span class="token punctuation">(</span><span class="token string">'toISOString'</span><span class="token punctuation">)</span></code></pre><blockquote>如果用在非函数类型上，它将返回 `never`，因此你将无法将它与其他匹配器链接起来。</blockquote></section><section class="level2"aria-labelledby="items"><h2 id="items">items</h2><ul><li><p><strong>类型:</strong> <code>ExpectTypeOf&#x3C;T></code><p>你可以使用 <code>.items</code> 获取数组项类型以执行进一步的断言。</ul><pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> expectTypeOf <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vitest'</span>

<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">items</span><span class="token punctuation">.</span><span class="token generic-function"><span class="token function">toEqualTypeOf</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token builtin">number</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">items</span><span class="token punctuation">.</span><span class="token property-access">not</span><span class="token punctuation">.</span><span class="token generic-function"><span class="token function">toEqualTypeOf</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token builtin">string</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></section><section class="level2"aria-labelledby="resolves"><h2 id="resolves">resolves</h2><ul><li><p><strong>类型:</strong> <code>ExpectTypeOf&#x3C;ResolvedPromise></code><p>此匹配器提取 <code>Promise</code> 的已解析值，因此你可以对其执行其他断言。</ul><pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> expectTypeOf <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vitest'</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">asyncFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token number">123</span>
<span class="token punctuation">}</span>

<span class="token function">expectTypeOf</span><span class="token punctuation">(</span>asyncFunc<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">returns</span><span class="token punctuation">.</span><span class="token property-access">resolves</span><span class="token punctuation">.</span><span class="token method function property-access">toBeNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token known-class-name class-name">Promise</span><span class="token punctuation">.</span><span class="token method function property-access">resolve</span><span class="token punctuation">(</span><span class="token string">'string'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">resolves</span><span class="token punctuation">.</span><span class="token method function property-access">toBeString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><blockquote>如果用于非承诺类型，它将返回 `never`，因此你将无法将它与其他匹配器链接起来。</blockquote></section><section class="level2"aria-labelledby="guards"><h2 id="guards">guards</h2><ul><li><p><strong>类型:</strong> <code>ExpectTypeOf&#x3C;Guard></code><p>此匹配器提取保护值（例如，<code>v is number</code>），因此你可以对其执行断言。</ul><pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> expectTypeOf <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vitest'</span>

<span class="token keyword">function</span> <span class="token function">isString</span><span class="token punctuation">(</span>v<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span> v <span class="token keyword">is</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token keyword">typeof</span> v <span class="token operator">===</span> <span class="token string">'string'</span>
<span class="token punctuation">}</span>

<span class="token function">expectTypeOf</span><span class="token punctuation">(</span>isString<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">guards</span><span class="token punctuation">.</span><span class="token method function property-access">toBeString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><blockquote>如果该值不是保护函数，则返回 `never`，因此你将无法将它与其他匹配器链接起来。</blockquote></section><section class="level2"aria-labelledby="asserts"><h2 id="asserts">asserts</h2><ul><li><p><strong>类型:</strong> <code>ExpectTypeOf&#x3C;Assert></code><p>此匹配器提取断言值（例如，<code>assert v is number</code>），因此你可以对其执行断言。</ul><pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> expectTypeOf <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vitest'</span>

<span class="token keyword">function</span> <span class="token function">assertNumber</span><span class="token punctuation">(</span>v<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">asserts</span> v <span class="token keyword">is</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> v <span class="token operator">!==</span> <span class="token string">'number'</span><span class="token punctuation">)</span>
    <span class="token keyword control-flow">throw</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token known-class-name class-name">TypeError</span></span><span class="token punctuation">(</span><span class="token string">'Nope !'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">expectTypeOf</span><span class="token punctuation">(</span>assertNumber<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">asserts</span><span class="token punctuation">.</span><span class="token method function property-access">toBeNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><blockquote>如果该值不是断言函数，则返回 `never`，因此你将无法将它与其他匹配器链接起来。</blockquote></section><section class="level2"aria-labelledby="tobeany"><h2 id="tobeany">toBeAny</h2><ul><li><p><strong>类型:</strong> <code>() => void</code><p>使用此匹配器，你可以检查提供的类型是否为 <code>any</code> 类型。如果类型太具体，测试将失败。</ul><pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> expectTypeOf <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vitest'</span>

<span class="token generic-function"><span class="token function">expectTypeOf</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token builtin">any</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBeAny</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword module">as</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBeAny</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token string">'string'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">not</span><span class="token punctuation">.</span><span class="token method function property-access">toBeAny</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></section><section class="level2"aria-labelledby="tobeunknown"><h2 id="tobeunknown">toBeUnknown</h2><ul><li><p><strong>类型:</strong> <code>() => void</code><p>此匹配器检查提供的类型是否为 <code>unknown</code> 类型。</ul><pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> expectTypeOf <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vitest'</span>

<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBeUnknown</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword module">as</span> <span class="token builtin">unknown</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBeUnknown</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token string">'string'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">not</span><span class="token punctuation">.</span><span class="token method function property-access">toBeUnknown</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></section><section class="level2"aria-labelledby="tobenever"><h2 id="tobenever">toBeNever</h2><ul><li><p><strong>类型:</strong> <code>() => void</code><p>此匹配器检查提供的类型是否为 <code>never</code> 类型。</ul><pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> expectTypeOf <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vitest'</span>

<span class="token generic-function"><span class="token function">expectTypeOf</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token builtin">never</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBeNever</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">never</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">returns</span><span class="token punctuation">.</span><span class="token method function property-access">toBeNever</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></section><section class="level2"aria-labelledby="tobefunction"><h2 id="tobefunction">toBeFunction</h2><ul><li><p><strong>类型:</strong> <code>() => void</code><p>此匹配器检查提供的类型是否为 <code>function</code> 类型。</ul><pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> expectTypeOf <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vitest'</span>

<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">not</span><span class="token punctuation">.</span><span class="token method function property-access">toBeFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">never</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBeFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></section><section class="level2"aria-labelledby="tobeobject"><h2 id="tobeobject">toBeObject</h2><ul><li><p><strong>类型:</strong> <code>() => void</code><p>此匹配器检查提供的类型是否为 <code>object</code> 类型。</ul><pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> expectTypeOf <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vitest'</span>

<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">not</span><span class="token punctuation">.</span><span class="token method function property-access">toBeObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBeObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></section><section class="level2"aria-labelledby="tobearray"><h2 id="tobearray">toBeArray</h2><ul><li><p><strong>类型:</strong> <code>() => void</code><p>此匹配器检查提供的类型是否为 <code>Array&#x3C;T></code> 类型。</ul><pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> expectTypeOf <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vitest'</span>

<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">not</span><span class="token punctuation">.</span><span class="token method function property-access">toBeArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBeArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBeArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBeArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></section><section class="level2"aria-labelledby="tobestring"><h2 id="tobestring">toBeString</h2><ul><li><p><strong>类型:</strong> <code>() => void</code><p>此匹配器检查提供的类型是否为 <code>string</code> 类型。</ul><pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> expectTypeOf <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vitest'</span>

<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">not</span><span class="token punctuation">.</span><span class="token method function property-access">toBeString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBeString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBeString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></section><section class="level2"aria-labelledby="tobeboolean"><h2 id="tobeboolean">toBeBoolean</h2><ul><li><p><strong>类型:</strong> <code>() => void</code><p>此匹配器检查提供的类型是否为 <code>boolean</code> 类型。</ul><pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> expectTypeOf <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vitest'</span>

<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">not</span><span class="token punctuation">.</span><span class="token method function property-access">toBeBoolean</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBeBoolean</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token generic-function"><span class="token function">expectTypeOf</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token builtin">boolean</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBeBoolean</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></section><section class="level2"aria-labelledby="tobevoid"><h2 id="tobevoid">toBeVoid</h2><ul><li><p><strong>类型:</strong> <code>() => void</code><p>此匹配器检查提供的类型是否为 <code>void</code> 类型。</ul><pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> expectTypeOf <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vitest'</span>

<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">returns</span><span class="token punctuation">.</span><span class="token method function property-access">toBeVoid</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token generic-function"><span class="token function">expectTypeOf</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token keyword">void</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBeVoid</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></section><section class="level2"aria-labelledby="tobesymbol"><h2 id="tobesymbol">toBeSymbol</h2><ul><li><p><strong>类型:</strong> <code>() => void</code><p>此匹配器检查提供的类型是否为 <code>symbol</code> 类型。</ul><pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> expectTypeOf <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vitest'</span>

<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token known-class-name class-name">Symbol</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBeSymbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token generic-function"><span class="token function">expectTypeOf</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token builtin">symbol</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBeSymbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></section><section class="level2"aria-labelledby="tobenull"><h2 id="tobenull">toBeNull</h2><ul><li><p><strong>类型:</strong> <code>() => void</code><p>此匹配器检查提供的类型是否为 <code>null</code> 类型。</ul><pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> expectTypeOf <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vitest'</span>

<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token keyword null nil">null</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBeNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token generic-function"><span class="token function">expectTypeOf</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token keyword null nil">null</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBeNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token keyword nil">undefined</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">not</span><span class="token punctuation">.</span><span class="token method function property-access">toBeNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></section><section class="level2"aria-labelledby="tobeundefined"><h2 id="tobeundefined">toBeUndefined</h2><ul><li><p><strong>类型:</strong> <code>() => void</code><p>此匹配器检查提供的类型是否为 <code>undefined</code> 类型。</ul><pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> expectTypeOf <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vitest'</span>

<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token keyword nil">undefined</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBeUndefined</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token generic-function"><span class="token function">expectTypeOf</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token keyword nil">undefined</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBeUndefined</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token keyword null nil">null</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">not</span><span class="token punctuation">.</span><span class="token method function property-access">toBeUndefined</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></section><section class="level2"aria-labelledby="tobenullable"><h2 id="tobenullable">toBeNullable</h2><ul><li><p><strong>类型:</strong> <code>() => void</code><p>此匹配器会检查你是否可以对提供的类型使用 <code>null</code> 或 <code>undefined</code>。</ul><pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> expectTypeOf <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vitest'</span>

<span class="token generic-function"><span class="token function">expectTypeOf</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token number">1</span> <span class="token operator">|</span> <span class="token keyword nil">undefined</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBeNullable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token generic-function"><span class="token function">expectTypeOf</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token number">1</span> <span class="token operator">|</span> <span class="token keyword null nil">null</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBeNullable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token generic-function"><span class="token function">expectTypeOf</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token number">1</span> <span class="token operator">|</span> <span class="token keyword nil">undefined</span> <span class="token operator">|</span> <span class="token keyword null nil">null</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBeNullable</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></section><section class="level2"aria-labelledby="tobecallablewith"><h2 id="tobecallablewith">toBeCallableWith</h2><ul><li><p><strong>类型:</strong> <code>() => void</code><p>此匹配器确保你可以使用一组参数作为参数来调用函数。</ul><pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> expectTypeOf <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vitest'</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token maybe-class-name">NoParam</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token keyword">void</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token maybe-class-name">HasParam</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span>s<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token keyword">void</span>

<span class="token generic-function"><span class="token function">expectTypeOf</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token maybe-class-name">NoParam</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBeCallableWith</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token generic-function"><span class="token function">expectTypeOf</span><span class="token generic class-name"><span class="token operator">&#x3C;</span><span class="token maybe-class-name">HasParam</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBeCallableWith</span><span class="token punctuation">(</span><span class="token string">'some string'</span><span class="token punctuation">)</span></code></pre><blockquote>如果用在非函数类型上，它将返回 `never`，因此你将无法将它与其他匹配器链接起来。</blockquote></section><section class="level2"aria-labelledby="tobeconstructiblewith"><h2 id="tobeconstructiblewith">toBeConstructibleWith</h2><ul><li><p><strong>类型:</strong> <code>() => void</code><p>此匹配器确保你可以使用一组构造函数作为参数创建一个新实例。</ul><pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> expectTypeOf <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vitest'</span>

<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token known-class-name class-name">Date</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBeConstructibleWith</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name"><span class="token known-class-name class-name">Date</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">expectTypeOf</span><span class="token punctuation">(</span><span class="token known-class-name class-name">Date</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBeConstructibleWith</span><span class="token punctuation">(</span><span class="token string">'01-01-2000'</span><span class="token punctuation">)</span></code></pre><blockquote>如果用在非函数类型上，它将返回 `never`，因此你将无法将它与其他匹配器链接起来。</blockquote></section><section class="level2"aria-labelledby="tohaveproperty"><h2 id="tohaveproperty">toHaveProperty</h2><ul><li><p><strong>类型:</strong> <code>&#x3C;K extends keyof T>(property: K) => ExpectTypeOf&#x3C;T[K></code><p>此匹配器检查提供的对象上是否存在属性。如果它存在，它还会为该属性的类型返回同一组匹配器，因此你可以一个接一个地链接断言。</ul><pre class="language-ts"><code class="language-ts"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> expectTypeOf <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vitest'</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token string">''</span> <span class="token punctuation">}</span>

<span class="token function">expectTypeOf</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toHaveProperty</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>
<span class="token function">expectTypeOf</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">not</span><span class="token punctuation">.</span><span class="token method function property-access">toHaveProperty</span><span class="token punctuation">(</span><span class="token string">'c'</span><span class="token punctuation">)</span>

<span class="token function">expectTypeOf</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toHaveProperty</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBeNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">expectTypeOf</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toHaveProperty</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toBeString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">expectTypeOf</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toHaveProperty</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">not</span><span class="token punctuation">.</span><span class="token method function property-access">toBeString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p><span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></section></section>