<!doctype html><html lang="en"><meta charset="utf-8"><title>Connecting to a CMS</title><meta name="viewport"content="width=device-width,initial-scale=1"><meta name="outline"content="deep"><link rel="stylesheet"href="../../../../../Vivliostyle/read-html-download-pdf/docs/themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="connecting-to-a-cms"><h1 id="connecting-to-a-cms">Connecting to a CMS</h1><section class="level2"aria-labelledby="general-workflow"><h2 id="general-workflow">General Workflow</h2><p>Connecting VitePress to a CMS will largely revolve around <a href="./routing.html#dynamic-routes.html">Dynamic Routes</a>. Make sure to understand how it works before proceeding.<p>Since each CMS will work differently, here we can only provide a generic workflow that you will need to adapt to your specific scenario.<ol><li><p>If your CMS requires authentication, create an <code>.env</code> file to store your API tokens and load it so:<pre class="language-js"><code class="language-js"><span class="token comment">// posts/[id].paths.js</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> loadEnv <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vitepress'</span>

<span class="token keyword">const</span> env <span class="token operator">=</span> <span class="token function">loadEnv</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">,</span> process<span class="token punctuation">.</span><span class="token method function property-access">cwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><li><p>Fetch the necessary data from the CMS and format it into proper paths data:<pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
  <span class="token keyword">async</span> <span class="token function">paths</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// use respective CMS client library if needed</span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token punctuation">(</span><span class="token keyword control-flow">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'https://my-cms-api'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// token if necessary</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword control-flow">return</span> data<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token parameter">entry</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> entry<span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">,</span> <span class="token comment">/* title, authors, date etc. */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">content</span><span class="token operator">:</span> entry<span class="token punctuation">.</span><span class="token property-access">content</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><li><p>Render the content in the page:<pre class="language-md"><code class="language-md"><span class="token title important"><span class="token punctuation">#</span> {{ $params.title }}</span>

<span class="token list punctuation">-</span> by {{ $params.author }} on {{ $params.date }}

<span class="token comment">&#x3C;!-- @content --></span></code></pre></ol></section><section class="level2"aria-labelledby="integration-guides"><h2 id="integration-guides">Integration Guides</h2><p>If you have written a guide on integrating VitePress with a specific CMS, please use the "Edit this page" link below to submit it here! <span style="float:footnote"><a href="./index.html#toc">Go to TOC</a></span></section></section>