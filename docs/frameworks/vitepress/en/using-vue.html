<!doctype html><html lang="en"><meta charset="utf-8"><title>Using Vue in Markdown</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"href="../../../../../Vivliostyle/read-html-download-pdf/docs/themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="using-vue-in-markdown"><h1 id="using-vue-in-markdown">Using Vue in Markdown</h1><p>In VitePress, each Markdown file is compiled into HTML and then processed as a <a href="https://vuejs.org/guide/scaling-up/sfc.html">Vue Single-File Component</a>. This means you can use any Vue features inside the Markdown, including dynamic templating, using Vue components, or arbitrary in-page Vue component logic by adding a <code>&#x3C;script></code> tag.<p>It's worth noting that VitePress leverages Vue's compiler to automatically detect and optimize the purely static parts of the Markdown content. Static contents are optimized into single placeholder nodes and eliminated from the page's JavaScript payload for initial visits. They are also skipped during client-side hydration. In short, you only pay for the dynamic parts on any given page.<p>:::tip SSR Compatibility All Vue usage needs to be SSR-compatible. See <a href="./ssr-compat.html">SSR Compatibility</a> for details and common workarounds. :::<section class="level2"aria-labelledby="templating"><h2 id="templating">Templating</h2><section class="level3"aria-labelledby="interpolation"><h3 id="interpolation">Interpolation</h3><p>Each Markdown file is first compiled into HTML and then passed on as a Vue component to the Vite process pipeline. This means you can use Vue-style interpolation in text:<p><strong>Input</strong><pre class="language-md"><code class="language-md">{{ 1 + 1 }}</code></pre><p><strong>Output</strong><div class="language-text"><pre><code>{{ 1 + 1 }}</code></pre></div></section><section class="level3"aria-labelledby="directives"><h3 id="directives">Directives</h3><p>Directives also work (note that by design, raw HTML is also valid in Markdown):<p><strong>Input</strong><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>span</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>i in 3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{ i }}<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>span</span><span class="token punctuation">></span></span></code></pre><p><strong>Output</strong><div class="language-text"><pre><code><span v-for="i in 3">{{ i }} </span></code></pre></div></section></section><section class="level2"aria-labelledby="script-and-style"><h2 id="script-and-style"><code>&#x3C;script></code> and <code>&#x3C;style></code></h2><p>Root-level <code>&#x3C;script></code> and <code>&#x3C;style></code> tags in Markdown files work just like they do in Vue SFCs, including <code>&#x3C;script setup></code>, <code>&#x3C;style module></code>, etc. The main difference here is that there is no <code>&#x3C;template></code> tag: all other root-level content is Markdown. Also note that all tags should be placed <strong>after</strong> the frontmatter:<pre class="language-html"><code class="language-html">---
hello: world
---

<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> ref <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vue'</span>

<span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>script</span><span class="token punctuation">></span></span>

## Markdown Content

The count is: {{ count }}

<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>button</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$style.button<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>count++<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Increment<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>button</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>style</span> <span class="token attr-name">module</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
<span class="token selector"><span class="token class">.button</span></span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token color">red</span><span class="token punctuation">;</span>
  <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>style</span><span class="token punctuation">></span></span></code></pre><p>:::warning Avoid <code>&#x3C;style scoped></code> in Markdown When used in Markdown, <code>&#x3C;style scoped></code> requires adding special attributes to every element on the current page, which will significantly bloat the page size. <code>&#x3C;style module></code> is preferred when locally-scoped styling is needed in a page. :::<p>You also have access to VitePress' runtime APIs such as the <a href="../reference/runtime-api#usedata"><code>useData</code> helper</a>, which provides access to current page's metadata:<p><strong>Input</strong><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> useData <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vitepress'</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> page <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>pre</span><span class="token punctuation">></span></span>{{ page }}<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>pre</span><span class="token punctuation">></span></span></code></pre><p><strong>Output</strong><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"path"</span><span class="token operator">:</span> <span class="token string">"/using-vue.html"</span><span class="token punctuation">,</span>
  <span class="token property">"title"</span><span class="token operator">:</span> <span class="token string">"Using Vue in Markdown"</span><span class="token punctuation">,</span>
  <span class="token property">"frontmatter"</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  ...
<span class="token punctuation">}</span></code></pre></section><section class="level2"aria-labelledby="using-components"><h2 id="using-components">Using Components</h2><p>You can import and use Vue components directly in Markdown files.<section class="level3"aria-labelledby="importing-in-markdown"><h3 id="importing-in-markdown">Importing in Markdown</h3><p>If a component is only used by a few pages, it's recommended to explicitly import them where they are used. This allows them to be properly code-split and only loaded when the relevant pages are shown:<pre class="language-md"><code class="language-md"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">CustomComponent</span></span> <span class="token keyword module">from</span> <span class="token string">'../components/CustomComponent.vue'</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>script</span><span class="token punctuation">></span></span>

<span class="token title important"><span class="token punctuation">#</span> Docs</span>

This is a .md using a custom component

<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>CustomComponent</span> <span class="token punctuation">/></span></span>

<span class="token title important"><span class="token punctuation">##</span> More docs</span>

...</code></pre></section><section class="level3"aria-labelledby="registering-components-globally"><h3 id="registering-components-globally">Registering Components Globally</h3><p>If a component is going to be used on most of the pages, they can be registered globally by customizing the Vue app instance. See relevant section in <a href="./extending-default-theme.html#registering-global-components.html">Extending Default Theme</a> for an example.<p>::: warning IMPORTANT Make sure a custom component's name either contains a hyphen or is in PascalCase. Otherwise, it will be treated as an inline element and wrapped inside a <code>&#x3C;p></code> tag, which will lead to hydration mismatch because <code>&#x3C;p></code> does not allow block elements to be placed inside it. :::</section><section class="level3"aria-labelledby="using-components-in-headers-componentinheader-"><h3 id="using-components-in-headers-componentinheader-">Using Components In Headers<componentinheader></componentinheader></h3><p>You can use Vue components in the headers, but note the difference between the following syntaxes:<table><thead><tr><th>Markdown<th>Output HTML<th>Parsed Header<tbody><tr><td><pre v-pre=""><code> # text &#x3C;Tag/> </code></pre><td><code>&#x3C;h1>text &#x3C;Tag/>&#x3C;/h1></code><td><code>text</code><tr><td><pre v-pre=""><code> # text `&#x3C;Tag/>` </code></pre><td><code>&#x3C;h1>text &#x3C;code>&#x26;lt;Tag/&#x26;gt;&#x3C;/code>&#x3C;/h1></code><td><code>text &#x3C;Tag/></code></table><p>The HTML wrapped by <code>&#x3C;code></code> will be displayed as-is; only the HTML that is <strong>not</strong> wrapped will be parsed by Vue.<p>::: tip The output HTML is accomplished by <a href="https://github.com/Markdown-it/Markdown-it">Markdown-it</a>, while the parsed headers are handled by VitePress (and used for both the sidebar and document title). :::</section></section><section class="level2"aria-labelledby="escaping"><h2 id="escaping">Escaping</h2><p>You can escape Vue interpolations by wrapping them in a <code>&#x3C;span></code> or other elements with the <code>v-pre</code> directive:<p><strong>Input</strong><pre class="language-md"><code class="language-md">This <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>span</span> <span class="token attr-name">v-pre</span><span class="token punctuation">></span></span>{{ will be displayed as-is }}<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>span</span><span class="token punctuation">></span></span></code></pre><p><strong>Output</strong><div class="escape-demo"><p>This <span v-pre="">{{ will be displayed as-is }}</span></div><p>Alternatively, you can wrap the entire paragraph in a <code>v-pre</code> custom container:<pre class="language-md"><code class="language-md">::: v-pre
{{ This will be displayed as-is }}
:::</code></pre><p><strong>Output</strong><div class="escape-demo"><p>::: v-pre {{ This will be displayed as-is }} :::</div></section><section class="level2"aria-labelledby="unescape-in-code-blocks"><h2 id="unescape-in-code-blocks">Unescape in Code Blocks</h2><p>By default, all fenced code blocks are automatically wrapped with <code>v-pre</code>, so no Vue syntax will be processed inside. To enable Vue-style interpolation inside fences, you can append the language with the <code>-vue</code> suffix, e.g. <code>js-vue</code>:<p><strong>Input</strong><pre class="language-md"><code class="language-md"><span class="token code"><span class="token punctuation">```</span><span class="token code-language">js-vue</span>
<span class="token code-block language-js-vue">Hello {{ 1 + 1 }}</span>
<span class="token punctuation">```</span></span></code></pre><p><strong>Output</strong><pre class="language-js-vue"><code class="language-js-vue">Hello {{ 1 + 1 }}</code></pre><p>Note that this might prevent certain tokens from being syntax highlighted properly.</section><section class="level2"aria-labelledby="using-css-pre-processors"><h2 id="using-css-pre-processors">Using CSS Pre-processors</h2><p>VitePress has <a href="https://vitejs.dev/guide/features.html#css-pre-processors">built-in support</a> for CSS pre-processors: <code>.scss</code>, <code>.sass</code>, <code>.less</code>, <code>.styl</code> and <code>.stylus</code> files. There is no need to install Vite-specific plugins for them, but the corresponding pre-processor itself must be installed:<pre class="language-text"><code class="language-text"># .scss and .sass
npm install -D sass

# .less
npm install -D less

# .styl and .stylus
npm install -D stylus</code></pre><p>Then you can use the following in Markdown and theme components:<pre class="language-vue"><code class="language-vue">&#x3C;style lang="sass">
.title
  font-size: 20px
&#x3C;/style></code></pre></section><section class="level2"aria-labelledby="using-teleports"><h2 id="using-teleports">Using Teleports</h2><p>Vitepress currently has SSG support for teleports to body only. For other targets, you can wrap them inside the built-in <code>&#x3C;ClientOnly></code> component or inject the teleport markup into the correct location in your final page HTML through <a href="../reference/site-config#postrender"><code>postRender</code> hook</a>.</p><modaldemo><p>::: details &#x3C;&#x3C;&#x3C; @/components/ModalDemo.vue :::<pre class="language-md"><code class="language-md"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>ClientOnly</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>Teleport</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#modal<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span><span class="token punctuation">></span></span>
      // ...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>Teleport</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>ClientOnly</span><span class="token punctuation">></span></span></code></pre><script setup="">import ModalDemo from"../components/ModalDemo.vue"</script><style>.escape-demo{border:1px solid var(--vp-c-border);border-radius:8px;padding:0 20px}</style><p><span style="float:footnote"><a href="./index.html#toc">Go to TOC</a></span></p></modaldemo></section></section>