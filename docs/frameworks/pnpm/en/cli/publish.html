<!doctype html><html lang="en"><meta charset="utf-8"><title>pnpm publish</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"href="../../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="pnpm-publish"><h1 id="pnpm-publish">pnpm publish</h1><p>Publishes a package to the registry.<pre class="language-sh"><code class="language-sh">pnpm [-r] publish [&#x3C;tarball|folder>] [--tag &#x3C;tag>]
     [--access &#x3C;public|restricted>] [options]</code></pre><p>When publishing a package inside a <a href="../workspaces.html">workspace</a> the LICENSE file from the root of the workspace is packed with the package (unless the package has a license of its own).<p>You may override some fields before publish, using the <a href="../package_json.html)">publishConfig</a> field in <code>package.json</code>. You also can use the <a href="../package_json.html"><code>publishConfig.directory</code></a> to customize the published subdirectory (usually using third party build tools).<p>When running this command recursively (<code>pnpm -r publish</code>), pnpm will publish all the packages that have versions not yet published to the registry.<section class="level2"aria-labelledby="options"><h2 id="options">Options</h2><section class="level3"aria-labelledby="--recursive--r"><h3 id="--recursive--r">--recursive, -r</h3><p>Publish all packages from the workspace.</section><section class="level3"aria-labelledby="--json"><h3 id="--json">--json</h3><p>Show information in JSON format.</section><section class="level3"aria-labelledby="--tag-tag"><h3 id="--tag-tag">--tag &#x3C;tag></h3><p>Publishes the package with the given tag. By default, <code>pnpm publish</code> updates the <code>latest</code> tag.<p>For example:<pre class="language-sh"><code class="language-sh"># inside the foo package directory
pnpm publish --tag next
# in a project where you want to use the next version of foo
pnpm add foo@next</code></pre></section><section class="level3"aria-labelledby="--access-publicrestricted"><h3 id="--access-publicrestricted">--access &#x3C;public|restricted></h3><p>Tells the registry whether the published package should be public or restricted.</section><section class="level3"aria-labelledby="--no-git-checks"><h3 id="--no-git-checks">--no-git-checks</h3><p>Don't check if current branch is your publish branch, clean, and up-to-date with remote.</section><section class="level3"aria-labelledby="--publish-branch"><h3 id="--publish-branch">--publish-branch</h3><ul><li>Default: <strong>master</strong> and <strong>main</strong><li>Types: <strong>String</strong></ul><p>The primary branch of the repository which is used for publishing the latest changes.</section><section class="level3"aria-labelledby="--force"><h3 id="--force">--force</h3><p>Try to publish packages even if their current version is already found in the registry.</section><section class="level3"aria-labelledby="--report-summary"><h3 id="--report-summary">--report-summary</h3><p>Save the list of published packages to <code>pnpm-publish-summary.json</code>. Useful when some other tooling is used to report the list of published packages.<p>An example of a <code>pnpm-publish-summary.json</code> file:<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  publishedPackages<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      name<span class="token operator">:</span> foo<span class="token punctuation">,</span>
      version<span class="token operator">:</span> <span class="token number">1.0</span>.<span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      name<span class="token operator">:</span> bar<span class="token punctuation">,</span>
      version<span class="token operator">:</span> <span class="token number">2.0</span>.<span class="token number">0</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span></code></pre></section><section class="level3"aria-labelledby="--dry-run"><h3 id="--dry-run">--dry-run</h3><p>Does everything a publish would do except actually publishing to the registry.</section><section class="level3"aria-labelledby="--otp"><h3 id="--otp">--otp</h3><p>When publishing packages that require two-factor authentication, this option can specify a one-time password.</section><section class="level3"aria-labelledby="--filter-package_selector"><h3 id="--filter-package_selector">--filter &#x3C;package_selector></h3><p><a href="../filtering.html">Read more about filtering.</a></section></section><section class="level2"aria-labelledby="configuration"><h2 id="configuration">Configuration</h2><p>You can also set <code>git-checks</code>, <code>publish-branch</code> options in the <code>.npmrc</code> file.<p>For example:<figure class="language-ini"><figcaption>.npmrc</figcaption><pre class="language-ini"><code class="language-ini"><span class="token key attr-name">git-checks</span><span class="token punctuation">=</span><span class="token value attr-value">false</span>
<span class="token key attr-name">publish-branch</span><span class="token punctuation">=</span><span class="token value attr-value">production</span></code></pre></figure></section><section class="level2"aria-labelledby="life-cycle-scripts"><h2 id="life-cycle-scripts">Life Cycle Scripts</h2><ul><li><code>prepublishOnly</code><li><code>prepublish</code><li><code>prepack</code><li><code>prepare</code><li><code>postpack</code><li><code>publish</code><li><code>postpublish</code></ul><p><span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></section></section>