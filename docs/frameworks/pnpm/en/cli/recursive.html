<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>pnpm -r, --recursive</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://raw.githubusercontent.com/shinokada/prism-coy-theme/main/theme_common.css">
  </head>
  <body>
    <section id="pnpm--r---recursive" class="level1">
      <h1>pnpm -r, --recursive</h1>
      <p>Aliases: <code>m</code>, <code>multi</code>, <code>recursive</code>, <code>&#x3C;command> -r</code></p>
      <p>Runs a command in every project of a workspace, when used with the following commands:</p>
      <ul>
        <li><code>install</code></li>
        <li><code>list</code></li>
        <li><code>outdated</code></li>
        <li><code>publish</code></li>
        <li><code>rebuild</code></li>
        <li><code>remove</code></li>
        <li><code>unlink</code></li>
        <li><code>update</code></li>
        <li><code>why</code></li>
      </ul>
      <p>
        Runs a command in every project of a workspace, excluding the root project,
        when used with the following commands:
      </p>
      <ul>
        <li><code>exec</code></li>
        <li><code>run</code></li>
        <li><code>test</code></li>
        <li><code>add</code></li>
      </ul>
      <p>If you want the root project be included even when running scripts, set the <a href="../npmrc.html)">include-workspace-root</a> setting to <code>true</code>.</p>
      <p>Usage example:</p>
      <pre class="language-text"><code class="language-text">pnpm -r publish</code></pre>
      <section id="options" class="level2">
        <h2>Options</h2>
        <section id="--link-workspace-packages" class="level3">
          <h3>--link-workspace-packages</h3>
          <ul>
            <li>Default: <strong>true</strong></li>
            <li>Type: <strong>true, false, deep</strong></li>
          </ul>
          <p>
            Link locally available packages in workspaces of a monorepo into <code>node_modules</code>
            instead of re-downloading them from the registry. This emulates functionality
            similar to <code>yarn workspaces</code>.
          </p>
          <p>When this is set to deep, local packages can also be linked to subdependencies.</p>
          <p>
            Be advised that it is encouraged instead to use <a href="../workspaces.html)">npmrc</a> for this setting, to
            enforce the same behaviour in all environments. This option exists solely so you
            may override that if necessary.
          </p>
        </section>
        <section id="--workspace-concurrency" class="level3">
          <h3>--workspace-concurrency</h3>
          <ul>
            <li>Default: <strong>4</strong></li>
            <li>Type: <strong>Number</strong></li>
          </ul>
          <p>
            Set the maximum number of tasks to run simultaneously. For unlimited concurrency
            use <code>Infinity</code>.
          </p>
          <p>You can set the <code>workpace-concurrency</code> as <code>&#x3C;= 0</code> and it will use amount of cores of the host as: <code>max(1, (number of cores) - abs(workspace-concurrency))</code></p>
        </section>
        <section id="--no-bail" class="level3">
          <h3>--[no-]bail</h3>
          <ul>
            <li>Default: <strong>true</strong></li>
            <li>Type: <strong>Boolean</strong></li>
          </ul>
          <p>If true, stops when a task throws an error.</p>
          <p>
            This config does not affect the exit code.
            Even if <code>--no-bail</code> is used, all tasks will finish but if any of the tasks fail,
            the command will exit with a non-zero code.
          </p>
          <p>Example (run tests in every package, continue if tests fail in one of them):</p>
          <pre class="language-sh"><code class="language-sh">pnpm -r --no-bail test</code></pre>
        </section>
        <section id="--no-sort" class="level3">
          <h3>--[no-]sort</h3>
          <ul>
            <li>Default: <strong>true</strong></li>
            <li>Type: <strong>Boolean</strong></li>
          </ul>
          <p>
            When <code>true</code>, packages are sorted topologically (dependencies before dependents).
            Pass <code>--no-sort</code> to disable.
          </p>
          <p>Example:</p>
          <pre class="language-sh"><code class="language-sh">pnpm -r --no-sort test</code></pre>
        </section>
        <section id="--reverse" class="level3">
          <h3>--reverse</h3>
          <ul>
            <li>Default: <strong>false</strong></li>
            <li>Type: <strong>boolean</strong></li>
          </ul>
          <p>When <code>true</code>, the order of packages is reversed.</p>
          <pre class="language-text"><code class="language-text">pnpm -r --reverse run clean</code></pre>
        </section>
        <section id="--filter-package_selector" class="level3">
          <h3>--filter &#x3C;package_selector></h3>
          <p><a href="../filtering.html">Read more about filtering.</a></p>
          <p><span style="float: footnote;"><a href="../index.html#toc">Go to TOC</a></span></p>
        </section>
      </section>
    </section>
  </body>
</html>
