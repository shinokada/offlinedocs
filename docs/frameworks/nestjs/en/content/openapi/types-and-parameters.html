<!doctype html><html lang="en"><meta charset="utf-8"><title>Types and parameters</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"href="../../../../../../../../../docs/themes/packages/prism-coy-theme/theme_common.css"><section id="types-and-parameters"class="level3"><h3>Types and parameters</h3><p>The <code>SwaggerModule</code> searches for all <code>@Body()</code>, <code>@Query()</code>, and <code>@Param()</code> decorators in route handlers to generate the API document. It also creates corresponding model definitions by taking advantage of reflection. Consider the following code:<pre class="language-typescript"><code class="language-typescript"><span class="token decorator"><span class="token at operator">@</span><span class="token function">Post</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">async</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token decorator"><span class="token at operator">@</span><span class="token function">Body</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> createCatDto<span class="token operator">:</span> <span class="token maybe-class-name">CreateCatDto</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">catsService</span><span class="token punctuation">.</span><span class="token method function property-access">create</span><span class="token punctuation">(</span>createCatDto<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><blockquote><p>info <strong>Hint</strong> To explicitly set the body definition use the <code>@ApiBody()</code> decorator (imported from the <code>@nestjs/swagger</code> package).</blockquote><p>Based on the <code>CreateCatDto</code>, the following model definition Swagger UI will be created:<figure><img src="/Users/shinichiokada/Bash_Projects/markdown-docs-as-pdf/.vivliostyle/nestjs/en/src/assets/swagger-dto.png"></figure><p>As you can see, the definition is empty although the class has a few declared properties. In order to make the class properties visible to the <code>SwaggerModule</code>, we have to either annotate them with the <code>@ApiProperty()</code> decorator or use the CLI plugin (read more in the <strong>Plugin</strong> section) which will do it automatically:<pre class="language-typescript"><code class="language-typescript"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">ApiProperty</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@nestjs/swagger'</span><span class="token punctuation">;</span>

<span class="token keyword module">export</span> <span class="token keyword">class</span> <span class="token class-name"><span class="token maybe-class-name">CreateCatDto</span></span> <span class="token punctuation">{</span>
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">ApiProperty</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

  <span class="token decorator"><span class="token at operator">@</span><span class="token function">ApiProperty</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>

  <span class="token decorator"><span class="token at operator">@</span><span class="token function">ApiProperty</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  breed<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><blockquote><p>info <strong>Hint</strong> Instead of manually annotating each property, consider using the Swagger plugin (see <a href="/openapi/cli-plugin">Plugin</a> section) which will automatically provide this for you.</blockquote><p>Let's open the browser and verify the generated <code>CreateCatDto</code> model:<figure><img src="/Users/shinichiokada/Bash_Projects/markdown-docs-as-pdf/.vivliostyle/nestjs/en/src/assets/swagger-dto2.png"></figure><p>In addition, the <code>@ApiProperty()</code> decorator allows setting various <a href="https://swagger.io/specification/#schemaObject">Schema Object</a> properties:<pre class="language-typescript"><code class="language-typescript"><span class="token decorator"><span class="token at operator">@</span><span class="token function">ApiProperty</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  description<span class="token operator">:</span> <span class="token string">'The age of a cat'</span><span class="token punctuation">,</span>
  minimum<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token keyword module">default</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span></code></pre><blockquote><p>info <strong>Hint</strong> Instead of explicitly typing the <code>{{"@ApiProperty({ required: false })"}}</code> you can use the <code>@ApiPropertyOptional()</code> short-hand decorator.</blockquote><p>In order to explicitly set the type of the property, use the <code>type</code> key:<pre class="language-typescript"><code class="language-typescript"><span class="token decorator"><span class="token at operator">@</span><span class="token function">ApiProperty</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token known-class-name class-name">Number</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span></code></pre><section id="arrays"class="level4"><h4>Arrays</h4><p>When the property is an array, we must manually indicate the array type as shown below:<pre class="language-typescript"><code class="language-typescript"><span class="token decorator"><span class="token at operator">@</span><span class="token function">ApiProperty</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token known-class-name class-name">String</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
names<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><blockquote><p>info <strong>Hint</strong> Consider using the Swagger plugin (see <a href="/openapi/cli-plugin">Plugin</a> section) which will automatically detect arrays.</blockquote><p>Either include the type as the first element of an array (as shown above) or set the <code>isArray</code> property to <code>true</code>.<p><app-banner-enterprise></app-banner-enterprise></section><section id="circular-dependencies"class="level4"><h4>Circular dependencies</h4><p>When you have circular dependencies between classes, use a lazy function to provide the <code>SwaggerModule</code> with type information:<pre class="language-typescript"><code class="language-typescript"><span class="token decorator"><span class="token at operator">@</span><span class="token function">ApiProperty</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token function-variable function">type</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token maybe-class-name">Node</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
node<span class="token operator">:</span> <span class="token maybe-class-name">Node</span><span class="token punctuation">;</span></code></pre><blockquote><p>info <strong>Hint</strong> Consider using the Swagger plugin (see <a href="/openapi/cli-plugin">Plugin</a> section) which will automatically detect circular dependencies.</blockquote></section><section id="generics-and-interfaces"class="level4"><h4>Generics and interfaces</h4><p>Since TypeScript does not store metadata about generics or interfaces, when you use them in your DTOs, <code>SwaggerModule</code> may not be able to properly generate model definitions at runtime. For instance, the following code won't be correctly inspected by the Swagger module:<pre class="language-typescript"><code class="language-typescript"><span class="token function">createBulk</span><span class="token punctuation">(</span><span class="token decorator"><span class="token at operator">@</span><span class="token function">Body</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> usersDto<span class="token operator">:</span> <span class="token maybe-class-name">CreateUserDto</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>In order to overcome this limitation, you can set the type explicitly:<pre class="language-typescript"><code class="language-typescript"><span class="token decorator"><span class="token at operator">@</span><span class="token function">ApiBody</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token maybe-class-name">CreateUserDto</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">createBulk</span><span class="token punctuation">(</span><span class="token decorator"><span class="token at operator">@</span><span class="token function">Body</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> usersDto<span class="token operator">:</span> <span class="token maybe-class-name">CreateUserDto</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre></section><section id="enums"class="level4"><h4>Enums</h4><p>To identify an <code>enum</code>, we must manually set the <code>enum</code> property on the <code>@ApiProperty</code> with an array of values.<pre class="language-typescript"><code class="language-typescript"><span class="token decorator"><span class="token at operator">@</span><span class="token function">ApiProperty</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token keyword">enum</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Admin'</span><span class="token punctuation">,</span> <span class="token string">'Moderator'</span><span class="token punctuation">,</span> <span class="token string">'User'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
role<span class="token operator">:</span> <span class="token maybe-class-name">UserRole</span><span class="token punctuation">;</span></code></pre><p>Alternatively, define an actual TypeScript enum as follows:<pre class="language-typescript"><code class="language-typescript"><span class="token keyword module">export</span> <span class="token keyword">enum</span> <span class="token maybe-class-name">UserRole</span> <span class="token punctuation">{</span>
  <span class="token maybe-class-name">Admin</span> <span class="token operator">=</span> <span class="token string">'Admin'</span><span class="token punctuation">,</span>
  <span class="token maybe-class-name">Moderator</span> <span class="token operator">=</span> <span class="token string">'Moderator'</span><span class="token punctuation">,</span>
  <span class="token maybe-class-name">User</span> <span class="token operator">=</span> <span class="token string">'User'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span></code></pre><p>You can then use the enum directly with the <code>@Query()</code> parameter decorator in combination with the <code>@ApiQuery()</code> decorator.<pre class="language-typescript"><code class="language-typescript"><span class="token decorator"><span class="token at operator">@</span><span class="token function">ApiQuery</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'role'</span><span class="token punctuation">,</span> <span class="token keyword">enum</span><span class="token operator">:</span> <span class="token maybe-class-name">UserRole</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">async</span> <span class="token function">filterByRole</span><span class="token punctuation">(</span><span class="token decorator"><span class="token at operator">@</span><span class="token function">Query</span></span><span class="token punctuation">(</span><span class="token string">'role'</span><span class="token punctuation">)</span> role<span class="token operator">:</span> <span class="token maybe-class-name">UserRole</span> <span class="token operator">=</span> <span class="token maybe-class-name">UserRole</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">User</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre><figure><img src="/Users/shinichiokada/Bash_Projects/markdown-docs-as-pdf/.vivliostyle/nestjs/en/src/assets/enum_query.gif"></figure><p>With <code>isArray</code> set to <strong>true</strong>, the <code>enum</code> can be selected as a <strong>multi-select</strong>:<figure><img src="/Users/shinichiokada/Bash_Projects/markdown-docs-as-pdf/.vivliostyle/nestjs/en/src/assets/enum_query_array.gif"></figure></section><section id="enums-schema"class="level4"><h4>Enums schema</h4><p>By default, the <code>enum</code> property will add a raw definition of <a href="https://swagger.io/docs/specification/data-models/enums/">Enum</a> on the <code>parameter</code>.<pre class="language-yaml"><code class="language-yaml"><span class="token punctuation">-</span> <span class="token key atrule">breed</span><span class="token punctuation">:</span>
    <span class="token key atrule">type</span><span class="token punctuation">:</span> <span class="token string">'string'</span>
    <span class="token key atrule">enum</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> Persian
      <span class="token punctuation">-</span> Tabby
      <span class="token punctuation">-</span> Siamese</code></pre><p>The above specification works fine for most cases. However, if you are utilizing a tool that takes the specification as <strong>input</strong> and generates <strong>client-side</strong> code, you might run into a problem with the generated code containing duplicated <code>enums</code>. Consider the following code snippet:<pre class="language-typescript"><code class="language-typescript"><span class="token comment">// generated client-side code</span>
<span class="token keyword module">export</span> <span class="token keyword">class</span> <span class="token class-name"><span class="token maybe-class-name">CatDetail</span></span> <span class="token punctuation">{</span>
  breed<span class="token operator">:</span> <span class="token maybe-class-name">CatDetailEnum</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword module">export</span> <span class="token keyword">class</span> <span class="token class-name"><span class="token maybe-class-name">CatInformation</span></span> <span class="token punctuation">{</span>
  breed<span class="token operator">:</span> <span class="token maybe-class-name">CatInformationEnum</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword module">export</span> <span class="token keyword">enum</span> <span class="token maybe-class-name">CatDetailEnum</span> <span class="token punctuation">{</span>
  <span class="token maybe-class-name">Persian</span> <span class="token operator">=</span> <span class="token string">'Persian'</span><span class="token punctuation">,</span>
  <span class="token maybe-class-name">Tabby</span> <span class="token operator">=</span> <span class="token string">'Tabby'</span><span class="token punctuation">,</span>
  <span class="token maybe-class-name">Siamese</span> <span class="token operator">=</span> <span class="token string">'Siamese'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword module">export</span> <span class="token keyword">enum</span> <span class="token maybe-class-name">CatInformationEnum</span> <span class="token punctuation">{</span>
  <span class="token maybe-class-name">Persian</span> <span class="token operator">=</span> <span class="token string">'Persian'</span><span class="token punctuation">,</span>
  <span class="token maybe-class-name">Tabby</span> <span class="token operator">=</span> <span class="token string">'Tabby'</span><span class="token punctuation">,</span>
  <span class="token maybe-class-name">Siamese</span> <span class="token operator">=</span> <span class="token string">'Siamese'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span></code></pre><blockquote><p>info <strong>Hint</strong> The above snippet is generated using a tool called <a href="https://github.com/RicoSuter/NSwag">NSwag</a>.</blockquote><p>You can see that now you have two <code>enums</code> that are exactly the same. To address this issue, you can pass an <code>enumName</code> along with the <code>enum</code> property in your decorator.<pre class="language-typescript"><code class="language-typescript"><span class="token keyword module">export</span> <span class="token keyword">class</span> <span class="token class-name"><span class="token maybe-class-name">CatDetail</span></span> <span class="token punctuation">{</span>
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">ApiProperty</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token keyword">enum</span><span class="token operator">:</span> <span class="token maybe-class-name">CatBreed</span><span class="token punctuation">,</span> enumName<span class="token operator">:</span> <span class="token string">'CatBreed'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  breed<span class="token operator">:</span> <span class="token maybe-class-name">CatBreed</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>The <code>enumName</code> property enables <code>@nestjs/swagger</code> to turn <code>CatBreed</code> into its own <code>schema</code> which in turns makes <code>CatBreed</code> enum reusable. The specification will look like the following:<pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">CatDetail</span><span class="token punctuation">:</span>
  <span class="token key atrule">type</span><span class="token punctuation">:</span> <span class="token string">'object'</span>
  <span class="token key atrule">properties</span><span class="token punctuation">:</span>
    <span class="token punctuation">...</span>
    <span class="token punctuation">-</span> <span class="token key atrule">breed</span><span class="token punctuation">:</span>
        <span class="token key atrule">schema</span><span class="token punctuation">:</span>
          <span class="token key atrule">$ref</span><span class="token punctuation">:</span> <span class="token string">'#/components/schemas/CatBreed'</span>
<span class="token key atrule">CatBreed</span><span class="token punctuation">:</span>
  <span class="token key atrule">type</span><span class="token punctuation">:</span> string
  <span class="token key atrule">enum</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> Persian
    <span class="token punctuation">-</span> Tabby
    <span class="token punctuation">-</span> Siamese</code></pre><blockquote><p>info <strong>Hint</strong> Any <strong>decorator</strong> that takes <code>enum</code> as a property will also take <code>enumName</code>.</blockquote></section><section id="raw-definitions"class="level4"><h4>Raw definitions</h4><p>In some specific scenarios (e.g., deeply nested arrays, matrices), you may want to describe your type by hand.<pre class="language-typescript"><code class="language-typescript"><span class="token decorator"><span class="token at operator">@</span><span class="token function">ApiProperty</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">'array'</span><span class="token punctuation">,</span>
  items<span class="token operator">:</span> <span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token string">'array'</span><span class="token punctuation">,</span>
    items<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token string">'number'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
coords<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><p>Likewise, in order to define your input/output content manually in controller classes, use the <code>schema</code> property:<pre class="language-typescript"><code class="language-typescript"><span class="token decorator"><span class="token at operator">@</span><span class="token function">ApiBody</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  schema<span class="token operator">:</span> <span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token string">'array'</span><span class="token punctuation">,</span>
    items<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token string">'array'</span><span class="token punctuation">,</span>
      items<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'number'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">async</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token decorator"><span class="token at operator">@</span><span class="token function">Body</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> coords<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre></section><section id="extra-models"class="level4"><h4>Extra models</h4><p>To define additional models that are not directly referenced in your controllers but should be inspected by the Swagger module, use the <code>@ApiExtraModels()</code> decorator:<pre class="language-typescript"><code class="language-typescript"><span class="token decorator"><span class="token at operator">@</span><span class="token function">ApiExtraModels</span></span><span class="token punctuation">(</span><span class="token maybe-class-name">ExtraModel</span><span class="token punctuation">)</span>
<span class="token keyword module">export</span> <span class="token keyword">class</span> <span class="token class-name"><span class="token maybe-class-name">CreateCatDto</span></span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre><blockquote><p>info <strong>Hint</strong> You only need to use <code>@ApiExtraModels()</code> once for a specific model class.</blockquote><p>Alternatively, you can pass an options object with the <code>extraModels</code> property specified to the <code>SwaggerModule#createDocument()</code> method, as follows:<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">const</span> <span class="token dom variable">document</span> <span class="token operator">=</span> <span class="token maybe-class-name">SwaggerModule</span><span class="token punctuation">.</span><span class="token method function property-access">createDocument</span><span class="token punctuation">(</span>app<span class="token punctuation">,</span> options<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  extraModels<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token maybe-class-name">ExtraModel</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>To get a reference (<code>$ref</code>) to your model, use the <code>getSchemaPath(ExtraModel)</code> function:<pre class="language-typescript"><code class="language-typescript"><span class="token string-property property">'application/vnd.api+json'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
   schema<span class="token operator">:</span> <span class="token punctuation">{</span> $ref<span class="token operator">:</span> <span class="token function">getSchemaPath</span><span class="token punctuation">(</span><span class="token maybe-class-name">ExtraModel</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre></section><section id="oneof-anyof-allof"class="level4"><h4>oneOf, anyOf, allOf</h4><p>To combine schemas, you can use the <code>oneOf</code>, <code>anyOf</code> or <code>allOf</code> keywords (<a href="https://swagger.io/docs/specification/data-models/oneof-anyof-allof-not/">read more</a>).<pre class="language-typescript"><code class="language-typescript"><span class="token decorator"><span class="token at operator">@</span><span class="token function">ApiProperty</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  oneOf<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> $ref<span class="token operator">:</span> <span class="token function">getSchemaPath</span><span class="token punctuation">(</span><span class="token maybe-class-name">Cat</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> $ref<span class="token operator">:</span> <span class="token function">getSchemaPath</span><span class="token punctuation">(</span><span class="token maybe-class-name">Dog</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
pet<span class="token operator">:</span> <span class="token maybe-class-name">Cat</span> <span class="token operator">|</span> <span class="token maybe-class-name">Dog</span><span class="token punctuation">;</span></code></pre><p>If you want to define a polymorphic array (i.e., an array whose members span multiple schemas), you should use a raw definition (see above) to define your type by hand.<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name"><span class="token maybe-class-name">Pet</span></span> <span class="token operator">=</span> <span class="token maybe-class-name">Cat</span> <span class="token operator">|</span> <span class="token maybe-class-name">Dog</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">ApiProperty</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">'array'</span><span class="token punctuation">,</span>
  items<span class="token operator">:</span> <span class="token punctuation">{</span>
    oneOf<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span> $ref<span class="token operator">:</span> <span class="token function">getSchemaPath</span><span class="token punctuation">(</span><span class="token maybe-class-name">Cat</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> $ref<span class="token operator">:</span> <span class="token function">getSchemaPath</span><span class="token punctuation">(</span><span class="token maybe-class-name">Dog</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
pets<span class="token operator">:</span> <span class="token maybe-class-name">Pet</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><blockquote><p>info <strong>Hint</strong> The <code>getSchemaPath()</code> function is imported from <code>@nestjs/swagger</code>.</blockquote><p>Both <code>Cat</code> and <code>Dog</code> must be defined as extra models using the <code>@ApiExtraModels()</code> decorator (at the class-level). <span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></section></section>