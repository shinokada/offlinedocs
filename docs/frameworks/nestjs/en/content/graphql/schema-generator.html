<!doctype html><html lang="en"><meta charset="utf-8"><title>Generating SDL</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"href="../../../../../../../../../docs/themes/packages/prism-coy-theme/theme_common.css"><section id="generating-sdl"class="level3"><h3>Generating SDL</h3><blockquote><p>warning <strong>Warning</strong> This chapter applies only to the code first approach.</blockquote><p>To manually generate a GraphQL SDL schema (i.e., without running an application, connecting to the database, hooking up resolvers, etc.), use the <code>GraphQLSchemaBuilderModule</code>.<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">generateSchema</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token maybe-class-name">NestFactory</span><span class="token punctuation">.</span><span class="token method function property-access">create</span><span class="token punctuation">(</span><span class="token maybe-class-name">GraphQLSchemaBuilderModule</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">await</span> app<span class="token punctuation">.</span><span class="token method function property-access">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> gqlSchemaFactory <span class="token operator">=</span> app<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token maybe-class-name">GraphQLSchemaFactory</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> schema <span class="token operator">=</span> <span class="token keyword control-flow">await</span> gqlSchemaFactory<span class="token punctuation">.</span><span class="token method function property-access">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token maybe-class-name">RecipesResolver</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token function">printSchema</span><span class="token punctuation">(</span>schema<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><blockquote><p>info <strong>Hint</strong> The <code>GraphQLSchemaBuilderModule</code> and <code>GraphQLSchemaFactory</code> are imported from the <code>@nestjs/graphql</code> package. The <code>printSchema</code> function is imported from the <code>graphql</code> package.</blockquote><section id="usage"class="level4"><h4>Usage</h4><p>The <code>gqlSchemaFactory.create()</code> method takes an array of resolver class references. For example:<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">const</span> schema <span class="token operator">=</span> <span class="token keyword control-flow">await</span> gqlSchemaFactory<span class="token punctuation">.</span><span class="token method function property-access">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token maybe-class-name">RecipesResolver</span><span class="token punctuation">,</span>
  <span class="token maybe-class-name">AuthorsResolver</span><span class="token punctuation">,</span>
  <span class="token maybe-class-name">PostsResolvers</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>It also takes a second optional argument with an array of scalar classes:<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">const</span> schema <span class="token operator">=</span> <span class="token keyword control-flow">await</span> gqlSchemaFactory<span class="token punctuation">.</span><span class="token method function property-access">create</span><span class="token punctuation">(</span>
  <span class="token punctuation">[</span><span class="token maybe-class-name">RecipesResolver</span><span class="token punctuation">,</span> <span class="token maybe-class-name">AuthorsResolver</span><span class="token punctuation">,</span> <span class="token maybe-class-name">PostsResolvers</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token maybe-class-name">DurationScalar</span><span class="token punctuation">,</span> <span class="token maybe-class-name">DateScalar</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Lastly, you can pass an options object:<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">const</span> schema <span class="token operator">=</span> <span class="token keyword control-flow">await</span> gqlSchemaFactory<span class="token punctuation">.</span><span class="token method function property-access">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token maybe-class-name">RecipesResolver</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  skipCheck<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  orphanedTypes<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><ul><li><code>skipCheck</code>: ignore schema validation; boolean, defaults to <code>false</code><li><code>orphanedTypes</code>: list of classes that are not explicitly referenced (not part of the object graph) to be generated. Normally, if a class is declared but isn't otherwise referenced in the graph, it's omitted. The property value is an array of class references. <span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></ul></section></section>