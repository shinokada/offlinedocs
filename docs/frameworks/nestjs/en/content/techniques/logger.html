<!doctype html><html lang="en"><meta charset="utf-8"><title>Logger</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"href="../../../../../../../../../docs/themes/packages/prism-coy-theme/theme_common.css"><section id="logger"class="level3"><h3>Logger</h3><p>Nest comes with a built-in text-based logger which is used during application bootstrapping and several other circumstances such as displaying caught exceptions (i.e., system logging). This functionality is provided via the <code>Logger</code> class in the <code>@nestjs/common</code> package. You can fully control the behavior of the logging system, including any of the following:<ul><li>disable logging entirely<li>specify the log level of detail (e.g., display errors, warnings, debug information, etc.)<li>override timestamp in the default logger (e.g., use ISO8601 standard as date format)<li>completely override the default logger<li>customize the default logger by extending it<li>make use of dependency injection to simplify composing and testing your application</ul><p>You can also make use of the built-in logger, or create your own custom implementation, to log your own application-level events and messages.<p>For more advanced logging functionality, you can make use of any Node.js logging package, such as <a href="https://github.com/winstonjs/winston">Winston</a>, to implement a completely custom, production grade logging system.<section id="basic-customization"class="level4"><h4>Basic customization</h4><p>To disable logging, set the <code>logger</code> property to <code>false</code> in the (optional) Nest application options object passed as the second argument to the <code>NestFactory.create()</code> method.<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token maybe-class-name">NestFactory</span><span class="token punctuation">.</span><span class="token method function property-access">create</span><span class="token punctuation">(</span><span class="token maybe-class-name">AppModule</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  logger<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword control-flow">await</span> app<span class="token punctuation">.</span><span class="token method function property-access">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>To enable specific logging levels, set the <code>logger</code> property to an array of strings specifying the log levels to display, as follows:<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token maybe-class-name">NestFactory</span><span class="token punctuation">.</span><span class="token method function property-access">create</span><span class="token punctuation">(</span><span class="token maybe-class-name">AppModule</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  logger<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'warn'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword control-flow">await</span> app<span class="token punctuation">.</span><span class="token method function property-access">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Values in the array can be any combination of <code>'log'</code>, <code>'error'</code>, <code>'warn'</code>, <code>'debug'</code>, and <code>'verbose'</code>.<blockquote><p>info <strong>Hint</strong> To disable color in the default logger's messages, set the <code>NO_COLOR</code> environment variable to some non-empty string.</blockquote></section><section id="custom-implementation"class="level4"><h4>Custom implementation</h4><p>You can provide a custom logger implementation to be used by Nest for system logging by setting the value of the <code>logger</code> property to an object that fulfills the <code>LoggerService</code> interface. For example, you can tell Nest to use the built-in global JavaScript <code>console</code> object (which implements the <code>LoggerService</code> interface), as follows:<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token maybe-class-name">NestFactory</span><span class="token punctuation">.</span><span class="token method function property-access">create</span><span class="token punctuation">(</span><span class="token maybe-class-name">AppModule</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  logger<span class="token operator">:</span> <span class="token builtin">console</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword control-flow">await</span> app<span class="token punctuation">.</span><span class="token method function property-access">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Implementing your own custom logger is straightforward. Simply implement each of the methods of the <code>LoggerService</code> interface as shown below.<pre class="language-typescript"><code class="language-typescript"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">LoggerService</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@nestjs/common'</span><span class="token punctuation">;</span>

<span class="token keyword module">export</span> <span class="token keyword">class</span> <span class="token class-name"><span class="token maybe-class-name">MyLogger</span></span> <span class="token keyword">implements</span> <span class="token class-name"><span class="token maybe-class-name">LoggerService</span></span> <span class="token punctuation">{</span>
  <span class="token doc-comment comment">/**
   * Write a 'log' level log.
   */</span>
  <span class="token function">log</span><span class="token punctuation">(</span>message<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token spread operator">...</span>optionalParams<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

  <span class="token doc-comment comment">/**
   * Write an 'error' level log.
   */</span>
  <span class="token function">error</span><span class="token punctuation">(</span>message<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token spread operator">...</span>optionalParams<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

  <span class="token doc-comment comment">/**
   * Write a 'warn' level log.
   */</span>
  <span class="token function">warn</span><span class="token punctuation">(</span>message<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token spread operator">...</span>optionalParams<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

  <span class="token doc-comment comment">/**
   * Write a 'debug' level log.
   */</span>
  debug<span class="token operator">?</span><span class="token punctuation">(</span>message<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token spread operator">...</span>optionalParams<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

  <span class="token doc-comment comment">/**
   * Write a 'verbose' level log.
   */</span>
  verbose<span class="token operator">?</span><span class="token punctuation">(</span>message<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token spread operator">...</span>optionalParams<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p>You can then supply an instance of <code>MyLogger</code> via the <code>logger</code> property of the Nest application options object.<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token maybe-class-name">NestFactory</span><span class="token punctuation">.</span><span class="token method function property-access">create</span><span class="token punctuation">(</span><span class="token maybe-class-name">AppModule</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  logger<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token maybe-class-name">MyLogger</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword control-flow">await</span> app<span class="token punctuation">.</span><span class="token method function property-access">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>This technique, while simple, doesn't utilize dependency injection for the <code>MyLogger</code> class. This can pose some challenges, particularly for testing, and limit the reusability of <code>MyLogger</code>. For a better solution, see the <a href="techniques/logger#dependency-injection">Dependency Injection</a> section below.</section><section id="extend-built-in-logger"class="level4"><h4>Extend built-in logger</h4><p>Rather than writing a logger from scratch, you may be able to meet your needs by extending the built-in <code>ConsoleLogger</code> class and overriding selected behavior of the default implementation.<pre class="language-typescript"><code class="language-typescript"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">ConsoleLogger</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@nestjs/common'</span><span class="token punctuation">;</span>

<span class="token keyword module">export</span> <span class="token keyword">class</span> <span class="token class-name"><span class="token maybe-class-name">MyLogger</span></span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token maybe-class-name">ConsoleLogger</span></span> <span class="token punctuation">{</span>
  <span class="token function">error</span><span class="token punctuation">(</span>message<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> stack<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> context<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// add your tailored logic here</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span><span class="token spread operator">...</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p>You can use such an extended logger in your feature modules as described in the <a href="techniques/logger#using-the-logger-for-application-logging">Using the logger for application logging</a> section below.<p>You can tell Nest to use your extended logger for system logging by passing an instance of it via the <code>logger</code> property of the application options object (as shown in the <a href="techniques/logger#custom-logger-implementation">Custom implementation</a> section above), or by using the technique shown in the <a href="techniques/logger#dependency-injection">Dependency Injection</a> section below. If you do so, you should take care to call <code>super</code>, as shown in the sample code above, to delegate the specific log method call to the parent (built-in) class so that Nest can rely on the built-in features it expects.<p><app-banner-courses></app-banner-courses></section><section id="dependency-injection"class="level4"><h4>Dependency injection</h4><p>For more advanced logging functionality, you'll want to take advantage of dependency injection. For example, you may want to inject a <code>ConfigService</code> into your logger to customize it, and in turn inject your custom logger into other controllers and/or providers. To enable dependency injection for your custom logger, create a class that implements <code>LoggerService</code> and register that class as a provider in some module. For example, you can<ol><li>Define a <code>MyLogger</code> class that either extends the built-in <code>ConsoleLogger</code> or completely overrides it, as shown in previous sections. Be sure to implement the <code>LoggerService</code> interface.<li>Create a <code>LoggerModule</code> as shown below, and provide <code>MyLogger</code> from that module.</ol><pre class="language-typescript"><code class="language-typescript"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Module</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@nestjs/common'</span><span class="token punctuation">;</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">MyLogger</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'./my-logger.service'</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Module</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  providers<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token maybe-class-name">MyLogger</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  exports<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token maybe-class-name">MyLogger</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword module">export</span> <span class="token keyword">class</span> <span class="token class-name"><span class="token maybe-class-name">LoggerModule</span></span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre><p>With this construct, you are now providing your custom logger for use by any other module. Because your <code>MyLogger</code> class is part of a module, it can use dependency injection (for example, to inject a <code>ConfigService</code>). There's one more technique needed to provide this custom logger for use by Nest for system logging (e.g., for bootstrapping and error handling).<p>Because application instantiation (<code>NestFactory.create()</code>) happens outside the context of any module, it doesn't participate in the normal Dependency Injection phase of initialization. So we must ensure that at least one application module imports the <code>LoggerModule</code> to trigger Nest to instantiate a singleton instance of our <code>MyLogger</code> class.<p>We can then instruct Nest to use the same singleton instance of <code>MyLogger</code> with the following construction:<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token maybe-class-name">NestFactory</span><span class="token punctuation">.</span><span class="token method function property-access">create</span><span class="token punctuation">(</span><span class="token maybe-class-name">ApplicationModule</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  bufferLogs<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token method function property-access">useLogger</span><span class="token punctuation">(</span>app<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token maybe-class-name">MyLogger</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword control-flow">await</span> app<span class="token punctuation">.</span><span class="token method function property-access">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><blockquote><p>info <strong>Note</strong> In the example above, we set the <code>bufferLogs</code> to <code>true</code> to make sure all logs will be buffered until a custom logger is attached (<code>MyLogger</code> in this case) and the application initialisation process either completes or fails. If the initialisation process fails, Nest will fallback to the original <code>ConsoleLogger</code> to print out any reported error messages. Also, you can set the <code>autoFlushLogs</code> to <code>false</code> (default <code>true</code>) to manually flush logs (using the <code>Logger#flush()</code> method).</blockquote><p>Here we use the <code>get()</code> method on the <code>NestApplication</code> instance to retrieve the singleton instance of the <code>MyLogger</code> object. This technique is essentially a way to "inject" an instance of a logger for use by Nest. The <code>app.get()</code> call retrieves the singleton instance of <code>MyLogger</code>, and depends on that instance being first injected in another module, as described above.<p>You can also inject this <code>MyLogger</code> provider in your feature classes, thus ensuring consistent logging behavior across both Nest system logging and application logging. See <a href="techniques/logger#using-the-logger-for-application-logging">Using the logger for application logging</a> and <a href="techniques/logger#injecting-a-custom-logger">Injecting a custom logger</a> below for more information.</section><section id="using-the-logger-for-application-logging"class="level4"><h4>Using the logger for application logging</h4><p>We can combine several of the techniques above to provide consistent behavior and formatting across both Nest system logging and our own application event/message logging.<p>A good practice is to instantiate <code>Logger</code> class from <code>@nestjs/common</code> in each of our services. We can supply our service name as the <code>context</code> argument in the <code>Logger</code> constructor, like so:<pre class="language-typescript"><code class="language-typescript"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Logger</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Injectable</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@nestjs/common'</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Injectable</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name"><span class="token maybe-class-name">MyService</span></span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token keyword">readonly</span> logger <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token maybe-class-name">Logger</span></span><span class="token punctuation">(</span><span class="token maybe-class-name">MyService</span><span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">logger</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'Doing something...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p>In the default logger implementation, <code>context</code> is printed in the square brackets, like <code>NestFactory</code> in the example below:<pre class="language-bash"><code class="language-bash"><span class="token punctuation">[</span>Nest<span class="token punctuation">]</span> <span class="token number">19096</span>   - <span class="token number">12</span>/08/2019, <span class="token number">7</span>:12:59 AM   <span class="token punctuation">[</span>NestFactory<span class="token punctuation">]</span> Starting Nest application<span class="token punctuation">..</span>.</code></pre><p>If we supply a custom logger via <code>app.useLogger()</code>, it will actually be used by Nest internally. That means that our code remains implementation agnostic, while we can easily substitute the default logger for our custom one by calling <code>app.useLogger()</code>.<p>That way if we follow the steps from the previous section and call <code>app.useLogger(app.get(MyLogger))</code>, the following calls to <code>this.logger.log()</code> from <code>MyService</code> would result in calls to method <code>log</code> from <code>MyLogger</code> instance.<p>This should be suitable for most cases. But if you need more customization (like adding and calling custom methods), move to the next section.</section><section id="injecting-a-custom-logger"class="level4"><h4>Injecting a custom logger</h4><p>To start, extend the built-in logger with code like the following. We supply the <code>scope</code> option as configuration metadata for the <code>ConsoleLogger</code> class, specifying a <a href="/fundamentals/injection-scopes">transient</a> scope, to ensure that we'll have a unique instance of the <code>MyLogger</code> in each feature module. In this example, we do not extend the individual <code>ConsoleLogger</code> methods (like <code>log()</code>, <code>warn()</code>, etc.), though you may choose to do so.<pre class="language-typescript"><code class="language-typescript"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Injectable</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Scope</span><span class="token punctuation">,</span> <span class="token maybe-class-name">ConsoleLogger</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@nestjs/common'</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Injectable</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span> scope<span class="token operator">:</span> <span class="token maybe-class-name">Scope</span><span class="token punctuation">.</span><span class="token constant">TRANSIENT</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword module">export</span> <span class="token keyword">class</span> <span class="token class-name"><span class="token maybe-class-name">MyLogger</span></span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token maybe-class-name">ConsoleLogger</span></span> <span class="token punctuation">{</span>
  <span class="token function">customLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'Please feed the cat!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p>Next, create a <code>LoggerModule</code> with a construction like this:<pre class="language-typescript"><code class="language-typescript"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Module</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@nestjs/common'</span><span class="token punctuation">;</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">MyLogger</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'./my-logger.service'</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Module</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  providers<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token maybe-class-name">MyLogger</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  exports<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token maybe-class-name">MyLogger</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword module">export</span> <span class="token keyword">class</span> <span class="token class-name"><span class="token maybe-class-name">LoggerModule</span></span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre><p>Next, import the <code>LoggerModule</code> into your feature module. Since we extended default <code>Logger</code> we have the convenience of using <code>setContext</code> method. So we can start using the context-aware custom logger, like this:<pre class="language-typescript"><code class="language-typescript"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Injectable</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'@nestjs/common'</span><span class="token punctuation">;</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">MyLogger</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'./my-logger.service'</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Injectable</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword module">export</span> <span class="token keyword">class</span> <span class="token class-name"><span class="token maybe-class-name">CatsService</span></span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token keyword">readonly</span> cats<span class="token operator">:</span> <span class="token maybe-class-name">Cat</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> myLogger<span class="token operator">:</span> <span class="token maybe-class-name">MyLogger</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Due to transient scope, CatsService has its own unique instance of MyLogger,</span>
    <span class="token comment">// so setting context here will not affect other instances in other services</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">myLogger</span><span class="token punctuation">.</span><span class="token method function property-access">setContext</span><span class="token punctuation">(</span><span class="token string">'CatsService'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token maybe-class-name">Cat</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
    <span class="token comment">// You can call all the default methods</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">myLogger</span><span class="token punctuation">.</span><span class="token method function property-access">warn</span><span class="token punctuation">(</span><span class="token string">'About to return cats!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// And your custom methods</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">myLogger</span><span class="token punctuation">.</span><span class="token method function property-access">customLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">cats</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p>Finally, instruct Nest to use an instance of the custom logger in your <code>main.ts</code> file as shown below. Of course in this example, we haven't actually customized the logger behavior (by extending the <code>Logger</code> methods like <code>log()</code>, <code>warn()</code>, etc.), so this step isn't actually needed. But it <strong>would</strong> be needed if you added custom logic to those methods and wanted Nest to use the same implementation.<pre class="language-typescript"><code class="language-typescript"><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token maybe-class-name">NestFactory</span><span class="token punctuation">.</span><span class="token method function property-access">create</span><span class="token punctuation">(</span><span class="token maybe-class-name">ApplicationModule</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  bufferLogs<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token method function property-access">useLogger</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name"><span class="token maybe-class-name">MyLogger</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword control-flow">await</span> app<span class="token punctuation">.</span><span class="token method function property-access">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><blockquote><p>info <strong>Hint</strong> Alternatively, instead of setting <code>bufferLogs</code> to <code>true</code>, you could temporarily disable the logger with <code>logger: false</code> instruction. Be mindful that if you supply <code>logger: false</code> to <code>NestFactory.create</code>, nothing will be logged until you call <code>useLogger</code>, so you may miss some important initialization errors. If you don't mind that some of your initial messages will be logged with the default logger, you can just omit the <code>logger: false</code> option.</blockquote></section><section id="use-external-logger"class="level4"><h4>Use external logger</h4><p>Production applications often have specific logging requirements, including advanced filtering, formatting and centralized logging. Nest's built-in logger is used for monitoring Nest system behavior, and can also be useful for basic formatted text logging in your feature modules while in development, but production applications often take advantage of dedicated logging modules like <a href="https://github.com/winstonjs/winston">Winston</a>. As with any standard Node.js application, you can take full advantage of such modules in Nest. <span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></section></section>