<!doctype html><html lang="en"><meta charset="utf-8"><title>Lifecycle Hooks</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"href="../../../../../../../../docs/themes/packages/prism-coy-theme/theme_common.css"><section id="lifecycle-hooks"class="level1"><h1>Lifecycle Hooks</h1><p>Each Vue component instance goes through a series of initialization steps when it's created - for example, it needs to set up data observation, compile the template, mount the instance to the DOM, and update the DOM when data changes. Along the way, it also runs functions called lifecycle hooks, giving users the opportunity to add their own code at specific stages.<section id="registering-lifecycle-hooks"class="level2"><h2>Registering Lifecycle Hooks</h2><p>For example, the <span class="composition-api"><code>onMounted</code></span><span class="options-api"><code>mounted</code></span> hook can be used to run code after the component has finished the initial rendering and created the DOM nodes:<div class="composition-api"><pre class="language-vue"><code class="language-vue">&#x3C;script setup>
import { onMounted } from 'vue'

onMounted(() => {
  console.log(`the component is now mounted.`)
})
&#x3C;/script></code></pre></div><div class="options-api"><pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">the component is now mounted.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div><p>There are also other hooks which will be called at different stages of the instance's lifecycle, with the most commonly used being <span class="composition-api"><a href="/api/composition-api-lifecycle.html#onmounted"><code>onMounted</code></a>, <a href="/api/composition-api-lifecycle.html#onupdated"><code>onUpdated</code></a>, and <a href="/api/composition-api-lifecycle.html#onunmounted"><code>onUnmounted</code></a>.</span><span class="options-api"><a href="/api/options-lifecycle.html#mounted"><code>mounted</code></a>, <a href="/api/options-lifecycle.html#updated"><code>updated</code></a>, and <a href="/api/options-lifecycle.html#unmounted"><code>unmounted</code></a>.</span><div class="options-api"><p>All lifecycle hooks are called with their <code>this</code> context pointing to the current active instance invoking it. Note this means you should avoid using arrow functions when declaring lifecycle hooks, as you won't be able to access the component instance via <code>this</code> if you do so.</div><div class="composition-api"><p>When calling <code>onMounted</code>, Vue automatically associates the registered callback function with the current active component instance. This requires these hooks to be registered <strong>synchronously</strong> during component setup. For example, do not do this:<pre class="language-js"><code class="language-js"><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// this won't work.</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span></code></pre><p>Do note this doesn't mean that the call must be placed lexically inside <code>setup()</code> or <code>&#x3C;script setup></code>. <code>onMounted()</code> can be called in an external function as long as the call stack is synchronous and originates from within <code>setup()</code>.</div></section><section id="lifecycle-diagram"class="level2"><h2>Lifecycle Diagram</h2><p>Below is a diagram for the instance lifecycle. You don't need to fully understand everything going on right now, but as you learn and build more, it will be a useful reference.<figure><img src="./images/lifecycle.png"alt="Component lifecycle diagram"><figcaption aria-hidden="true">Component lifecycle diagram</figcaption></figure><p>Consult the <span class="composition-api"><a href="/api/composition-api-lifecycle.html">Lifecycle Hooks API reference</a></span><span class="options-api"><a href="/api/options-lifecycle.html">Lifecycle Hooks API reference</a></span> for details on all lifecycle hooks and their respective use cases. <span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></section></section>