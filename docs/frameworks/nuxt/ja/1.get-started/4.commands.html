<!doctype html><html lang="ja"><meta charset="utf-8"><title>コマンドと開発</title><meta name="viewport"content="width=device-width,initial-scale=1"><meta name="description"content="Nuxt は開発と運用両方に役立つ一連のコマンドを用意しています。"><meta name="category"content="get-started"><meta name="video"content="hYdXzIGDlYA"><link rel="stylesheet"href="../../../../../../../../../Vivliostyle/read-html-download-pdf/docs/themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="コマンドと開発"><h1 id="コマンドと開発">コマンドと開発</h1><p>Nuxt は開発と運用両方に役立つ一連のコマンドを用意しています。<hr><section class="level2"aria-labelledby="video-player"><h2 id="video-player">video-player</h2></section><section class="level2"aria-labelledby="src-httpswwwyoutubecomwatchvhydxzigdlya"><h2 id="src-httpswwwyoutubecomwatchvhydxzigdlya">src: <a href="https://www.youtube.com/watch?v=hYdXzIGDlYA">https://www.youtube.com/watch?v=hYdXzIGDlYA</a></h2></section><section class="level2"aria-labelledby="packagejson-を使う"><h2 id="packagejson-を使う">package.json を使う</h2><p>これらのコマンドは <code>package.json</code> に記述する必要があります:<pre class="language-json"><code class="language-json"><span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"dev"</span><span class="token operator">:</span> <span class="token string">"nuxt"</span><span class="token punctuation">,</span>
  <span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"nuxt build"</span><span class="token punctuation">,</span>
  <span class="token property">"start"</span><span class="token operator">:</span> <span class="token string">"nuxt start"</span><span class="token punctuation">,</span>
  <span class="token property">"generate"</span><span class="token operator">:</span> <span class="token string">"nuxt generate"</span>
<span class="token punctuation">}</span></code></pre><p>次に <code>yarn &#x3C;command></code> または <code>npm run &#x3C;command></code> を介してコマンドを起動できます（例: <code>yarn dev</code> / <code>npm run dev</code>）。</section><section class="level2"aria-labelledby="開発環境"><h2 id="開発環境">開発環境</h2><p><code>http://localhost:3000</code> で <a href="https://webpack.js.org/concepts/hot-module-replacement/">hot module replacement</a> を使って開発モードで Nuxt を起動するためには、以下のコマンドを実行します:<pre class="language-bash"><code class="language-bash"><span class="token function">yarn</span> dev</code></pre><pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> run dev</code></pre></section><section class="level2"aria-labelledby="コマンド一覧"><h2 id="コマンド一覧">コマンド一覧</h2><p><a href="./features/deployment-targets">ターゲット</a>に応じて異なるコマンドを実行できます:<section class="level3"aria-labelledby="target-server-デフォルト値"><h3 id="target-server-デフォルト値">target: <code>server</code> (デフォルト値)</h3><ul><li><strong>nuxt dev</strong> - 開発サーバーを起動します。<li><strong>nuxt build</strong> - 本番用の webpack を使用してアプリケーションをビルドおよび最適化します。<li><strong>nuxt start</strong> - (<code>nuxt build</code> を実行した後に)本番サーバーを起動します。Heroku や Digital Ocean などの Node.js ホスティングに使用します。</ul></section><section class="level3"aria-labelledby="target-static"><h3 id="target-static">target: <code>static</code></h3><ul><li><strong>nuxt dev</strong> - 開発サーバーを起動します。<li><strong>nuxt generate</strong> - （必要に応じて）アプリケーションをビルドし、すべてのルートを HTML ファイルとして生成し、<code>dist/</code> ディレクトリに静的にエクスポートします（静的ホスティングに使用されます）。<li><strong>nuxt start</strong> - 静的ホスティング（Netlify、Vercel、Surge など）と同じように <code>dist/</code> ディレクトリを提供します。デプロイ前のテストに最適です。</ul></section></section><section class="level2"aria-labelledby="webpack-の設定を検査"><h2 id="webpack-の設定を検査">Webpack の設定を検査</h2><p><a href="https://cli.vuejs.org/guide/webpack.html#inspecting-the-project-s-webpack-config">vue inspect</a> のように、nuxt がプロジェクトをビルドする際に使用する webpack の設定を検査することができます。<ul><li><strong>nuxt webpack [query...]</strong></ul><p><strong>引数:</strong><ul><li><code>--name</code>: 検査するバンドル名。（client、server、modern）<li><code>--dev</code>: 開発用の webpack の設定を検査します。<li><code>--depth</code>: 検査で出力される深さ。冗長に出力されないように、デフォルトでは 2 が設定されています。<li><code>--no-colors</code>: ANSI カラーを無効にします。（TTY が使用できない場合、またはファイルへパイプしている場合は、デフォルトで無効になります）</ul><p><strong>例:</strong><ul><li><code>nuxt webpack</code><li><code>nuxt webpack devtool</code><li><code>nuxt webpack resolve alias</code><li><code>nuxt webpack module rules</code><li><code>nuxt webpack module rules test=.jsx</code><li><code>nuxt webpack module rules test=.pug oneOf use.0=raw</code><li><code>nuxt webpack plugins constructor.name=WebpackBar options reporter</code><li><code>nuxt webpack module rules loader=vue-</code><li><code>nuxt webpack module rules "loader=.*-loader"</code></ul></section><section class="level2"aria-labelledby="プロダクション開発"><h2 id="プロダクション開発">プロダクション開発</h2><p>Nuxt では、サーバーデプロイと静的デプロイのどちらかを選択することができます。<section class="level3"aria-labelledby="サーバー開発"><h3 id="サーバー開発">サーバー開発</h3><p>SSR アプリケーションをデプロイするためにデフォルト値である <code>target: 'server'</code> を使います。<pre class="language-bash"><code class="language-bash"><span class="token function">yarn</span> build</code></pre><pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> run build</code></pre><p>Nuxt はすべてのものが含まれる <code>.nuxt</code> ディレクトリを作成するので、ホスティングしているサーバーにデプロイする準備ができています。<section class="level4"aria-labelledby="info"><h4 id="info">Info</h4><p><code>.npmignore</code> または <code>.gitignore</code> に <code>.nuxt</code> を入れることをおすすめします。<p>一度アプリケーションがビルドされると、<code>start</code> コマンドを使ってアプリケーションの本番バージョンを確認することができます。<pre class="language-bash"><code class="language-bash"><span class="token function">yarn</span> start</code></pre><pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> run start</code></pre></section></section><section class="level3"aria-labelledby="静的デプロイプリレンダリング"><h3 id="静的デプロイプリレンダリング">静的デプロイ（プリレンダリング）</h3><p>Nuxt を使うと、どんな静的なホスティング上でもウェブアプリケーションをホストすることができます。<p>静的に生成されたサイトをデプロイするには、<code>nuxt.config.js</code> に <code>target: 'static'</code> を指定していることを確認してください（Nuxt v2.13 以上）:<pre class="language-js{}[nuxt.config.js]"><code class="language-js{}[nuxt.config.js]">export default {
  target: 'static'
}</code></pre><pre class="language-bash"><code class="language-bash"><span class="token function">yarn</span> generate</code></pre><pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> run generate</code></pre><p>Nuxt はすべてのものが含まれる <code>dist/</code> ディレクトリを作成するので、静的なホスティングサービスにデプロイする準備ができています。<p>Nuxt v2.13 ではリンクタグをクロールするクローラーがインストールされているので、<code>next generate</code> コマンドを使う際それらのリンクに基づいてルートを生成します。<section class="level4"aria-labelledby="warning"><h4 id="warning">Warning</h4><p><strong>警告:</strong> Nuxt v2.12 以下を使う場合、動的ルートは <code>generate</code> コマンドによって無視されます: <a href="./configuration-glossary/configuration-generate">API Configuration generate</a></section><section class="level4"aria-labelledby="info-1"><h4 id="info-1">Info</h4><p><code>nuxt generate</code> を使ってウェブアプリケーションを生成する場合、<a href="./features/data-fetching#async-data">asyncData</a> と <a href="./features/data-fetching#the-fetch-hook">fetch</a> に与えられる <a href="./internals-glossary/context">context</a> は <code>req</code> と <code>res</code> を持ちません。</section><section class="level4"aria-labelledby="エラー時の失敗fail-on-error"><h4 id="エラー時の失敗fail-on-error"><strong>エラー時の失敗（Fail on Error）</strong></h4><p>ページエラーが発生した際にゼロ以外のステータスコードを返し、CI/CD のデプロイまたはビルドに失敗するようにするには <code>--fail-on-error</code> 引数を使います。<pre class="language-bash"><code class="language-bash"><span class="token function">yarn</span> generate --fail-on-error</code></pre><pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> run generate --fail-on-error</code></pre></section></section></section><section class="level2"aria-labelledby="この次は"><h2 id="この次は">この次は？</h2><section class="level4"aria-labelledby="next"><h4 id="next">Next</h4><p><a href="/deployments">デプロイガイド</a>で人気のホストへのデプロイ例を参照してください。<p><span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></section></section></section>