<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <title>配布ディレクトリ</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="navigation.title" content="dist">
    <meta name="description" content="dist は distribution の略です。dist フォルダは nuxt generate コマンドを使用すると動的に生成されます。dist フォルダ内には、静的に生成された Nuxt アプリケーションをデプロイ、実行するために必要となる本番用の HTML ファイルとアセットが含まれています。">
    <meta name="category" content="directory-structure">
    <meta name="csb_link" content="https://codesandbox.io/embed/github/nuxt-academy/guides-examples/tree/master/04_directory_structure/05_dist?fontsize=14&#x26;hidenavigation=1&#x26;theme=dark">
    <link rel="stylesheet" href="https://raw.githubusercontent.com/shinokada/prism-coy-theme/main/theme_common.css">
  </head>
  <body>
    <section id="配布ディレクトリ" class="level1">
      <h1>配布ディレクトリ</h1>
      <p><code>dist</code> は <em>distribution</em> の略です。dist フォルダは <code>nuxt generate</code> コマンドを使用すると動的に生成されます。dist フォルダ内には、静的に生成された Nuxt アプリケーションをデプロイ、実行するために必要となる本番用の HTML ファイルとアセットが含まれています。</p>
      <hr>
      <section id="デプロイ" class="level3">
        <h3>デプロイ</h3>
        <p>これは<strong>静的ホスティングのために</strong>アップロードする必要があるフォルダで、本番用の HTML ファイルとアセットを含んでいます。</p>
        <section id="warning" class="level4">
          <h4>Warning</h4>
          <p><code>dist</code> ディレクトリはバージョン管理システムにコミットされるべきではありません。<code>nuxt generate</code> を行うたびに自動的に生成されるので、<code>.gitignore</code> で無視してください。</p>
        </section>
      </section>
      <section id="dir-プロパティ" class="level3">
        <h3>dir プロパティ</h3>
        <p>dist フォルダは、デフォルトでは dist という名前になっていますが nuxt.config ファイルで設定することができます。</p>
        <pre class="language-js{}[nuxt.config.js]"><code class="language-js{}[nuxt.config.js]">generate: {
  dir: 'my-site'
}</code></pre>
        <section id="warning-1" class="level4">
          <h4>Warning</h4>
          <p>もし dist フォルダの名前を変更する場合は、git がそれを無視するようにバージョン管理に追加する必要があります。</p>
        </section>
      </section>
      <section id="subfolders-プロパティ" class="level3">
        <h3>subFolders プロパティ</h3>
        <p>Nuxt は、デフォルトでは生成された全てのページをフォルダ内に配置しますが、nuxt.config ファイルを変更して subFolders を false にすることでこれを変更することができます。</p>
        <pre class="language-js{}[nuxt.config.js]"><code class="language-js{}[nuxt.config.js]">generate: {
  subFolders: false
}</code></pre>
      </section>
      <section id="fallback-プロパティ" class="level3">
        <h3>fallback プロパティ</h3>
        <p>サイトをデプロイする際、フォールバックの html パスが正しくセットされていることを確認する必要があります。不明なルートが Nuxt 経由でレンダリングされるようにエラーページとして設定する必要があります。もし設定されていない場合、Nuxt は 200.html のデフォルト値を使用します。</p>
        <p>シングルページアプリケーションを実行しているときは、他のルートが生成されず、必要なファイルは 200.html だけなのでそれを使用するほうが理にかなっています。</p>
        <p>静的に生成されたページで作業する場合、エラーページ用に 404.html を使用することをおすすめします。</p>
        <section id="warning-2" class="level4">
          <h4>Warning</h4>
          <p>ホスティングサービスによっては 200.html もしくは 404.html を使わなければならないかもしれません。ホスティングプロバイダで確認してください。例えば　 Netlify は 404.html を使用しています。</p>
          <pre class="language-js{}[nuxt.config.js]"><code class="language-js{}[nuxt.config.js]">export default {
  generate: {
    fallback: '404.html'
  }
}</code></pre>
        </section>
      </section>
      <section id="excludes-プロパティ" class="level3">
        <h3>excludes プロパティ</h3>
        <p>generate の excludes プロパティを使用することで、生成されるページを除外することができます。静的ページとして生成される代わりにシングルページアプリケーションへとフォールバックされ、クライアントサイドのみでレンダリングされます。</p>
        <pre class="language-js{}[nuxt.config.js]"><code class="language-js{}[nuxt.config.js]">generate: {
  exclude: [/admin/]
}</code></pre>
        <section id="info" class="level4">
          <h4>Info</h4>
          <p>また、正規表現を使用して、特定の単語で始まるページや終わるページ除外することもできます。</p>
          <p><span style="float: footnote;"><a href="../index.html#toc">Go to TOC</a></span></p>
        </section>
      </section>
    </section>
  </body>
</html>
