<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <title>デプロイターゲット</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="category" content="features">
    <link rel="stylesheet" href="https://raw.githubusercontent.com/shinokada/prism-coy-theme/main/theme_common.css">
  </head>
  <body>
    <section id="デプロイターゲット" class="level1">
      <h1>デプロイターゲット</h1>
      <section id="静的ホスティング" class="level2">
        <h2>静的ホスティング</h2>
        <p>Nuxt は静的サイトジェネレータとしても機能します。Nuxt アプリケーションを静的にレンダリングし、サーバーなしでユニバーサルアプリケーションのいいところが全て使えます。<code>nuxt generate</code> コマンドはウェブサイトの静的バージョンを生成します。ルートごとに HTML を生成し、それを <code>dist/</code> ディレクトリ内に配置します。これによりパフォーマンスと SEO が向上し、オフラインサポートが向上します。</p>
        <section id="info" class="level4">
          <h4>Info</h4>
          <p><a href="./configuration-glossary/configuration-generate#crawler">Nuxt Crawler</a> のおかげで動的なルートも生成されます。</p>
          <p>For static sites the target of <code>static</code> needs to be added to your <code>nuxt.config</code> file.</p>
          <pre class="language-js{}[nuxt.config.js]"><code class="language-js{}[nuxt.config.js]">export default {
  target: 'static' // デフォルトは 'server'
}</code></pre>
          <p><strong>target を static にした状態で nuxt dev を実行すると、開発者の体験は向上するでしょう:</strong></p>
          <ul>
            <li><code>context</code> から <code>req</code> と <code>res</code> を削除します</li>
            <li>クライアントサイドレンダリングの 404、エラー、リダイレクトをフォールバックします <a href="./concepts/static-site-generation#spa-fallback">SPA フォールバックを参照</a></li>
            <li>サーバーサイドレンダリングでは常に <code>$route.query</code> と <code>{}</code> は等しくなります</li>
            <li><code>process.static</code> は true になります</li>
          </ul>
        </section>
        <section id="info-1" class="level4">
          <h4>Info</h4>
          <p>また、モジュールの製作者がユーザーターゲットに応じてロジックを追加するために <code>process.target</code> を公開しています。</p>
        </section>
      </section>
      <section id="サーバーホスティング" class="level2">
        <h2>サーバーホスティング</h2>
        <p>サーバーホスティングとは、Node.js サーバー上で Nuxt を動かすことです。ユーザーがあなたのページを開くと、ユーザーのブラウザはサーバーからそのページをリクエストします。Nuxt はそのリクエストを処理し、ページをレンダリングして、結果のページをすべてのコンテンツとともに送り返します。</p>
        <p>生成時にあらかじめHTMLをレンダリングするのではなく、リクエストごとにレンダリングしたい場合や、<a href="./configuration-glossary/configuration-servermiddleware">serverMiddleware</a>が必要な場合は、サーバーホスティングが必要かもしれません。</p>
        <section id="info-2" class="level4">
          <h4>Info</h4>
          <p><code>ssr: false</code> を指定してサーバーホスティングで Nuxt を実行することはできますが、Nuxt は各ページの HTML を完全にはレンダリングしません。サーバーミドルウェアは必要だが、サーバーサイドで完全にレンダリングされた HTML は必要ないという場合に、このオプションを選択することができます。</p>
          <p>サーバーホスティングの場合は、デフォルトである <code>target: 'server'</code> が使用されます。アプリケーションをビルドするには、<code>build</code> コマンドを使用します。</p>
          <pre class="language-js{}[nuxt.config.js]"><code class="language-js{}[nuxt.config.js]">export default {
  target: 'server'
}</code></pre>
          <p><span style="float: footnote;"><a href="../index.html#toc">Go to TOC</a></span></p>
        </section>
      </section>
    </section>
  </body>
</html>
