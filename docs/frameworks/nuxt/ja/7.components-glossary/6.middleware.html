<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <title>middleware プロパティ</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="アプリケーションの特定のページにミドルウェアを設定します。">
    <meta name="navigation.title" content="Middleware Property">
    <meta name="category" content="components-glossary">
    <link rel="stylesheet" href="https://raw.githubusercontent.com/shinokada/prism-coy-theme/main/theme_common.css">
  </head>
  <body>
    <section id="middleware-プロパティ" class="level1">
      <h1>middleware プロパティ</h1>
      <p>アプリケーションの特定のページにミドルウェアを設定します。</p>
      <hr>
      <ul>
        <li>型: <code>String</code> または <code>Array</code> または <code>Function</code>
          <ul>
            <li>要素: <code>String</code> または <code>Function</code></li>
          </ul>
        </li>
      </ul>
      <section id="名前付きミドルウェア" class="level2">
        <h2>名前付きミドルウェア</h2>
        <p><code>middleware/</code> ディレクトリ内にファイルを作成することで名前付きミドルウェアを作成できます。ファイル名がミドルウェア名になります。</p>
        <pre class="language-js{}[middleware/authenticated.js]"><code class="language-js{}[middleware/authenticated.js]">export default function ({ store, redirect }) {
  // ユーザーが認証されていない場合
  if (!store.state.authenticated) {
    return redirect('/login')
  }
}</code></pre>
        <pre class="language-html{}[pages/secret.vue]"><code class="language-html{}[pages/secret.vue]">&#x3C;template>
  &#x3C;h1>Secret page&#x3C;/h1>
&#x3C;/template>

&#x3C;script>
  export default {
    middleware: 'authenticated'
  }
&#x3C;/script></code></pre>
      </section>
      <section id="無名ミドルウェア" class="level2">
        <h2>無名ミドルウェア</h2>
        <p>特定のページにだけミドルウェアを使用する必要がある場合は、関数（もしくは関数の配列）を直接使用できます：</p>
        <pre class="language-html{}[pages/secret.vue]"><code class="language-html{}[pages/secret.vue]">&#x3C;template>
  &#x3C;h1>Secret page&#x3C;/h1>
&#x3C;/template>

&#x3C;script>
  export default {
    middleware({ store, redirect }) {
      // ユーザーが認証されていない場合
      if (!store.state.authenticated) {
        return redirect('/login')
      }
    }
  }
&#x3C;/script></code></pre>
        <p><span style="float: footnote;"><a href="../index.html#toc">Go to TOC</a></span></p>
      </section>
    </section>
  </body>
</html>
