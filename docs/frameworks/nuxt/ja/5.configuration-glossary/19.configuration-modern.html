<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <title>modern プロパティ</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="navigation.title" content="modern">
    <meta name="description" content="ビルドとモダンなバンドルの提供">
    <meta name="menu" content="modern">
    <meta name="category" content="configuration-glossary">
    <link rel="stylesheet" href="https://raw.githubusercontent.com/shinokada/prism-coy-theme/main/theme_common.css">
  </head>
  <body>
    <section id="modern-プロパティ" class="level1">
      <h1>modern プロパティ</h1>
      <p>ビルドとモダンなバンドルの提供</p>
      <hr>
      <blockquote>
        <p>この機能は <a href="https://cli.vuejs.org/guide/browser-compatibility.html#modern-mode">vue-cli の modern mode</a> にインスパイアされています</p>
      </blockquote>
      <ul>
        <li>型: <code>String</code> または <code>Boolean</code>
          <ul>
            <li>デフォルト: false</li>
            <li>設定できる値:
              <ul>
                <li><code>'client'</code>: モダンバンドル <code>&#x3C;script type="module"></code> とレガシーバンドル <code>&#x3C;script nomodule></code> スクリプトの両方を提供し、モダンバンドル用の <code>&#x3C;link rel="modulepreload"></code> も提供します。module タイプを理解するすべてのブラウザではモダンバンドルをロードしますが、古いブラウザではレガシー（トランスパイルされた）バンドルにフォールバックします。</li>
                <li><code>'server'</code> または <code>true</code>: Node.js サーバーは、ユーザーエージェントに基づいてブラウザのバージョンをチェックし、対応するモダンバンドルまたはレガシーバンドルを提供します。</li>
                <li><code>false</code>: モダンビルドを無効にします</li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
      <p>2 つのバージョンのバンドルについて:</p>
      <ol>
        <li>モダンバンドル: ES modules をサポートするモダンなブラウザを対象にしています。</li>
        <li>レガシーバンドル: babel config（デフォルトでは IE9 互換）をベースにした古いブラウザを対象にしています。</li>
      </ol>
      <p><strong>情報:</strong></p>
      <ul>
        <li>モダンバンドルでビルド/スタートするにはコマンドオプション <code>[--modern | -m]=[mode]</code> を使ってください:</li>
      </ul>
      <pre class="language-json{}[package.json]"><code class="language-json{}[package.json]">{
  "scripts": {
    "build:modern": "nuxt build --modern=server",
    "start:modern": "nuxt start --modern=server"
  }
}</code></pre>
      <p><strong><em>nuxt generate</em> に関する注意:</strong> <code>modern</code> プロパティは <code>nuxt generate</code> コマンドでも動作しますが、この場合は <code>client</code> オプションだけが優先され <code>nuxt generate --modern</code> コマンドを値なしで実行した際に自動的に選択されます。</p>
      <ul>
        <li><code>modern</code> が指定されていない場合、Nuxt は <code>nuxt start</code> の <code>modern</code> ビルドを自動的に検出します。自動検出モードは次のとおりです:</li>
      </ul>
      <table>
        <thead>
          <tr>
            <th align="left">ssr</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td align="left">true</td>
          </tr>
          <tr>
            <td align="left">false</td>
          </tr>
        </tbody>
      </table>
      <ul>
        <li><code>nuxt generate</code> のモダンモードは <code>client</code> のみになります。</li>
        <li><a href="./configuration-glossary/configuration-render#crossorigin"><code>render.crossorigin</code></a> を使って <code>&#x3C;link></code> と <code>&#x3C;script></code> タグに <code>crossorigin</code> 属性を設定します。</li>
      </ul>
      <blockquote>
        <p>
          モダンビルドについての詳細は <a href="https://philipwalton.com/articles/deploying-es2015-code-in-production-today/">Phillip Walton さんの素晴らしい投稿</a>を参照してください。
          <span style="float: footnote;"><a href="../index.html#toc">Go to TOC</a></span>
        </p>
      </blockquote>
    </section>
  </body>
</html>
