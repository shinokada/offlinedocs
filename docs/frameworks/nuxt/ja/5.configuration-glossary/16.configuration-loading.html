<!doctype html><html lang="ja"><meta charset="utf-8"><title>loading プロパティ</title><meta name="viewport"content="width=device-width,initial-scale=1"><meta name="navigation.title"content="loading"><meta name="description"content="Nuxt はルート間遷移時にローディングプログレスバーを表示するコンポーネントを用意しています。このコンポーネントをカスタマイズしたり、無効にしたりできます。また、独自のコンポーネントの作成もできます。"><meta name="menu"content="loading"><meta name="category"content="configuration-glossary"><link rel="stylesheet"type="text/css"href="../../../../../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="loading-プロパティ"><h1 id="loading-プロパティ">loading プロパティ</h1><p>Nuxt はルート間遷移時にローディングプログレスバーを表示するコンポーネントを用意しています。このコンポーネントをカスタマイズしたり、無効にしたりできます。また、独自のコンポーネントの作成もできます。<hr><ul><li>型: <code>Boolean</code> または <code>Object</code> または <code>String</code></ul><pre class="language-javascript"><code class="language-javascript"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">$nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">$nuxt</span><span class="token punctuation">.</span><span class="token property-access">$loading</span><span class="token punctuation">.</span><span class="token method function property-access">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">$nuxt</span><span class="token punctuation">.</span><span class="token property-access">$loading</span><span class="token punctuation">.</span><span class="token method function property-access">finish</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><section class="level2"aria-labelledby="プログレスバーを無効にする"><h2 id="プログレスバーを無効にする">プログレスバーを無効にする</h2><ul><li>型: <code>Boolean</code></ul><pre class="language-js{}[nuxt.config.js]"><code class="language-js{}[nuxt.config.js]">export default {
  loading: false
}</code></pre></section><section class="level2"aria-labelledby="プログレスバーをカスタマイズする"><h2 id="プログレスバーをカスタマイズする">プログレスバーをカスタマイズする</h2><ul><li>型: <code>Object</code></ul><pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">loading</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'blue'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token string">'5px'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p>プログレスバーをカスタマイズするためのプロパティのリスト。 | キー | 型 | デフォルト | 説明 | | | | <code>color</code> | String | <code>'black'</code> | プログレスバーの CSS カラー | | <code>failedColor</code> | String | <code>'red'</code> | ルートをレンダリング中にエラー（例えば <code>data</code> や <code>fetch</code> がエラーを返したとき）が発生した場合のプログレスバーの CSS カラーです | | <code>height</code> | String | <code>'2px'</code> | プログレスバーの高さ（プログレスバーの <code>style</code> プロパティで使われる）| | <code>throttle</code> | Number | <code>200</code> | ミリ秒単位で指定された時間待ったのちにプログレスバーを表示します。 プログレスバーの点滅を防ぐために利用します | | <code>duration</code> | Number | <code>5000</code> | プログレスバーを表示する時間の最大値をミリ秒で指定します。Nuxt は各ルートが 5 秒以内にレンダリングされると想定しています | | <code>continuous</code> | Boolean | <code>false</code> | ローディングが <code>duration</code> で指定した時間より長くかかる場合は、プログレスバーのアニメーションを表示したままにします | | <code>css</code> | Boolean | <code>true</code> | デフォルトのプログレスバーのスタイルを削除（そして、独自に追加）する場合には false に設定します | | <code>rtl</code> | Boolean | <code>false</code> | プログレスバーの向きを右から左に設定します |</section><section class="level2"aria-labelledby="独自のローディングコンポーネントを使う"><h2 id="独自のローディングコンポーネントを使う">独自のローディングコンポーネントを使う</h2><ul><li>型: <code>String</code></ul><p><strong>Your component has to expose some of these methods:</strong><p>| メソッド | 必須かどうか | 説明 | | | | <code>start()</code> | 必須 | ルートが変更されたときに呼び出されます。このときに独自コンポーネントの表示が開始されます | | <code>finish()</code> | 必須 | ルートがロード（及びデータ取得）されたときに呼び出されます。このときに独自コンポーネントが表示が終了します | | <code>fail(error)</code> | <em>任意</em> | ルートがロードできなかったときに呼び出されます（例えばデータの取得に失敗したなど） | | <code>increase(num)</code> | <em>任意</em> | ルートのコンポーネントがロードされている間に呼び出されます。<code>num</code> は 100 未満の整数です |<pre class="language-html{}[components/loading.vue]"><code class="language-html{}[components/loading.vue]">&#x3C;template lang="html">
  &#x3C;div class="loading-page" v-if="loading">
    &#x3C;p>Loading...&#x3C;/p>
  &#x3C;/div>
&#x3C;/template>

&#x3C;script>
  export default {
    data: () => ({
      loading: false
    }),
    methods: {
      start() {
        this.loading = true
      },
      finish() {
        this.loading = false
      }
    }
  }
&#x3C;/script>

&#x3C;style scoped>
  .loading-page {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(255, 255, 255, 0.8);
    text-align: center;
    padding-top: 200px;
    font-size: 30px;
    font-family: sans-serif;
  }
&#x3C;/style></code></pre><pre class="language-js{}[nuxt.config.js]"><code class="language-js{}[nuxt.config.js]">export default {
  loading: '~/components/loading.vue'
}</code></pre><p><span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></section></section>