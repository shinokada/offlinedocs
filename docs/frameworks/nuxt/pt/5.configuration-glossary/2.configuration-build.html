<!doctypehtml><html lang="pt"><meta charset="utf-8"><title>A propriedade build</title><meta name="viewport"content="width=device-width,initial-scale=1"><meta name="navigation.title"content="build"><meta name="description"content="O Nuxt permite você personalizar a configuração do webpack para construir a sua aplicação web como você quiser."><meta name="menu"content="build"><meta name="category"content="configuration-glossary"><link rel="stylesheet"href="https://raw.githubusercontent.com/shinokada/prism-coy-theme/main/theme_common.css"><section id="a-propriedade-build"class="level1"><h1>A propriedade build</h1><p>O Nuxt permite você personalizar a configuração do webpack para construir a sua aplicação web como você quiser.<hr><section id="a-propriedade-analyze"class="level2"><h2>A propriedade analyze</h2><blockquote><p>O Nuxt usa o <a href="https://github.com/webpack-contrib/webpack-bundle-analyzer">webpack-bundle-analyzer</a> para permitir você visualizar seus pacotes e como otimizar eles.</blockquote><ul><li>Tipo: <code>Boolean</code> ou <code>Object</code><li>Padrão: <code>false</code></ul><p>Se for um objeto, veja as propriedades disponíveis <a href="https://github.com/webpack-contrib/webpack-bundle-analyzer#options-for-plugin">aqui</a>.<pre class="language-js{}[nuxt.config.js]"><code class="language-js{}[nuxt.config.js]">export default {
  build: {
    analyze: true,
    // ou
    analyze: {
      analyzerMode: 'static'
    }
  }
}</code></pre><section id="info"class="level4"><h4>Info</h4><p><strong>Informação:</strong> você pode usar o comando <code>yarn nuxt build --analyze</code> ou <code>yarn nuxt build -a</code> para construir a sua aplicação e lançar o analisador de pacote sobre o <a href="http://localhost:8888">http://localhost:8888</a>. Se você não estiver usando <code>yarn</code> você pode executar o comando com <code>npx</code>.</section></section><section id="a-propriedade-corejs"class="level2"><h2>A propriedade corejs</h2><blockquote><p>Desde o <a href="https://github.com/nuxt/nuxt.js/releases/tag/v2.14.0">Nuxt@2.14</a> o Nuxt automaticamente deteta a versão atual do <code>core-js</code> dentro do seu projeto, você também pode especificar qual versão você deseja usar.</blockquote><ul><li>Tipo: <code>number</code> | <code>string</code> (os valores válidos são <code>'auto'</code>, <code>2</code> e <code>3</code>)<li>Padrão: <code>'auto'</code></ul></section><section id="a-propriedade-babel"class="level2"><h2>A propriedade babel</h2><blockquote><p>Personalize a configuração do Babel para os ficheiros JavaScript e Vue. <code>.babelrc</code> é ignorado por padrão.</blockquote><ul><li><p>Tipo: <code>Object</code><li><p>Consulte as <a href="https://github.com/babel/babel-loader#options">opções</a> do <code>babel-loader</code> e as <a href="https://babeljs.io/docs/en/options">opções</a> do <code>babel</code><li><p>Padrão:<pre class="language-js"><code class="language-js"><span class="token punctuation">{</span>
  <span class="token literal-property property">babelrc</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">cacheDirectory</span><span class="token operator">:</span> <span class="token keyword nil">undefined</span><span class="token punctuation">,</span>
  <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'@nuxt/babel-preset-app'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre></ul><p>A alvos padrão do <a href="https://github.com/nuxt/nuxt.js/blob/dev/packages/babel-preset-app/src/index.js">@nuxt/babel-preset-app</a> são: <code>ie: '9'</code> na construição do <code>client</code>, e <code>node: 'current'</code> na construção do <code>server</code>.<section id="o-método-presets"class="level3"><h3>O método presets</h3><ul><li>Tipo: <code>Function</code><li>Argumento:<ol><li><code>Object</code>: <ruby>isServer: true <rt>false</ruby><li><code>Array</code>:<ul><li>nome prédefinido <code>@nuxt/babel-preset-app</code><li><a href="https://github.com/nuxt/nuxt.js/tree/dev/packages/babel-preset-app#options"><code>opções</code></a> do <code>@nuxt/babel-preset-app</code></ul></ol></ul><p><strong>Nota:</strong>: O <code>presets</code> configurado dentro do <code>build.babel.presets</code> será aplicado a ambas, construção cliente e a do servidor. O alvo será definido pelo Nuxt de acordo com o (cliente/servidor). Se você quiser configurar o <code>preset</code> diferentemente para a construção do cliente ou do servidor, use o <code>presets</code> como uma função:<blockquote><p>Nós <strong>recomendamos fortemente</strong> a usar o <code>preset</code> padrão ao invés da personalização abaixo</blockquote><pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">build</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">babel</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">presets</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> isServer <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span> preset<span class="token punctuation">,</span> options <span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// muda as opções diretamente</span>
        options<span class="token punctuation">.</span><span class="token property-access">targets</span> <span class="token operator">=</span> isServer <span class="token operator">?</span> <span class="token spread operator">...</span> <span class="token operator">:</span>  <span class="token spread operator">...</span>
        options<span class="token punctuation">.</span><span class="token property-access">corejs</span> <span class="token operator">=</span> <span class="token spread operator">...</span>
        <span class="token comment">// não retorna nada</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p>Ou sobrescreva o valor padrão ao retornar a lista de <code>presets</code> inteira:<pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">build</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">babel</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">presets</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> isServer <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>preset<span class="token punctuation">,</span> options<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword control-flow">return</span> <span class="token punctuation">[</span>
          <span class="token punctuation">[</span>
            preset<span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              <span class="token literal-property property">targets</span><span class="token operator">:</span> isServer <span class="token operator">?</span> <span class="token spread operator">...</span> <span class="token operator">:</span>  <span class="token spread operator">...</span><span class="token punctuation">,</span>
              <span class="token spread operator">...</span>options
            <span class="token punctuation">}</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">[</span>
            <span class="token comment">// Outras predefinições</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></section></section><section id="a-propriedade-cache"class="level2"><h2>A propriedade cache</h2><ul><li>Tipo: <code>Boolean</code><li>Padrão: <code>false</code><li>⚠️ Experimental</ul><blockquote><p>Ativa o cache do <a href="https://github.com/webpack-contrib/terser-webpack-plugin#options">terser-webpack-plugin</a> e do <a href="https://github.com/webpack-contrib/cache-loader#cache-loader">cache-loader</a></blockquote></section><section id="a-propriedade-csssourcemap"class="level2"><h2>A propriedade cssSourceMap</h2><ul><li>Tipo: <code>boolean</code><li>Padrão: <code>true</code> para o desenvolvimento e <code>false</code> para a produção.</ul><blockquote><p>Ativa o suporte ao CSS Source Map (Mapa da Fonte do CSS)</blockquote></section><section id="a-propriedade-devmiddleware"class="level2"><h2>A propriedade devMiddleware</h2><ul><li>Tipo: <code>Object</code></ul><p>Consulte o <a href="https://github.com/webpack/webpack-dev-middleware">webpack-dev-middleware</a> para conhecer as opções disponíveis.</section><section id="a-propriedade-devtools"class="level2"><h2>A propriedade devtools</h2><ul><li>Tipo: <code>boolean</code><li>Padrão: <code>false</code></ul><p>Configura-se para permitir inspeção do <a href="https://github.com/vuejs/vue-devtools">vue-devtools</a>.<p>Se você já a ativou através do ficheiro <code>nuxt.config.js</code> ou de outra maneira, a ferramenta de desenvolvimento ativa apesar da bandeira.</section><section id="o-método-extend"class="level2"><h2>O método extend</h2><blockquote><p>Estende a configuração do webpack manualmente para os pacotes do cliente e do servidor.</blockquote><ul><li>Tipo: <code>Function</code></ul><p>O <code>extend</code> é chamado duas vezes, uma vez para o pacote do servidor, e uma vez para o pacote do cliente. Os argumentos do método são:<ol><li>O objeto de configuração do Webpack,<li>Um objeto com as seguintes chaves (todas booleanas exceto <code>loaders</code>): <code>isDev</code>, <code>isClient</code>, <code>isServer</code>, <code>loaders</code>.</ol><section id="warning"class="level4"><h4>Warning</h4><p><strong>Aviso:</strong> As chaves <code>isClient</code> e <code>isServer</code> fornecidas são separadas das chaves disponíveis dentro do <a href="./internals-glossary/context"><code>contexto</code></a>. Elas <strong>não</strong> estão depreciadas. Não use <code>process.client</code> e <code>process.server</code> aqui neste ponto quando eles forem <code>undefined</code>.<pre class="language-js{}[nuxt.config.js]"><code class="language-js{}[nuxt.config.js]">export default {
  build: {
    extend(config, { isClient }) {
      // Extend only webpack config for client-bundle
      if (isClient) {
        config.devtool = 'source-map'
      }
    }
  }
}</code></pre><p>Se você quiser ver mais sobre nossa configuração padrão do webpack, dê uma vista de olhos no nosso <a href="https://github.com/nuxt/nuxt.js/tree/dev/packages/webpack/src/config">diretório do webpack</a>.</section><section id="o-objeto-loaders-dentro-do-extend"class="level3"><h3>O objeto loaders dentro do extend</h3><p>O <code>loaders</code> tem a mesma estrutura de objeto que o <a href="#a-propriedade-loaders">build.loaders</a>, assim você pode mudar as opções de <code>loaders</code> dentro do <code>extend</code>.<pre class="language-js{}[nuxt.config.js]"><code class="language-js{}[nuxt.config.js]">export default {
  build: {
    extend(config, { isClient, loaders: { vue } }) {
      // Estende a configuração do webpack somente para o pacote do cliente
      if (isClient) {
        vue.transformAssetUrls.video = ['src', 'poster']
      }
    }
  }
}</code></pre></section></section><section id="a-propriedade-extractcss"class="level2"><h2>A propriedade extractCSS</h2><blockquote><p>Ativa a Common CSS Extraction (Extração Comum do CSS) usando as <a href="https://ssr.vuejs.org/en/css.html">orientações</a> do Vue Server Renderer (Servidor Renderizador do Vue).</blockquote><ul><li>Tipo: <code>Boolean</code> ou <code>Object</code><li>Padrão: <code>false</code></ul><p>Ao usar o <a href="https://github.com/faceyspacey/extract-css-chunks-webpack-plugin/"><code>extract-css-chunks-webpack-plugin</code></a> nos bastidores, todo o seu CSS será extraido em ficheiros separados, normalmente um por componente. Isto permite o cacheamento do seu CSS e JavaScript separadamente e vale a pena tentar no caso de você ter um grande volume ou CSS partilhado.<p>Exemplo (<code>nuxt.config.js</code>):<pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">build</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">extractCSS</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// ou</span>
    <span class="token literal-property property">extractCSS</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">ignoreOrder</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><section id="info-1"class="level4"><h4>Info</h4><p><strong>Nota:</strong> Havia um bug antes do Vue 2.5.18 que removia a importação de CSS crítico quando usada esta opção.<p>Você talvez queira extrair todo o seu CSS em ficheiro único. Existe uma maneira de dar a volta a isto:</section><section id="warning-1"class="level4"><h4>Warning</h4><p>Não é recomendado extrair tudo em um ficheiro único. A extração em vários ficheiros CSS é melhor para o cacheamento e para isolação do precarregamento. Isto pode também melhorar o desempenho da página ao descarregar e resolver somente aqueles recursos que são necessários.<pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">build</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">extractCSS</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">splitChunks</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">cacheGroups</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">styles</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'styles'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(css|vue)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token string">'all'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">enforce</span><span class="token operator">:</span> <span class="token boolean">true</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></section></section><section id="a-propriedade-filenames"class="level2"><h2>A propriedade filenames</h2><blockquote><p>Personaliza os nomes de ficheiro de pacote.</blockquote><ul><li><p>Tipo: <code>Object</code><li><p>Padrão:<pre class="language-js"><code class="language-js"><span class="token punctuation">{</span>
  <span class="token function-variable function">app</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> isDev<span class="token punctuation">,</span> isModern <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> isDev <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">[name]</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>isModern <span class="token operator">?</span> <span class="token string">'.modern'</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.js</span><span class="token template-punctuation string">`</span></span> <span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">[contenthash:7]</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>isModern <span class="token operator">?</span> <span class="token string">'.modern'</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.js</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
  <span class="token function-variable function">chunk</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> isDev<span class="token punctuation">,</span> isModern <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> isDev <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">[name]</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>isModern <span class="token operator">?</span> <span class="token string">'.modern'</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.js</span><span class="token template-punctuation string">`</span></span> <span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">[contenthash:7]</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>isModern <span class="token operator">?</span> <span class="token string">'.modern'</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.js</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
  <span class="token function-variable function">css</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> isDev <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> isDev <span class="token operator">?</span> <span class="token string">'[name].css'</span> <span class="token operator">:</span> <span class="token string">'css/[contenthash:7].css'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">img</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> isDev <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> isDev <span class="token operator">?</span> <span class="token string">'[path][name].[ext]'</span> <span class="token operator">:</span> <span class="token string">'img/[name].[contenthash:7].[ext]'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">font</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> isDev <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> isDev <span class="token operator">?</span> <span class="token string">'[path][name].[ext]'</span> <span class="token operator">:</span> <span class="token string">'fonts/[name].[contenthash:7].[ext]'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">video</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> isDev <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> isDev <span class="token operator">?</span> <span class="token string">'[path][name].[ext]'</span> <span class="token operator">:</span> <span class="token string">'videos/[name].[contenthash:7].[ext]'</span>
<span class="token punctuation">}</span></code></pre></ul><p>Este exemplo muda pedaços agradáveis de nomes para identificadores numéricos:<pre class="language-js{}[nuxt.config.js]"><code class="language-js{}[nuxt.config.js]">export default {
  build: {
    filenames: {
      chunk: ({ isDev }) => (isDev ? '[name].js' : '[id].[contenthash].js')
    }
  }
}</code></pre><p>Para entender um pouco mais sobre o uso de manifestos, dê uma vista de olhos na <a href="https://webpack.js.org/guides/code-splitting/">documentação do webpack</a>.<section id="warning-2"class="level4"><h4>Warning</h4><p>Seja cuidadoso quando estiver usando nomes de ficheiros que não são baseados em hash em produção assim a maioria dos navegadores cachearão o recurso e não detectarão as mudanças no primeiro carregamento.</section></section><section id="a-propriedade-friendlyerrors"class="level2"><h2>A propriedade friendlyErrors</h2><ul><li>Tipo: <code>Boolean</code><li>Padrão: <code>true</code> (cobertura ativada)</ul><p>Ativa ou desativa a cobertura fornecida pelo <a href="https://github.com/nuxt/friendly-errors-webpack-plugin">FriendlyErrorsWebpackPlugin</a></section><section id="a-propriedade-hardsource"class="level2"><h2>A propriedade hardSource</h2><ul><li>Tipo: <code>Boolean</code><li>Padrão: <code>false</code><li>⚠️ Experimental</ul><p>Ativa o <a href="https://github.com/mzgoddard/hard-source-webpack-plugin">HardSourceWebpackPlugin</a> para melhoramento do cache</section><section id="a-propriedade-hotmiddleware"class="level2"><h2>A propriedade hotMiddleware</h2><ul><li>Tipo: <code>Object</code></ul><p>Consulte o <a href="https://github.com/glenjamin/webpack-hot-middleware">webpack-hot-middleware</a> para saber as opções disponíveis</section><section id="a-propriedade-htmlminify"class="level2"><h2>A propriedade html.minify</h2><ul><li>Tipo: <code>Object</code><li>Padrão:</ul><pre class="language-js"><code class="language-js"><span class="token punctuation">{</span>
  <span class="token literal-property property">collapseBooleanAttributes</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">decodeEntities</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">minifyCSS</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">minifyJS</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">processConditionalComments</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">removeEmptyAttributes</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">removeRedundantAttributes</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">trimCustomFragments</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">useShortDoctype</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span></code></pre><p><strong>Atenção:</strong> Se você fizer mudanças ao <code>html.minify</code>, elas não serão combinadas com os padrões!<p>Configuração para o plugin <a href="https://github.com/kangax/html-minifier">html-minifier</a> usada para minificar os ficheiros HTML criados durante o processo de construção (serão aplicados a <em>todos os modos</em>).</section><section id="a-propriedade-indicator"class="level2"><h2>A propriedade indicator</h2><blockquote><p>Mostra o indicador de construção para o substituição forte de módulo em desenvolvimento (disponível nas versões <code>v2.8.0+</code>)</blockquote><ul><li>Tipo: <code>Boolean</code><li>Padrão: <code>true</code></ul><figure><img src="https://user-images.githubusercontent.com/5158436/58500509-93ba0f80-8197-11e9-8524-e115c6d32571.gif"alt="nuxt-build-indicator"><figcaption aria-hidden="true">nuxt-build-indicator</figcaption></figure></section><section id="a-propriedade-loaders"class="level2"><h2>A propriedade loaders</h2><blockquote><p>Personliaza as opções do Nuxt integradas aos loaders (carregadores) do webpack.</blockquote><ul><li>Tipo: <code>Object</code><li>Padrão:</ul><pre class="language-js"><code class="language-js"><span class="token punctuation">{</span>
  <span class="token literal-property property">file</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">fontUrl</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">1000</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">imgUrl</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">1000</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">pugPlain</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">vue</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">transformAssetUrls</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">video</span><span class="token operator">:</span> <span class="token string">'src'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token string">'src'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">object</span><span class="token operator">:</span> <span class="token string">'src'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">embed</span><span class="token operator">:</span> <span class="token string">'src'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">css</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">cssModules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">localIdentName</span><span class="token operator">:</span> <span class="token string">'[local]_[hash:base64:5]'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">less</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">sass</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">indentedSyntax</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">scss</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">stylus</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">vueStyle</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><blockquote><p>Nota: Além de especificar a configuração dentro do ficherio <code>nuxt.config.js</code>, ele pode também ser modificado pelo <a href="#extend">build.extend</a></blockquote><section id="a-propriedade-loadersfile"class="level3"><h3>A propriedade loaders.file</h3><blockquote><p>Mais detalhes estão dentro das <a href="https://github.com/webpack-contrib/file-loader#options">opções do file-loader</a>.</blockquote></section><section id="as-subpropriedades-loadersfonturl-e-loadersimgurl"class="level3"><h3>As subpropriedades loaders.fontUrl e loaders.imgUrl</h3><blockquote><p>More details are in <a href="https://github.com/webpack-contrib/url-loader#options">url-loader options</a>. Mais detalhes estão dentro das <a href="https://github.com/webpack-contrib/url-loader#options">opções do url-loader</a>.</blockquote></section><section id="a-propriedade-loaderspugplain"class="level3"><h3>A propriedade loaders.pugPlain</h3><blockquote><p>Mais detalhes estão dentro do <a href="https://github.com/yyx990803/pug-plain-loader">pug-plain-loader</a> e das <a href="https://pugjs.org/api/reference.html#options">opções do compilador do Pug</a>.</blockquote></section><section id="a-propriedade-loadersvue"class="level3"><h3>A propriedade loaders.vue</h3><blockquote><p>Mais detalhes estão dentro das <a href="https://vue-loader.vuejs.org/options.html">opões do vue-loader</a>.</blockquote></section><section id="as-subpropriedades-loaderscss-e-loaderscssmodules"class="level3"><h3>As subpropriedades loaders.css e loaders.cssModules</h3><blockquote><p>Mais detalhes estão dentro das <a href="https://github.com/webpack-contrib/css-loader#options">opções do css-loader</a>. O cssModules é a opção do carregador para o uso de <a href="https://vue-loader.vuejs.org/guide/css-modules.html#css-modules">Módulos do CSS</a></blockquote></section><section id="a-propriedade-loadersless"class="level3"><h3>A propriedade loaders.less</h3><blockquote><p>Você pode passar quaisqueres opções específicas do Less para o <code>less-loader</code> via <code>loaders.less</code>. Consulte a <a href="http://lesscss.org/usage/#command-line-usage-options">documentação do Less</a> para saber todas opções disponíves dentro do dash-case</blockquote></section><section id="as-subpropriedades-loaderssass-e-loadersscss"class="level3"><h3>As subpropriedades loaders.sass e loaders.scss</h3><blockquote><p>Consulte a <a href="https://github.com/sass/dart-sass#javascript-api">documentação do Sass</a> para saber todas opções disponíveis para o Sass. Nota: O <code>loaders.sass</code> é para <a href="http://sass-lang.com/documentation/file.INDENTED_SYNTAX.html">Sintaxe Indentada do Sass</a></blockquote></section><section id="a-propriedade-loadersvuestyle"class="level3"><h3>A propriedade loaders.vueStyle</h3><blockquote><p>Mais detalhes estão dentro das <a href="https://github.com/vuejs/vue-style-loader#options">opções do vue-style-loader</a>.</blockquote></section></section><section id="a-propriedade-optimization"class="level2"><h2>A propriedade optimization</h2><ul><li><p>Tipo: <code>Object</code><li><p>Padrão:<pre class="language-js"><code class="language-js"><span class="token punctuation">{</span>
  <span class="token literal-property property">minimize</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">minimizer</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// terser-webpack-plugin</span>
    <span class="token comment">// optimize-css-assets-webpack-plugin</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">splitChunks</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token string">'all'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">automaticNameDelimiter</span><span class="token operator">:</span> <span class="token string">'.'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token keyword nil">undefined</span><span class="token punctuation">,</span>
    <span class="token literal-property property">cacheGroups</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></ul><p>O valor padrão do <code>splitChunks.name</code> é <code>true</code> no modo <code>dev (desenvolvimento)</code> ou no modo <code>analyze (analise)</code>.<p>Você pode definir <code>minimizer</code> para um <code>Array</code> personalizado de plugins ou definir <code>minimize</code> para <code>false</code> para desativar todos minimizadores. (<code>minimize</code> está desativado para desativado para desenvolvimento por padrão)<p>Consulte a seção de <a href="https://webpack.js.org/configuration/optimization">Otimização do Webpack</a>.</section><section id="a-propriedade-optimizecss"class="level2"><h2>A propriedade optimizeCSS</h2><ul><li>Tipo: <code>Object</code> ou <code>Boolean</code><li>Padrão:<ul><li><code>false</code><li><code>{}</code> quando o extractCSS estiver ativado</ul></ul><p>Opções do plugin OptimizeCSSAssets.<p>Consulte o <a href="https://github.com/NMFR/optimize-css-assets-webpack-plugin">NMFR/optimize-css-assets-webpack-plugin</a>.</section><section id="a-propriedade-parallel"class="level2"><h2>A propriedade parallel</h2><ul><li>Tipo: <code>Boolean</code><li>Padrão: <code>false</code><li>⚠️ Experimental</ul><blockquote><p>Ativa o <a href="https://github.com/webpack-contrib/thread-loader#thread-loader">thread-loader</a> dentro da construção do webpack</blockquote></section><section id="a-propriedade-plugins"class="level2"><h2>A propriedade plugins</h2><blockquote><p>Adiciona plugins do webpack</blockquote><ul><li>Tipo: <code>Array</code><li>Padrão: <code>[]</code></ul><pre class="language-js{}[nuxt.config.js]"><code class="language-js{}[nuxt.config.js]">import webpack from 'webpack'
import { version } from './package.json'
export default {
  build: {
    plugins: [
      new webpack.DefinePlugin({
        'process.VERSION': version
      })
    ]
  }
}</code></pre></section><section id="a-propriedade-postcss"class="level2"><h2>A propriedade postcss</h2><blockquote><p>Personaliza os plugins do <a href="https://github.com/postcss/postcss-loader#usage">Carregador do PostCSS</a> plugins.</blockquote><ul><li><p>Tipo: <code>Array</code> (legado, sobrescreverá os padrões), <code>Object</code> (recomendado), <code>Function</code> ou <code>Boolean</code><p><strong>Nota:</strong> O Nuxt tem aplicado a <a href="https://github.com/csstools/postcss-preset-env">pré-definição de ambiente do PostCSS</a>. Por padrão ele ativa o <a href="https://cssdb.org/">estágio de 2 funcionalidades</a> e o <a href="https://github.com/postcss/autoprefixer">Autoprefixer</a>, você pode usar o <code>build.postcss.preset</code> para configurar ele.<li><p>Padrão:<pre class="language-js{}[nuxt.config.js]"><code class="language-js{}[nuxt.config.js]">{
  plugins: {
    'postcss-import': {},
    'postcss-url': {},
    'postcss-preset-env': this.preset,
    'cssnano': { preset: 'default' } // desativado no modo de desenvolvimento
  },
  order: 'presetEnvAndCssnanoLast',
  preset: {
    stage: 2
  }
}</code></pre></ul><p>As suas definições personalizadas de plugin serão combinadas com os plugins padrão (a menos que você esteja usando um <code>Array</code> ao invés de um <code>Object</code>).<pre class="language-js{}[nuxt.config.js]"><code class="language-js{}[nuxt.config.js]">export default {
  build: {
    postcss: {
      plugins: {
        // Desativa `postcss-url`
        'postcss-url': false,
        // Adiciona alguns plugins
        'postcss-nested': {},
        'postcss-responsive-type': {},
        'postcss-hexrgba': {}
      },
      preset: {
        autoprefixer: {
          grid: true
        }
      }
    }
  }
}</code></pre><p>Se a configuração do PostCSS é um <code>Object</code>, o <code>order</code> pode ser usado para definição da ordem do plugin:<ul><li>Tipo: <code>Array</code> (ordenado por nomes de plugin), <code>String</code> (ordena a pré-definição de nome), <code>Function</code><li>Padrão: <code>cssnanoLast</code> (coloca <code>cssnano</code> em último)</ul><pre class="language-js{}[nuxt.config.js]"><code class="language-js{}[nuxt.config.js]">export default {
  build: {
    postcss: {
      // pré-definição do nome
      order: 'cssnanoLast',
      // ordenado por nomes de plugin
      order: ['postcss-import', 'postcss-preset-env', 'cssnano']
      // função para calcular a ordem do plugin
      order: (names, presets) => presets.cssnanoLast(names)
    }
  }
}</code></pre><section id="a-propriedade-plugins-do-postcss-e-o-módulo-nuxtjstailwindcss"class="level3"><h3>A propriedade plugins do postcss e o módulo @nuxtjs/tailwindcss</h3><p>Se você quiser aplicar um plugin de PostCSS (por exemplo, postcss-pxtorem) na configuração do módulo <code>@nuxtjs/tailwindcss</code>, você tem de mudar a ordem e carregar o <code>tailwindcss</code> primeiro.<p><strong>Esta configuração não tem impacto sobre o <code>nuxt-purgecss</code>.</strong><pre class="language-js{}[nuxt.config.js]"><code class="language-js{}[nuxt.config.js]">import { join } from 'path'

export default {
  // ...
  build: {
    postcss: {
      plugins: {
        tailwindcss: join(__dirname, 'tailwind.config.js'),
        'postcss-pxtorem': {
          propList: ['*', '!border*']
        }
      }
    }
  }
}</code></pre></section></section><section id="a-propriedade-profile"class="level2"><h2>A propriedade profile</h2><ul><li>Tipo: <code>Boolean</code><li>Padrão: ativado pelo argumento de linha de comando <code>--profile</code></ul><blockquote><p>Ativa o perfilador dentro do <a href="https://github.com/nuxt/webpackbar#profile">WebpackBar</a></blockquote></section><section id="a-propriedade-publicpath"class="level2"><h2>A propriedade publicPath</h2><blockquote><p>O Nuxt deixa você carregar os seus ficheiros de distribuição para o seu CDN para o máximo desempenho, simplesmente defina o <code>PublicPath</code> para o seu CDN.</blockquote><ul><li>Tipo: <code>String</code><li>Padrão: <code>'/_nuxt/'</code></ul><pre class="language-js{}[nuxt.config.js]"><code class="language-js{}[nuxt.config.js]">export default {
  build: {
    publicPath: 'https://cdn.nuxtjs.org'
  }
}</code></pre><p>Depois, quando estiver executando o <code>nuxt build</code>, carrega o conteúdo do diretório <code>.nuxt/dist/client</code> para a sua CDN e voilà!.<p>No Nuxt 2.15+, mudando o valor desta propriedade em tempo de execução sobrescreverá a configuração de uma aplicação que já tem sido construida.</section><section id="a-propriedade-quiet"class="level2"><h2>A propriedade quiet</h2><blockquote><p>Suprime a maioria do registo de saída da construção</blockquote><ul><li>Tipo: <code>Boolean</code><li>Padrão: Ativado quando uma <code>CI</code> ou ambiente de <code>test</code> é detetado pelo <a href="https://github.com/blindmedia/std-env">std-env</a></ul></section><section id="a-propriedade-splitchunks"class="level2"><h2>A propriedade splitChunks</h2><ul><li><p>Tipo: <code>Object</code><li><p>Padrão:<pre class="language-js{}[nuxt.config.js]"><code class="language-js{}[nuxt.config.js]">export default {
  build: {
    splitChunks: {
      layouts: false,
      pages: true,
      commons: true
    }
  }
}</code></pre></ul><p>Se criar ou não pedaços separados para o <code>layouts</code>, <code>pages</code> e <code>commons</code> (bibliotecas comuns: vue|vue-loader|vue-router|vuex...) Para mais informações, consulte a <a href="https://v4.webpack.js.org/plugins/split-chunks-plugin/#optimizationsplitchunks">documentação do webpack</a>.</section><section id="a-propriedade-ssr"class="level2"><h2>A propriedade ssr</h2><blockquote><p>Cria um pacote especial do webpack para o renderizador de SSR.</blockquote><ul><li>Tipo: <code>Boolean</code><li>Padrão: <code>true</code> para o modo universal e <code>false</code> para o modo de aplicação de página única</ul><p>Esta opção é automaticamente definida com base no valor de <code>mode</code> se não for fornecida.</section><section id="a-propriedade-standalone"class="level2"><h2>A propriedade standalone</h2><blockquote><p>Dependências em linha do pacote do servidor (avançado)</blockquote><ul><li>Tipo: <code>Boolean</code><li>Padrão: <code>false</code></ul><p>Este mode empacota o <code>node_modules</code> que é normalmente preservado como externo dentro da construção de servidor (<a href="https://github.com/nuxt/nuxt.js/pull/4661">mais informações</a>).<section id="warning-3"class="level4"><h4>Warning</h4><p>Dependências do tempo de execução (módulos, <code>nuxt.config</code>, intermediário do servidor e diretório estático (static)) não são empacotados. Esta funcionalidade desativa o uso do <a href="https://webpack.js.org/configuration/externals/">webpack-externals</a> para o pacote de servidor (server-bundle).</section><section id="info-2"class="level4"><h4>Info</h4><p>Você pode usar o comando <code>yarn nuxt build --standalone</code> para desativar este modo na linha de comando. (Se você não está usando o <code>yarn</code> você pode executar o comando com o <code>npx</code>.)</section></section><section id="a-propriedade-styleresources"class="level2"><h2>A propriedade styleResources</h2><ul><li>Tipo: <code>Object</code><li>Padrão: <code>{}</code></ul><section id="warning-4"class="level4"><h4>Warning</h4><p>Esta propriedade está depreciada. Ao invés desta use o <a href="https://github.com/nuxt-community/style-resources-module/">style-resources-module</a> para melhorado desempenho e melhor experiência do desenvolvedor!<p>Isto é útil quando você precisa injetar algumas variáveis e mixins dentro das suas páginas sem ter que importar elas a todo momento.<p>O Nuxt usa o <a href="https://github.com/yenshih/style-resources-loader">style-resources-loader</a> para alcançar este comportamento.<p>Você precisa especificar os padrões/caminhos que você quer incluir para os dados pré-processadores: <code>less</code>, <code>sass</code>, <code>scss</code> ou <code>stylus</code><p>Você não pode usar os apelidos de caminho aqui (<code>~</code> e <code>@</code>), você precisa usar caminhos relativos e caminhos absolutos.<pre class="language-js{}[nuxt.config.js]"><code class="language-js{}[nuxt.config.js]">{
  build: {
    styleResources: {
      scss: './assets/variables.scss',
      less: './assets/*.less',
      // sass: ...,
      // scss: ...
      options: {
        // Consulte o https://github.com/yenshih/style-resources-loader#options
        // Exceto a propriedade `patterns`
      }
    }
  }
}</code></pre></section></section><section id="a-propriedade-templates"class="level2"><h2>A propriedade templates</h2><blockquote><p>O Nuxt permite você fornecer os seus próprios modelos os quais serão renderizados com base na configuração do Nuxt. Esta funcionalidade é especialmente útil para uso com <a href="./directory-structure/modules">módulos</a>.</blockquote><ul><li>Tipo: <code>Array</code></ul><pre class="language-js{}[nuxt.config.js]"><code class="language-js{}[nuxt.config.js]">export default {
  build: {
    templates: [
      {
        src: '~/modules/support/plugin.js', // `src` pode ser absoluto ou relativo
        dst: 'support.js', // `dst` é relativo ao diretório `.nuxt` do projeto
        options: {
          // Opções são fornecidas ao modelo como chave `options`
          live_chat: false
        }
      }
    ]
  }
}</code></pre><p>Os modelos são renderizados usando o <a href="https://lodash.com/docs/#template"><code>lodash.template</code></a> que você pode aprender sobre como usar eles <a href="https://github.com/learn-co-students/javascript-lodash-templates-lab-v-000">aqui</a>.</section><section id="a-propriedade-terser"class="level2"><h2>A propriedade terser</h2><ul><li>Tipo: <code>Object</code> or <code>Boolean</code><li>Padrão:</ul><pre class="language-js{}[nuxt.config.js]"><code class="language-js{}[nuxt.config.js]">{
  parallel: true,
  cache: false,
  sourceMap: false,
  extractComments: {
    filename: 'LICENSES'
  },
  terserOptions: {
    output: {
      comments: /^\**!|@preserve|@license|@cc_on/
    }
  }
}</code></pre><p>Opções do plugin Terser. Defina para <code>false</code> para desativar este plugin.<p>A ativação do <code>sourceMap</code> deixará o comentário de ligação <code>//# sourceMappingURL</code> no final de cada ficheiro de saída se o webpack <code>config.devtool</code> estiver definido para <code>source-map</code>.<p>Consulte o <a href="https://github.com/webpack-contrib/terser-webpack-plugin">webpack-contrib/terser-webpack-plugin</a>.</section><section id="a-propriedade-transpile"class="level2"><h2>A propriedade transpile</h2><ul><li>Tipo: <code>Array&#x3C;String | RegExp | Function></code><li>Padrão: <code>[]</code></ul><p>Se você quiser transpilar dependências específicas com Babel, você pode adicionar elas dentro do <code>build.transpile</code>. Cada item dentro da propriedade <code>transpile</code> pode ser um nome de pacote, uma sequência de caracteres e objeto de expressões regulares correspondem ao nome do ficheiro da dependência.<p>A partir da versão <code>2.9.0</code>, você pode também usar uma função para transpilar condicionalmente, a função receberá um objeto (<code>{ isDev, isServer, isClient, isModern, isLegacy }</code>):<pre class="language-js{}[nuxt.config.js]"><code class="language-js{}[nuxt.config.js]">{
  build: {
    transpile: [({ isLegacy }) => isLegacy &#x26;&#x26; 'ky']
  }
}</code></pre><p>Neste exemplo, o <code>ky</code> será transpilado pelo Babel se o Nuxt não estiver no <a href="./configuration-glossary/configuration-modern">modo moderno</a>.</section><section id="a-propriedade-vueloader"class="level2"><h2>A propriedade vueLoader</h2><blockquote><p>Nota: Esta configuração tem sido removida desde a versão 2.0 do Nuxt, ao invés desta use o <a href="#a-propriedade-loaders"><code>build.loaders.vue</code></a>.</blockquote><ul><li><p>Tipo: <code>Object</code><li><p>Padrão:<pre class="language-js{}[nuxt.config.js]"><code class="language-js{}[nuxt.config.js]">{
  productionMode: !this.options.dev,
  transformAssetUrls: {
    video: 'src',
    source: 'src',
    object: 'src',
    embed: 'src'
  }
}</code></pre></ul><blockquote><p>Especifica as <a href="https://vue-loader.vuejs.org/options.html">Opções do Carregador do Vue</a>.</blockquote></section><section id="a-propriedade-watch"class="level2"><h2>A propriedade watch</h2><blockquote><p>Você pode fornecer os seus ficheiros personalizados para observar e regerar depois de mudanças. Esta funcionalidade é especialmente útil para ser usada com <a href="./directory-structure/modules">módulos</a>.</blockquote><ul><li>Tipo: <code>Array&#x3C;String></code></ul><pre class="language-js{}[nuxt.config.js]"><code class="language-js{}[nuxt.config.js]">export default {
  build: {
    watch: ['~/.nuxt/support.js']
  }
}</code></pre></section><section id="a-propriedade-followsymlinks"class="level2"><h2>A propriedade followSymlinks</h2><blockquote><p>Por padrão, o processo de construção não examinar os ficheiros dentro de ligações simbólicas (symlinks). Este booleano inclui elas, permitindo assim o uso das ligações simbólicas dentro de pastas tais como a pasta "pages", por exemplo.</blockquote><ul><li>Tipo: <code>Boolean</code></ul><pre class="language-js{}[nuxt.config.js]"><code class="language-js{}[nuxt.config.js]">export default {
  build: {
    followSymlinks: true
  }
}</code></pre><p><span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></section></section>