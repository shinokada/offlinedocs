<!doctype html><html lang="pt"><meta charset="utf-8"><title>O contexto</title><meta name="viewport"content="width=device-width,initial-scale=1"><meta name="description"content="O contexto fornece objetos/parâmetros adicionais do Nuxt para os componentes de Vue e está disponível em áreas especiais do cíclo de vida do Nuxt."><meta name="category"content="internals-glossary"><link rel="stylesheet"href="../../../../../../../../../../../docs/themes/packages/prism-coy-theme/theme_common.css"><section id="o-contexto"class="level1"><h1>O contexto</h1><p>O contexto fornece objetos/parâmetros adicionais do Nuxt para os componentes de Vue e está disponível em áreas especiais como <a href="./features/data-fetching#async-data"><code>asyncData</code></a>, <a href="./features/data-fetching"><code>fetch</code></a>, <a href="./directory-structure/plugins"><code>plugins</code></a>, <a href="./directory-structure/middleware#o-intermedi%C3%A1rio-do-roteador"><code>middleware</code></a> e o <a href="./directory-structure/store#a-a%C3%A7%C3%A3o-nuxtserverinit"><code>nuxtServerInit</code></a> do ciclo de vida do Nuxt.<hr><blockquote><p><em>Note que: "O contexto" que referimos aqui não é para ser confundido com o objeto <code>context</code> disponível nas <a href="https://vuex.vuejs.org/guide/actions.html"><code>Ações do Vuex</code></a>. Os dois não estão relacionados.</em></blockquote><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Chaves Universais</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span>
    app<span class="token punctuation">,</span>
    store<span class="token punctuation">,</span>
    route<span class="token punctuation">,</span>
    params<span class="token punctuation">,</span>
    query<span class="token punctuation">,</span>
    env<span class="token punctuation">,</span>
    isDev<span class="token punctuation">,</span>
    isHMR<span class="token punctuation">,</span>
    redirect<span class="token punctuation">,</span>
    error<span class="token punctuation">,</span>
    $config
  <span class="token punctuation">}</span> <span class="token operator">=</span> context
  <span class="token comment">// No Lado do Servidor</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span><span class="token property-access">server</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> beforeNuxtRender <span class="token punctuation">}</span> <span class="token operator">=</span> context
  <span class="token punctuation">}</span>
  <span class="token comment">// No Lado do Cliente</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span><span class="token property-access">client</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token keyword module">from</span><span class="token punctuation">,</span> nuxtState <span class="token punctuation">}</span> <span class="token operator">=</span> context
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><section id="chaves-universais"class="level2"><h2>Chaves universais</h2><p>Essas chaves estão disponíveis em ambos lado do cliente e servidor.<section id="app"class="level3"><h3>app</h3><p><code>app</code> (<em>NuxtAppOptions</em>)<p>As opções da instância raiz do Vue que incluem todos os seus plugins. Por exemplo, quando estiver usando o <code>i18n</code>, você pode obter o acesso ao <code>$i18n</code> através do <code>context.app.i18n</code>.</section><section id="store"class="level3"><h3>store</h3><p><code>store</code> (<a href="https://vuex.vuejs.org/api/#vuex-store-instance-properties"><em>Memória do Vuex</em></a>)<p>Instância da Memória do Vuex. <strong>Apenas disponível se a <a href="./directory-structure/store">memória do vuex</a> estiver definida</strong>.</section><section id="route"class="level3"><h3>route</h3><p><code>route</code> (<a href="https://v3.router.vuejs.org/api/#the-route-object"><em>Rota do Roteador do Vue</em></a>)<p>Instância da Rota do Roteador do Vue.</section><section id="params"class="level3"><h3>params</h3><p><code>params</code> (<em>Object</em>)<p>Pseudónimo de <code>route.params</code>.</section><section id="query"class="level3"><h3>query</h3><p><code>query</code> (<em>Object</em>)<p>Pseudónimo de <code>route.query</code>.</section><section id="env"class="level3"><h3>env</h3><p><code>env</code> (<em>Object</em>)<p>Variáveis de ambiente definidas dentro do ficheiro <code>nuxt.config.js</code>, consulte a <a href="./configuration-glossary/configuration-env">API de env</a>.</section><section id="isdev"class="level3"><h3>isDev</h3><p><code>isDev</code> (<em>Boolean</em>)<p>Booleano para permitir você saber se está em modo de desenvolvimento, pode ser útil para cacheamento de algum dado em produção.</section><section id="ishmr"class="level3"><h3>isHMR</h3><p><code>isHMR</code> (<em>Boolean</em>)<p>Booleano que permite saber se o método/intermediário é chamado a partir da substituição instantânea de módulo do webpack (<em>é <code>true</code> apenas no lado do cliente no modo de desenvolvimento</em>).</section><section id="redirect"class="level3"><h3>redirect</h3><p><code>redirect</code> (<em>Function</em>)<p>Use este método para redirecionar o usuário para um outra rota, o código de estado é usado no lado do servidor, o estado padrão será <code>302</code>. <code>redirect([status,] path [, query])</code>.<p>Exemplos:<pre class="language-js{}[]"><code class="language-js{}[]">redirect(302, '/login')
redirect({ name: 'slug', params: { slug: mySlug } })
redirect('https://vuejs.org')</code></pre><p>Consulte a <a href="https://github.com/vuejs/vue-router/blob/64d60c01920405f0b93e00a401c73868b08ee6e5/types/router.d.ts#L161-L169">documentação do Roteador do Vue</a> para mais informações sobre a propriedade <code>location</code>.<section id="info"class="level4"><h4>Info</h4><p>Não é possível usar o <code>redirect</code> ou <code>error</code> dentro do <a href="./directory-structure/plugins#apenas-no-lado-do-cliente-ou-servidor">plugin do Nuxt no lado do cliente</a> por causa da hidratação de erros (o conteúdo do cliente seria diferente daquilo que se esperaria do servidor).<p>Um maneira válida de dar a volta a isso seria usando <code>window.onNuxtReady(() => { window.$nuxt.$router.push('/your-route') })</code></section></section><section id="error"class="level3"><h3>error</h3><p><code>error</code> (<em>Function</em>)<p>Use este método para mostrar a página de erro: <code>error(params)</code>. O <code>params</code> deve possuir as propriedades <code>statusCode</code> e <code>message</code>.</section><section id="config"class="level3"><h3><code>$config</code></h3><p><code>$config</code> (<em>Object</em>)<p>A atual <a href="./configuration-glossary/configuration-runtime-config">configuração de tempo de execução</a>.</section></section><section id="chaves-do-lado-do-servidor"class="level2"><h2>Chaves do Lado do Servidor</h2><p>Essas chaves apenas estão disponíveis no lado do servidor.<section id="req"class="level3"><h3>req</h3><p><code>req</code> (<a href="https://nodejs.org/api/http.html#http_class_http_incomingmessage"><em>http.Request</em></a>)<p>Requisição do servidor do Node.js. Se o Nuxt for usado como um intermediário, o objeto <code>request</code> pode ser diferente dependendo do framework que você estiver usando.<br><strong>Não está disponível via <code>nuxt generate</code></strong>.</section><section id="res"class="level3"><h3>Res</h3><p><code>res</code> (<a href="https://nodejs.org/api/http.html#http_class_http_serverresponse"><em>http.Response</em></a>)<p>Resposta do servidor do Node.js. Se o Nuxt for usado como um intermediário, o objeto <code>response</code> pode ser diferente dependendo do framework que você estiver usando.<br><strong>Não está disponível via <code>nuxt generate</code></strong>.</section><section id="beforenuxtrender"class="level3"><h3>beforeNuxtRender</h3><p><code>beforeNuxtRender(fn)</code> (<em>Function</em>)<p>Use este método para atualizar a variável <code>__NUXT__</code> renderizada no lado do cliente, a função <code>fn</code> (pode ser assíncrona) is chamada com o objeto <code>{ Components, nuxtState }</code>, consulte o <a href="https://github.com/nuxt/nuxt/blob/cf6b0df45f678c5ac35535d49710c606ab34787d/test/fixtures/basic/pages/special-state.vue">exemplo</a>.</section></section><section id="chaves-do-lado-do-cliente"class="level2"><h2>Chaves do Lado do Cliente</h2><p>Essas chaves estão apenas disponíveis no lado do cliente.<section id="from"class="level3"><h3>from</h3><p><code>from</code> (<a href="https://v3.router.vuejs.org/api/#the-route-object"><em>Rota do Roteador de Vue</em></a>)<p>A rota de onde navegamos (onde nós saímos).</section><section id="nuxtstate"class="level3"><h3>nuxtState</h3><p><code>nuxtState</code> <em>(Object)</em><p>O estado do Nuxt, útil para plugins o qual usa o objeto <code>beforeNuxtRender</code> para receber o estado do Nuxt no lado do cliente antes da hidratação. <strong>Disponível apenas no modo <code>universal</code></strong>. <span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></section></section></section>