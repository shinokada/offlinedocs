<!doctype html><html lang="pt"><meta charset="utf-8"><title>Diretório de Conteúdo</title><meta name="viewport"content="width=device-width,initial-scale=1"><meta name="navigation.title"content="content"><meta name="description"content="Enriquece a nossa aplicação de Nuxt com o módulo de conteúdo onde podemos escrever num diretório de conteúdo e buscar os nossos ficheiros de Markdown, JSON, YAML e CSV através duma interface de programação de aplicação tipo MongoDB, atuando como um sistema de gestão de conteúdo sem cabeça baseado em Git."><meta name="category"content="directory-structure"><link rel="stylesheet"type="text/css"href="../../../../../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="diretório-de-conteúdo"><h1 id="diretório-de-conteúdo">Diretório de Conteúdo</h1><p>Enriquece a nossa aplicação de Nuxt com o módulo <code>@nuxt/content</code> onde podemos escrever num diretório <code>content/</code> e buscar os nossos ficheiros de <code>.md</code>, <code>.json</code>, <code>.yml</code> e <code>.csv</code> através duma interface de programação de aplicação tipo MongoDB, atuando como um <strong>sistema de gestão de conteúdo sem cabeça baseado em Git</strong>.<hr><p><img src="../docs/nuxt-content.svg"><section class="level3"aria-labelledby="recarregar-instantaneamente-em-desenvolvimento"><h3 id="recarregar-instantaneamente-em-desenvolvimento">Recarregar Instantaneamente em Desenvolvimento</h3><p>O módulo de conteúdo é muito rápido quando se trata de recarregar instantaneamente em desenvolvimento, devido a não ter que passar pela Webpack quando fazemos alterações nos nossos ficheiros de Markdown. Também podemos ouvir o evento <code>content:update</code> e criar uma extensão para que, sempre que atualizarmos um ficheiro no nosso diretório de conteúdo, despache um método <code>fetchCategories</code>, por exemplo:<section class="level4"aria-labelledby="next"><h4 id="next">Next</h4><p><a href="https://content.nuxtjs.org/advanced#handling-hot-reload">Consultar a documentação do módulo de conteúdo por mais detalhes</a>.</section></section><section class="level3"aria-labelledby="exibir-o-conteúdo"><h3 id="exibir-o-conteúdo">Exibir o Conteúdo</h3><p>Podemos usar o componente <code>&#x3C;nuxt-content></code> diretamente no nosso modelo de marcação de hipertexto para mostrar o corpo da página:<pre class="language-html{}[pages/blog/_slug.vue]"><code class="language-html{}[pages/blog/_slug.vue]">&#x3C;template>
  &#x3C;article>
    &#x3C;nuxt-content :document="article" />
  &#x3C;/article>
&#x3C;/template></code></pre><section class="level4"aria-labelledby="next-1"><h4 id="next-1">Next</h4><p>Consultar a <a href="https://content.nuxtjs.org/displaying#component">documentação do módulo de conteúdo</a> por mais detalhes.</section></section><section class="level3"aria-labelledby="estilizar-o-nosso-conteúdo"><h3 id="estilizar-o-nosso-conteúdo">Estilizar o Nosso Conteúdo</h3><p>Dependendo do que estivermos a utilizar para conceber a nossa aplicação, poderemos ter de escrever algum estilo para apresentar corretamente a Markdown.<p>O componente <code>&#x3C;nuxt-content></code> adicionará automaticamente uma classe <code>.nuxt-content</code>, podemos usá-la para personalizar os nossos estilos:<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
  <span class="token selector"><span class="token class">.nuxt-content</span> h2</span> <span class="token punctuation">{</span>
    <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">28</span><span class="token unit">px</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector"><span class="token class">.nuxt-content</span> p</span> <span class="token punctuation">{</span>
    <span class="token property">margin-bottom</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token unit">px</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>style</span><span class="token punctuation">></span></span></code></pre><section class="level4"aria-labelledby="next-2"><h4 id="next-2">Next</h4><p>Consultar a <a href="https://content.nuxtjs.org/displaying#style">documentação do módulo de conteúdo</a> por mais detalhes.</section></section><section class="level3"aria-labelledby="manipular-ficheiros-md-csv-yaml-json"><h3 id="manipular-ficheiros-md-csv-yaml-json">Manipular Ficheiros <code>.md</code>, <code>.csv</code>, <code>.yaml</code>, <code>.json</code></h3><p>Este módulo converte os nossos ficheiros <code>.md</code> numa estrutura de árvore de sintaxe abstrata de notação de objeto de JavaScript, armazenada numa variável de corpo. Também podemos adicionar um bloco de capa de YAML aos nossos ficheiros de Markdown ou a um ficheiro <code>.yml</code> que será injetado no documento. Também podemos adicionar um ficheiro <code>json/json5</code> que também pode ser injetado no documento. E podemos utilizar um ficheiro <code>.csv</code> onde as linhas serão atribuídas à variável do corpo:<pre class="language-md"><code class="language-md"><span class="token front-matter-block"><span class="token punctuation">---</span>
<span class="token front-matter yaml language-yaml">title: My first Blog Post
description: Learning how to use @nuxt/content to create a blog</span>
<span class="token punctuation">---</span></span></code></pre><section class="level4"aria-labelledby="next-3"><h4 id="next-3">Next</h4><p>Consultar a <a href="https://content.nuxtjs.org/writing#markdown">documentação do módulo de conteúdo</a> por mais detalhes.</section></section><section class="level3"aria-labelledby="componentes-vue-no-md"><h3 id="componentes-vue-no-md">Componentes <code>.vue</code> no <code>.md</code></h3><p>Podemos utilizar componentes <code>.vue</code> diretamente nos nossos ficheiros <code>.md</code>. No entanto, teremos de utilizar os nossos componentes como caixas de espetadas (nomes separados por traço ou hífen) e não podemos utilizar os marcadores de fecho automático:<pre class="language-html{}[components/global/InfoBox.vue]"><code class="language-html{}[components/global/InfoBox.vue]">&#x3C;template>
  &#x3C;div class="p-4 mb-4 text-white bg-blue-500">
    &#x3C;p>&#x3C;slot name="info-box">default&#x3C;/slot>&#x3C;/p>
  &#x3C;/div>
&#x3C;/template></code></pre><pre class="language-html{}[content/articles/my-first-blog-post.md]"><code class="language-html{}[content/articles/my-first-blog-post.md]">&#x3C;info-box>
  &#x3C;template #info-box>
    This is a vue component inside markdown using slots
  &#x3C;/template>
&#x3C;/info-box></code></pre><section class="level4"aria-labelledby="next-4"><h4 id="next-4">Next</h4><p>Consultar a <a href="https://content.nuxtjs.org/writing#vue-components">documentação do módulo de conteúdo</a> por mais detalhes.</section></section><section class="level3"aria-labelledby="interface-de-programação-de-aplicação-totalmente-pesquisáveis"><h3 id="interface-de-programação-de-aplicação-totalmente-pesquisáveis">Interface de Programação de Aplicação Totalmente Pesquisáveis</h3><p>Podemos utilizar a <code>$content()</code> para listar, filtrar e pesquisar o nosso conteúdo facilmente:<pre class="language-html{}[pages/blog/index.vue]"><code class="language-html{}[pages/blog/index.vue]">&#x3C;script>
  export default {
    async asyncData({ $content, params }) {
      const articles = await $content('articles', params.slug)
        .only(['title', 'description', 'img', 'slug', 'author'])
        .sortBy('createdAt', 'asc')
        .fetch()

      return {
        articles
      }
    }
  }
&#x3C;/script></code></pre><section class="level4"aria-labelledby="next-5"><h4 id="next-5">Next</h4><p>Consultar a <a href="https://content.nuxtjs.org/fetching#methods">documentação do módulo de conteúdo</a> por mais detalhes.</section></section><section class="level3"aria-labelledby="artigos-anteriores-e-posteriores"><h3 id="artigos-anteriores-e-posteriores">Artigos Anteriores e Posteriores</h3><p>O módulo de conteúdo inclui um método <code>.surround(slug)</code> para podermos obter facilmente os artigos anteriores e posteriores:<pre class="language-js"><code class="language-js"><span class="token keyword">async</span> <span class="token function">asyncData</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> $content<span class="token punctuation">,</span> params <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> article <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token function">$content</span><span class="token punctuation">(</span><span class="token string">'articles'</span><span class="token punctuation">,</span> params<span class="token punctuation">.</span><span class="token property-access">slug</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">const</span> <span class="token punctuation">[</span>prev<span class="token punctuation">,</span> next<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token function">$content</span><span class="token punctuation">(</span><span class="token string">'articles'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token method function property-access">only</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'title'</span><span class="token punctuation">,</span> <span class="token string">'slug'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token method function property-access">sortBy</span><span class="token punctuation">(</span><span class="token string">'createdAt'</span><span class="token punctuation">,</span> <span class="token string">'asc'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token method function property-access">surround</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span><span class="token property-access">slug</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token method function property-access">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
      article<span class="token punctuation">,</span>
      prev<span class="token punctuation">,</span>
      next
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>prev-next</span> <span class="token attr-name">:prev</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>prev<span class="token punctuation">"</span></span> <span class="token attr-name">:next</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>next<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></code></pre><section class="level4"aria-labelledby="next-6"><h4 id="next-6">Next</h4><p>Consultar a <a href="https://content.nuxtjs.org/fetching#surroundslug-options">documentação do módulo de conteúdo</a> por mais detalhes.</section></section><section class="level3"aria-labelledby="pesquisa-de-texto-integral"><h3 id="pesquisa-de-texto-integral">Pesquisa de Texto Integral</h3><p>O módulo de conteúdo vem com uma pesquisa de texto completo, pelo que podemos pesquisar facilmente nos nossos ficheiros <code>.md</code> sem ter de instalar nada:<pre class="language-html{}[components/AppSearchInput.vue]"><code class="language-html{}[components/AppSearchInput.vue]">&#x3C;script>
  export default {
    data() {
      return {
        searchQuery: '',
        articles: []
      }
    },
    watch: {
      async searchQuery(searchQuery) {
        if (!searchQuery) {
          this.articles = []
          return
        }
        this.articles = await this.$content('articles')
          .limit(6)
          .search(searchQuery)
          .fetch()
      }
    }
  }
&#x3C;/script></code></pre><section class="level4"aria-labelledby="next-7"><h4 id="next-7">Next</h4><p>Consultar a <a href="https://content.nuxtjs.org/fetching#searchfield-value">documentação do módulo de conteúdo</a> por mais detalhes.</section></section><section class="level3"aria-labelledby="realce-de-sintaxe"><h3 id="realce-de-sintaxe">Realce de Sintaxe</h3><p>Este módulo embrulha automaticamente os blocos de código e aplica classes da <a href="https://prismjs.com/">Prism</a>. Também podemos adicionar um tema de Prism diferente ou desativá-lo completamente:<pre class="language-bash"><code class="language-bash"><span class="token function">yarn</span> <span class="token function">add</span> prism-themes</code></pre><pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> prism-themes</code></pre><pre class="language-js{}[nuxt.config.js]"><code class="language-js{}[nuxt.config.js]">content: {
  markdown: {
    prism: {
      theme: 'prism-themes/themes/prism-material-oceanic.css'
    }
  }
}</code></pre><section class="level4"aria-labelledby="next-8"><h4 id="next-8">Next</h4><p>Consultar a <a href="https://content.nuxtjs.org/writing#syntax-highlighting">documentação do módulo de conteúdo</a> por mais detalhes.</section></section><section class="level3"aria-labelledby="estender-a-análise-sintática-da-markdown"><h3 id="estender-a-análise-sintática-da-markdown">Estender a Análise Sintática da Markdown</h3><p>Originalmente, a Markdown não suporta o realce de linhas em blocos de código nem de nomes de ficheiros. O módulo de conteúdo permite-o com a sua própria sintaxe personalizada. Os números de linha são adicionados ao marcador <code>pre</code> nos atributos <code>data-line</code> e o nome do ficheiro será convertido para um <code>span</code> com uma classe <code>filename</code>, para podermos estilizá-lo:<section class="level4"aria-labelledby="next-9"><h4 id="next-9">Next</h4><p>Consultar a <a href="https://content.nuxtjs.org/writing#codeblocks">documentação do módulo de conteúdo</a> por mais detalhes.</section></section><section class="level3"aria-labelledby="geração-de-índices"><h3 id="geração-de-índices">Geração de Índices</h3><p>Uma propriedade do tipo vetor <code>toc</code> (abreviação de índice em Inglês) será injetada no nosso documento, listando todos os cabeçalhos com os seus títulos e identificadores, para podermos estabelecer uma hiperligação a estes:<pre class="language-html{}[pages/blog/_slug.vue]"><code class="language-html{}[pages/blog/_slug.vue]">&#x3C;nav>
  &#x3C;ul>
    &#x3C;li v-for="link of article.toc" :key="link.id">
      &#x3C;NuxtLink :to="`#${link.id}`">{{ link.text }}&#x3C;/NuxtLink>
    &#x3C;/li>
  &#x3C;/ul>
&#x3C;/nav></code></pre><section class="level4"aria-labelledby="next-10"><h4 id="next-10">Next</h4><p>Consultar a <a href="https://content.nuxtjs.org/writing#table-of-contents">documentação do módulo de conteúdo</a> por mais detalhes.</section></section><section class="level3"aria-labelledby="interface-de-programação-de-aplicação-construtora-de-consulta-poderosa-parecida-com-a-mongodb"><h3 id="interface-de-programação-de-aplicação-construtora-de-consulta-poderosa-parecida-com-a-mongodb">Interface de Programação de Aplicação Construtora de Consulta Poderosa (Parecida com a MongoDB).</h3><p>O módulo de conteúdo vem com uma poderosa interface de programação de aplicação construtora de consulta semelhante a MongoDB, que permite-nos ver facilmente a notação de objeto de JavaScript de cada diretório em <code>http://localhost:3000/_content/</code>. O destino está acessível nas requisições <code>GET</code> e <code>POST</code>, pelo que podemos utilizar parâmetros de consulta:<p><code>http://localhost:3000/_content/articles?only=title&#x26;only=description&#x26;limit=10</code><section class="level4"aria-labelledby="next-11"><h4 id="next-11">Next</h4><p>Consultar a <a href="https://content.nuxtjs.org/advanced/#api-endpoint">documentação do módulo de conteúdo</a> por mais detalhes.</section></section><section class="level3"aria-labelledby="estender-com-as-funções-gatilhos"><h3 id="estender-com-as-funções-gatilhos">Estender com as Funções Gatilhos</h3><p>Podemos utilizar as funções gatilhos para estender o módulo de modo a podermos adicionar dados a um documento antes de este ser armazenado.<section class="level4"aria-labelledby="next-12"><h4 id="next-12">Next</h4><p>Consultar a <a href="https://content.nuxtjs.org/advanced#hooks">documentação do módulo de conteúdo</a> por mais detalhes.</section></section><section class="level3"aria-labelledby="integração-com-nuxtjsfeed"><h3 id="integração-com-nuxtjsfeed">Integração com <code>@nuxtjs/feed</code></h3><p>No caso dos artigos, o conteúdo pode ser utilizado para gerar rações (também conhecidos por <code>feeds</code>) de notícias utilizando o módulo <a href="https://www.npmjs.com/package/@nuxtjs/feed"><code>@nuxtjs/feed</code></a>.<section class="level4"aria-labelledby="next-13"><h4 id="next-13">Next</h4><p>Consultar a <a href="https://content.nuxtjs.org/integrations/#nuxtjsfeed">documentação do módulo de conteúdo</a> por mais detalhes.</section></section><section class="level3"aria-labelledby="suporte-à-geração-de-sítios-estáticos"><h3 id="suporte-à-geração-de-sítios-estáticos">Suporte à Geração de Sítios Estáticos</h3><p>O módulo de conteúdo funciona com a geração de sítios estáticos ao utilizar <code>nuxt generate</code>. Todas as rotas serão geradas automaticamente graças a funcionalidade de rastreio da Nuxt.<section class="level4"aria-labelledby="warning"><h4 id="warning">Warning</h4><p>Se utilizarmos a Nuxt &#x3C;2.13 e precisarmos de especificar as rotas dinâmicas, podemos fazê-lo ao utilizar a propriedade <code>generate</code> e ao utilizar a <code>@nuxt/content</code> programaticamente.</section><section class="level4"aria-labelledby="next-14"><h4 id="next-14">Next</h4><p>Consultar a <a href="https://content.nuxtjs.org/advanced#programmatic-usage">documentação do módulo de conteúdo</a> por mais detalhes sobre o uso programático.</section></section><section class="level3"aria-labelledby="o-que-se-segue"><h3 id="o-que-se-segue">O Que Se Segue?</h3><section class="level4"aria-labelledby="next-15"><h4 id="next-15">Next</h4><p>Consultar o nosso tutorial sobre <a href="/tutorials/creating-blog-with-nuxt-content">Como Criar um Blogue com Módulo de Conteúdo da Nuxt</a>.</section><section class="level4"aria-labelledby="next-16"><h4 id="next-16">Next</h4><p>Consultar a <a href="https://content.nuxtjs.org/">documentação do módulo de conteúdo</a> por uso mais avançado e exemplos.<p><span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></section></section></section>