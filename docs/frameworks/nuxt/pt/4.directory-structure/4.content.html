<!doctype html>
<html lang="pt">
  <head>
    <meta charset="utf-8">
    <title>O diretório content</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="navigation.title" content="content">
    <meta name="description" content="Dê poderes a sua aplicação Nuxt com o módulo @nuxt/content onde você pode escrever dentro de um diretório content/ e requisitar os seus ficheiros markdown, json, yaml e cs através de uma API parecida com o MongoDB, agindo como um CMS Headless baseado em Git.">
    <meta name="category" content="directory-structure">
    <link rel="stylesheet" href="https://raw.githubusercontent.com/shinokada/prism-coy-theme/main/theme_common.css">
  </head>
  <body>
    <section id="o-diretório-content" class="level1">
      <h1>O diretório content</h1>
      <p>Dê poderes sua aplicação Nuxt com o módulo <code>@nuxt/content</code> onde você pode escrever dentro de um diretório <code>content/</code> e requisitar os seus ficheiros markdown, json, yaml e csv através de uma API parecida com o MongoDB, agindo como um <strong>CMS Headless baseado em Git</strong>.</p>
      <hr>
      <p>
        <img src="../docs/nuxt-content.svg">
      </p>
      <section id="recarregamento-instantâneo-em-desenvolvimento" class="level3">
        <h3>Recarregamento instantâneo em desenvolvimento</h3>
        <p>O módulo de conteúdo é extremamente rápido quando vem para o recarregamento instantâneo em desenvolvimento por não ter que passar pelo webpack sempre que você fizer mudanças em seus ficheiros markdown. Você pode também ouvir o evento <code>content:update</code> e criar um plugin que em todo momento que você atualizar um ficheiro dentro do seu diretório de conteúdo ele despachará por exemplo um método fetchCategories.</p>
        <section id="next" class="level4">
          <h4>Next</h4>
          <p><a href="https://content.nuxtjs.org/advanced#handling-hot-reload">Consulte a documentação do módulo de conteúdo para obter mais detalhes</a></p>
        </section>
      </section>
      <section id="exibindo-o-conteúdo" class="level3">
        <h3>Exibindo o conteúdo</h3>
        <p>Você pode diretamente usar o componente <code>&#x3C;nuxt-content></code> dentro do seu modelo para exibir o corpo da página.</p>
        <pre class="language-html{}[pages/blog/_slug.vue]"><code class="language-html{}[pages/blog/_slug.vue]">&#x3C;template>
  &#x3C;article>
    &#x3C;nuxt-content :document="article" />
  &#x3C;/article>
&#x3C;/template></code></pre>
        <section id="next-1" class="level4">
          <h4>Next</h4>
          <p>Consulte a <a href="https://content.nuxtjs.org/displaying#component">documentação do módulo de conteúdo</a> para obter mais detalhes</p>
        </section>
      </section>
      <section id="estilizando-o-seu-conteúdo" class="level3">
        <h3>Estilizando o seu conteúdo</h3>
        <p>Dependendo do que você está usando para desenhar a sua aplicação, voce pode precisar escrever alguns estilos para exibir o markdown de maneira decente.</p>
        <p>O componente <code>&#x3C;nuxt-content></code> irá automaticamente adicionar uma classe <code>.nuxt-content</code>, você pode usar ela para personalizar seus estilos.</p>
        <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
  <span class="token selector"><span class="token class">.nuxt-content</span> h2</span> <span class="token punctuation">{</span>
    <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">28</span><span class="token unit">px</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector"><span class="token class">.nuxt-content</span> p</span> <span class="token punctuation">{</span>
    <span class="token property">margin-bottom</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token unit">px</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>style</span><span class="token punctuation">></span></span></code></pre>
        <section id="next-2" class="level4">
          <h4>Next</h4>
          <p>Consulte a <a href="https://content.nuxtjs.org/displaying#style">documentação do módulo de conteúdo</a> para obter mais detalhes</p>
        </section>
      </section>
      <section id="manipular-ficheiros-markdown-csv-yaml-json5" class="level3">
        <h3>Manipular ficheiros markdown, csv, yaml, json(5)</h3>
        <p>Este módulo converte o seus ficheiros <code>.md</code> em uma estrutura de árvore JSON AST, guardada dentro de uma variável <code>body</code>. Você pode também adicionar um bloco de assunto dianteiro em YAML aos seus ficheiros markdown ou um ficheiro <code>.yaml</code> que será injetado dentro do documento. Você pode também adicionar um ficheiro json/json5 que pode também ser injetado dentro do documento. E você pode usar um ficheiro <code>.csv</code> onde as linhas serão atribuídas a variável <code>body</code>.</p>
        <pre class="language-md"><code class="language-md"><span class="token front-matter-block"><span class="token punctuation">---</span>
<span class="token front-matter yaml language-yaml">title: My first Blog Post
description: Learning how to use @nuxt/content to create a blog</span>
<span class="token punctuation">---</span></span></code></pre>
        <section id="next-3" class="level4">
          <h4>Next</h4>
          <p>Consulte a <a href="https://content.nuxtjs.org/writing#markdown">documentação do módulo de conteúdo</a> para obter mais detalhes</p>
        </section>
      </section>
      <section id="componentes-do-vue-dentro-do-markdown" class="level3">
        <h3>Componentes do vue dentro do markdown</h3>
        <p>Você pode usar componentes Vue diretamente dentro do seus ficheiros markdown. No entanto você precisará usar seus componentes em kebab case e não pode usar marcadores com auto fechamento.</p>
        <pre class="language-html{}[components/global/InfoBox.vue]"><code class="language-html{}[components/global/InfoBox.vue]">&#x3C;template>
  &#x3C;div class="p-4 mb-4 text-white bg-blue-500">
    &#x3C;p>&#x3C;slot name="info-box">default&#x3C;/slot>&#x3C;/p>
  &#x3C;/div>
&#x3C;/template></code></pre>
        <pre class="language-html{}[content/articles/my-first-blog-post.md]"><code class="language-html{}[content/articles/my-first-blog-post.md]">&#x3C;info-box>
  &#x3C;template #info-box>
    This is a vue component inside markdown using slots
  &#x3C;/template>
&#x3C;/info-box></code></pre>
        <section id="next-4" class="level4">
          <h4>Next</h4>
          <p>Consulte a <a href="https://content.nuxtjs.org/writing#vue-components">documentação do módulo de conteúdo</a> para obter mais detalhes</p>
        </section>
      </section>
      <section id="api-totalmente-pesquisáveis" class="level3">
        <h3>API totalmente pesquisáveis</h3>
        <p>Você pode usar <code>$content()</code> para listar, filtrar e pesquisar seus conteúdo facilmente.</p>
        <pre class="language-html{}[pages/blog/index.vue]"><code class="language-html{}[pages/blog/index.vue]">&#x3C;script>
  export default {
    async asyncData({ $content, params }) {
      const articles = await $content('articles', params.slug)
        .only(['title', 'description', 'img', 'slug', 'author'])
        .sortBy('createdAt', 'asc')
        .fetch()

      return {
        articles
      }
    }
  }
&#x3C;/script></code></pre>
        <section id="next-5" class="level4">
          <h4>Next</h4>
          <p>Consulte a <a href="https://content.nuxtjs.org/fetching#methods">documentação do módulo de conteúdo</a> para obter mais detalhes</p>
        </section>
      </section>
      <section id="artigos-anteriores-e-próximos-artigos" class="level3">
        <h3>Artigos anteriores e próximos artigos</h3>
        <p>O módulo de conteúdo inclui um método <code>.surround(slug)</code>, é assim que você recebe com facilidade os artigos anteriores e próximos.</p>
        <pre class="language-js"><code class="language-js"><span class="token keyword">async</span> <span class="token function">asyncData</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> $content<span class="token punctuation">,</span> params <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> article <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token function">$content</span><span class="token punctuation">(</span><span class="token string">'articles'</span><span class="token punctuation">,</span> params<span class="token punctuation">.</span><span class="token property-access">slug</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">const</span> <span class="token punctuation">[</span>prev<span class="token punctuation">,</span> next<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token function">$content</span><span class="token punctuation">(</span><span class="token string">'articles'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token method function property-access">only</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'title'</span><span class="token punctuation">,</span> <span class="token string">'slug'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token method function property-access">sortBy</span><span class="token punctuation">(</span><span class="token string">'createdAt'</span><span class="token punctuation">,</span> <span class="token string">'asc'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token method function property-access">surround</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span><span class="token property-access">slug</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token method function property-access">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
      article<span class="token punctuation">,</span>
      prev<span class="token punctuation">,</span>
      next
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre>
        <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>prev-next</span> <span class="token attr-name">:prev</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>prev<span class="token punctuation">"</span></span> <span class="token attr-name">:next</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>next<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></code></pre>
        <section id="next-6" class="level4">
          <h4>Next</h4>
          <p>Consulte a <a href="https://content.nuxtjs.org/fetching#surroundslug-options">documentação do módulo de conteúdo</a> para obter mais detalhes</p>
        </section>
      </section>
      <section id="pesquisa-completa-de-texto" class="level3">
        <h3>Pesquisa completa de texto</h3>
        <p>O módulo de conteúdo vem com uma pesquisa completa de texto assim você pode facilmente pesquisar ao longo de seus ficheiros markdown sem ter que instalar nada.</p>
        <pre class="language-html{}[components/AppSearchInput.vue]"><code class="language-html{}[components/AppSearchInput.vue]">&#x3C;script>
  export default {
    data() {
      return {
        searchQuery: '',
        articles: []
      }
    },
    watch: {
      async searchQuery(searchQuery) {
        if (!searchQuery) {
          this.articles = []
          return
        }
        this.articles = await this.$content('articles')
          .limit(6)
          .search(searchQuery)
          .fetch()
      }
    }
  }
&#x3C;/script></code></pre>
        <section id="next-7" class="level4">
          <h4>Next</h4>
          <p>Consulte a <a href="https://content.nuxtjs.org/fetching#searchfield-value">documentação do módulo de conteúdo</a> para obter mais detalhes</p>
        </section>
      </section>
      <section id="destacando-a-sintaxe" class="level3">
        <h3>Destacando a sintaxe</h3>
        <p>Este módulo envolve automaticamente o bloco de código e aplica as classes do <a href="https://prismjs.com/">Prism</a>. Você pode também adicionar uma tema diferente do Prism ou desativar ele totalmente.</p>
        <pre class="language-bash"><code class="language-bash"><span class="token function">yarn</span> <span class="token function">add</span> prism-themes</code></pre>
        <pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> prism-themes</code></pre>
        <pre class="language-js{}[nuxt.config.js]"><code class="language-js{}[nuxt.config.js]">content: {
  markdown: {
    prism: {
      theme: 'prism-themes/themes/prism-material-oceanic.css'
    }
  }
}</code></pre>
        <section id="next-8" class="level4">
          <h4>Next</h4>
          <p>Consulte a <a href="https://content.nuxtjs.org/writing#syntax-highlighting">documentação do módulo de conteúdo</a> para obter mais detalhes</p>
        </section>
      </section>
      <section id="estender-o-parseamento-do-markdown" class="level3">
        <h3>Estender o parseamento do markdown</h3>
        <p>Originalmente o markdown não suporta destacamento de linhas dentro de um bloco de código nem de nomes de ficheiros. O módulo de conteúdo permite isto com sua própria sintaxe personalizada. Linhas numeradas são adicionadas a tag <code>pre</code> dentro dos atributos data-line e o nome do ficheiro será convertido para um <code>span</code> com uma classe <code>filename</code>, assim você pode estilizar ela.</p>
        <section id="next-9" class="level4">
          <h4>Next</h4>
          <p>Consulte a <a href="https://content.nuxtjs.org/writing#codeblocks">documentação do módulo de conteúdo</a> para obter mais detalhes</p>
        </section>
      </section>
      <section id="geração-de-tabela-de-conteúdos" class="level3">
        <h3>Geração de tabela de conteúdos</h3>
        <p>Uma propriedade do tipo array toc(Table of Contents, Table de Conteúdos) será injetada dentro do seu documento, listando todos os cabeçalhos com seus títulos e ids, assim você pode ligar a eles.</p>
        <pre class="language-html{}[pages/blog/_slug.vue]"><code class="language-html{}[pages/blog/_slug.vue]">&#x3C;nav>
  &#x3C;ul>
    &#x3C;li v-for="link of article.toc" :key="link.id">
      &#x3C;NuxtLink :to="`#${link.id}`">{{ link.text }}&#x3C;/NuxtLink>
    &#x3C;/li>
  &#x3C;/ul>
&#x3C;/nav></code></pre>
        <section id="next-10" class="level4">
          <h4>Next</h4>
          <p>Consulte a <a href="https://content.nuxtjs.org/writing#table-of-contents">documentação do módulo de conteúdo</a> para obter mais detalhes</p>
        </section>
      </section>
      <section id="a-poderosa-api-construtora-de-consulta-parecida-com-mongodb" class="level3">
        <h3>A poderosa API construtora de consulta (parecida com MongoDB)</h3>
        <p>O módulo de conteúdo vem com uma poderosa API construtora de consulta semelhante ao MongoDB que permite você facilmente ver o JSON de cada diretório em <code>http://localhost:3000/_content/</code>. O alvo final é acessível as requisições GET e POST, assim você pode usar parâmetros de consulta.</p>
        <p><code>http://localhost:3000/_content/articles?only=title&#x26;only=description&#x26;limit=10</code></p>
        <section id="next-11" class="level4">
          <h4>Next</h4>
          <p>Consulte a <a href="https://content.nuxtjs.org/advanced/#api-endpoint">documentação do módulo de conteúdo</a> para obter mais detalhes</p>
        </section>
      </section>
      <section id="estender-com-gatilhos" class="level3">
        <h3>Estender com gatilhos</h3>
        <p>Você pode usar gatilhos para estender o módulo, assim você pode adicionar dados a um documento antes dele ser guardado.</p>
        <section id="next-12" class="level4">
          <h4>Next</h4>
          <p>Consulte a <a href="https://content.nuxtjs.org/advanced#hooks">documentação do módulo de conteúdo</a> para obter mais detalhes</p>
        </section>
      </section>
      <section id="integração-com-o-nuxtjsfeed" class="level3">
        <h3>Integração com o @nuxtjs/feed</h3>
        <p>No caso de artigos, o conteúdo pode ser usado para gerar alimentador de noticias usando o módulo <a href="https://www.npmjs.com/package/@nuxtjs/feed">@nuxtjs/feed</a>.</p>
        <section id="next-13" class="level4">
          <h4>Next</h4>
          <p>Consulte a <a href="https://content.nuxtjs.org/integrations/#nuxtjsfeed">documentação do módulo de conteúdo</a> para obter mais detalhes</p>
        </section>
      </section>
      <section id="suporte-a-geração-de-site-estático" class="level3">
        <h3>Suporte a geração de site estático</h3>
        <p>O módulo de conteúdo funciona com geração de site estático usando o <code>nuxt generate</code>. Todas as rotas serão automaticamente gerada graças ao funcionalidade rastreadora do Nuxt.</p>
        <section id="warning" class="level4">
          <h4>Warning</h4>
          <p>Se estiveres usando o Nuxt &#x3C; 2.13 e você precisa especificar as rotas dinâmicas, você pode fazer isso usando programaticamente a propriedade generate e @nuxt/content.</p>
        </section>
        <section id="next-14" class="level4">
          <h4>Next</h4>
          <p>Consulte a <a href="https://content.nuxtjs.org/advanced#programmatic-usage">documentação do módulo de conteúdo</a> para obter mais detalhes sobre o uso programático</p>
        </section>
      </section>
      <section id="o-que-segue" class="level3">
        <h3>O que segue</h3>
        <section id="next-15" class="level4">
          <h4>Next</h4>
          <p>Consulte nosso tutorial em <a href="/tutorials/creating-blog-with-nuxt-content">How to Create a Blog with Nuxt Content</a></p>
        </section>
        <section id="next-16" class="level4">
          <h4>Next</h4>
          <p>Consulte a <a href="https://content.nuxtjs.org/">documentação do módulo de conteúdo</a> para uso mais avançados e exemplos</p>
          <p><span style="float: footnote;"><a href="../index.html#toc">Go to TOC</a></span></p>
        </section>
      </section>
    </section>
  </body>
</html>
