<!doctype html><html lang="pt"><meta charset="utf-8"><title>Diretório de Recursos</title><meta name="viewport"content="width=device-width,initial-scale=1"><meta name="navigation.title"content="assets"><meta name="description"content="O diretório de recursos contém os nossos recursos ou ativos não compilados, como ficheiros de pré-processadores de folhas de estilos em cascata, imagens ou tipos de letra."><meta name="category"content="directory-structure"><meta name="csb_link"content="https://codesandbox.io/embed/github/nuxt-academy/guides-examples/tree/master/04_directory_structure/02_assets?fontsize=14&#x26;hidenavigation=1&#x26;theme=dark"><meta name="videoScript"content="assets-video.md"><link rel="stylesheet"type="text/css"href="../../../../../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="diretório-de-recursos"><h1 id="diretório-de-recursos">Diretório de Recursos</h1><p>O diretório <code>assets</code> contém recursos ou ativos não compilados, como ficheiros <code>.styl</code>, <code>.stylus</code> ou <code>.sass</code>, <code>.scss</code>, imagens, ou tipos de letras (também conhecidos como fontes).<hr><section class="level2"aria-labelledby="imagens"><h2 id="imagens">Imagens</h2><p>Dentro dos nossos modelos de marcação <code>.vue</code>, se precisarmos vincular ao nosso diretório <code>assets</code>, usamos <code>~/assets/your_image.png</code> com uma barra antes de <code>assets</code>:<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>~/assets/your_image.png<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>template</span><span class="token punctuation">></span></span></code></pre><p>Dentro dos nossos ficheiros <code>.css</code>m se precisarmos de referenciar o nosso diretório <code>assets</code>, utilizamos <code>~assets/your_image.png</code> (sem barra):<pre class="language-css"><code class="language-css"><span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">'~assets/banner.svg'</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span></code></pre><p>Quando trabalhamos com imagens dinâmicas, precisamos de utilizar a função <code>require()</code>:<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>img</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>require(`~/assets/img/${image}.jpg`)<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></code></pre><section class="level4"aria-labelledby="next"><h4 id="next">Next</h4><p>Saber mais sobre os <a href="./directory-structure/assets#webpack-assets">recursos ou ativos da Webpack</a>.</section></section><section class="level2"aria-labelledby="estilos"><h2 id="estilos">Estilos</h2><p>A Nuxt permite-nos definir os ficheiros <code>.css</code>, módulos, e bibliotecas que queremos definir globalmente (incluídos em todas as páginas). No <code>nuxt.config.js</code>, podemos adicionar facilmente os nossos estilos utilizando a propriedade <code>css</code>:<pre class="language-js{}[nuxt.config.js]"><code class="language-js{}[nuxt.config.js]">export default {
  css: [
    // Carregar um módulo de Node.js diretamente
    // (neste caso, é um ficheiro `.scss` ou `.sass`).
    'bulma',
    // Ficheiro `.css` no projeto
    '~/assets/css/main.css',
    // Ficheiro `.scss` no projeto
    '~/assets/css/main.scss'
  ]
}</code></pre><section class="level3"aria-labelledby="sass"><h3 id="sass">Sass</h3><p>Caso queiramos utilizar a <code>sass</code> precisamos ter certeza de que instalamos os pacotes <code>sass</code> e <code>sass-loader</code>:<pre class="language-bash"><code class="language-bash"><span class="token function">yarn</span> <span class="token function">add</span> --dev sass sass-loader@10</code></pre><pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save-dev sass sass-loader@10</code></pre><p>A Nuxt deteta automaticamente o tipo de ficheiro pela sua extensão de ficheiro (<code>.sass</code> ou <code>.scss</code>) e utiliza o carregador do pré-processador correto para a Webpack. Continuaremos a ter de instalar o carregador necessário se precisarmos de os utilizar:</section></section><section class="level2"aria-labelledby="tipos-de-letra"><h2 id="tipos-de-letra">Tipos de Letra</h2><p>Podemos utilizar tipos de letra (mais conhecidos como fontes) locais adicionando-os à nossa pasta de recursos (<code>assets/</code>). Uma vez adicionados, podemos acessá-los através do nosso <code>.css</code> utilizando a <code>@font-face</code>:<pre class="language-text"><code class="language-text">-| assets
----| fonts
| DMSans-Regular.ttf
| DMSans-Bold.ttf</code></pre><pre class="language-css{}[assets/main.css]"><code class="language-css{}[assets/main.css]">@font-face {
  font-family: 'DM Sans';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: url('~assets/fonts/DMSans-Regular.ttf') format('truetype');
}

@font-face {
  font-family: 'DM Sans';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: url('~assets/fonts/DMSans-Bold.ttf') format('truetype');
}</code></pre><section class="level4"aria-labelledby="info"><h4 id="info">Info</h4><p>Os ficheiros <code>.css</code> não são carregados automaticamente. Precisamos adicioná-los usando a <a href="./configuration-glossary/configuration-css/">propriedade de configuração <code>css</code></a>.</section><section class="level4"aria-labelledby="next-1"><h4 id="next-1">Next</h4><p>Para adicionar os tipos de letra externas, como as do Google Fonts, consular o capítulo de <a href="./features/meta-tags-seo#recursos-externos">meta-marcadores e a otimização dos motores de pesquisa</a>.</section></section><section class="level2"aria-labelledby="recursos-da-webpack"><h2 id="recursos-da-webpack">Recursos da Webpack</h2><p>Por predefinição, a Nuxt usa a <code>vue-loader</code>, <code>file-loader</code>, e a <code>url-loader</code> da Webpack para servir os nossos recursos (também conhecidos como ativos). Também podemos usar o diretório estático (<code>static/</code>) para recursos (<code>assets/</code>) que não devem ser executados pela Webpack:</section><section class="level2"aria-labelledby="webpack"><h2 id="webpack">Webpack</h2><p>A <a href="http://vue-loader.vuejs.org/"><code>vue-loader</code></a> processa os nossos ficheiros de estilo e modelos de marcação automaticamente com a <code>css-loader</code> e a compilara de modelos de marcação de hipertexto com extensão <code>.vue</code>. Neste processo de compilação, todos os endereços de localização de recurso de recursos como <code>&#x3C;img src="..."></code>, <code>background: url(...)</code>, e <code>@import</code> de folha de estilo são resolvidos como dependências do módulo:<p>Por exemplo, temos esta árvore de ficheiros:<pre class="language-text"><code class="language-text">-| assets/
----| image.png
-| pages/
----| index.vue</code></pre><p>Se usarmos <code>url('~assets/image.png')</code> no nosso ficheiro de folha de estilo, este será traduzido para <code>require('~/assets/image.png')</code>.<section class="level4"aria-labelledby="warning"><h4 id="warning">Warning</h4><p>O pseudónimo <code>~/</code> não será resolvido corretamente nos nossos ficheiros de folha de estilo. Devemos utilizar <code>~assets</code> (<strong>sem barra</strong>) nas referências de folha de estilo <code>url</code>, ou seja, <code>background: url("~assets/banner.svg")</code>.<p>Se referenciarmos esta imagem no nosso <code>pages/index.vue</code>:<pre class="language-html{}[pages/index.vue]"><code class="language-html{}[pages/index.vue]">&#x3C;template>
  &#x3C;img src="~/assets/image.png" />
&#x3C;/template></code></pre><p>Será compilada em:<pre class="language-js"><code class="language-js"><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'img'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">attrs</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">src</span><span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'~/assets/image.png'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>Uma vez que <code>.png</code> não é um ficheiro de código <code>.js</code>, a Nuxt configura a Webpack para utilizar a <a href="https://github.com/webpack/file-loader"><code>file-loader</code></a> e a <a href="https://github.com/webpack/url-loader"><code>url-loader</code></a> para os tratar por nós.<p>Os vantagens estas carregadoras são:<ul><li><p>A <code>file-loader</code> permite-nos designar onde copiar e colocar o ficheiro de recurso, e como nomeá-lo usando baralhos de versão para melhorar o armazenamento transitório. Em produção. beneficiaremos de um armazenamento transitório de longo prazo por predefinição!<li><p>A <code>url-loader</code> permite-nos inserir condicionalmente ficheiros como endereços de localização de recurso de dados de <code>base64</code> se estes forem menores do que um determinado limite. Isto pode reduzir o número de pedidos do protocolo de hipertexto para ficheiros banais. Se um ficheiro for maior do que o limite, regressa automaticamente a <code>file-loader</code>.</ul><p>Para estas duas carregadoras, a configuração predefinida é:<pre class="language-js"><code class="language-js"><span class="token comment">// https://github.com/nuxt/nuxt/blob/2.x-dev/packages/webpack/src/config/base.js#L382-L411</span>
<span class="token punctuation">{</span>
  <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jpe?g|gif|svg|webp|avif)$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
  <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">'url-loader'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">esModule</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token comment">// 1kB</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'img/[name].[contenthash:7].[ext]'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span>
  <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(woff2?|eot|ttf|otf)(\?.*)?$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
  <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">'url-loader'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
       <span class="token literal-property property">esModule</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
       <span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token comment">// 1kB</span>
       <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'fonts/[name].[contenthash:7].[ext]'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span>
  <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(webm|mp4|ogv)$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
  <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">'file-loader'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">esModule</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'videos/[name].[contenthash:7].[ext]'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre><p>O que significa que todos os ficheiros com menos de 1kb serão incluídos como endereço de localização de recurso de dados de <code>base64</code>. Caso contrário, a imagem e o tipo de letra serão copiados na sua pasta correspondente (no diretório <code>.nuxt</code>) com um nome contendo uma sequência baralhada de caracteres de versão para melhorar o armazenamento transitório.<p>Ao lançar a nossa aplicação com <code>nuxt</code>, o nosso modelo de marcação em <code>pages/index.vue</code>:<pre class="language-html{}[pages/index.vue]"><code class="language-html{}[pages/index.vue]">&#x3C;template>
  &#x3C;img src="~/assets/your_image.png" />
&#x3C;/template></code></pre><p>Será transformado em:<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/_nuxt/img/your_image.0c61159.png<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></code></pre><p>Se quisermos alterar as configurações do carregador, utilizamos a <a href="./configuration-glossary/configuration-build#extend"><code>build.extend</code></a>.</section></section><section class="level2"aria-labelledby="pseudónimos"><h2 id="pseudónimos">Pseudónimos</h2><p>Por predefinição, o diretório de origem (<code>srcDir</code>) e o diretório raiz (<code>rootDir</code>) são os mesmos. Podemos usar o pseudónimo <code>~</code> para o diretório de origem. Ao invés de escrevermos caminhos relativos como <code>../assets/your_image.png</code>, podemos usar <code>~/assets/your_image.png</code>.<p>Ambas as opções permitem obter os mesmos resultados:<pre class="language-html{}[components/Avatar.vue]"><code class="language-html{}[components/Avatar.vue]">&#x3C;template>
  &#x3C;div>
    &#x3C;img src="../assets/your_image.png" />
    &#x3C;img src="~/assets/your_image.png" />
  &#x3C;/div>
&#x3C;/template></code></pre><p>Recomendamos a utilização do <code>~</code> como um pseudónimo. O <code>@</code> ainda é suportado, mas não funcionará em todos os casos, como com imagens de fundo no nosso ficheiro de folha de estilo (<code>.css</code>).<p>Podemos utilizar o pseudónimo de <code>~~</code> ou <code>@@</code> para o diretório raiz.<section class="level4"aria-labelledby="info-1"><h4 id="info-1">Info</h4><p>Dica: No teclado espanhol, podemos acessar a <code>~</code> com (<code>Option</code> + <code>ñ</code>) no macOS, ou (<code>Alt gr</code> + <code>4</code>) no Windows.<p><span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></section></section></section>