<!doctype html><html lang="pt"><meta charset="utf-8"><title>Comandos e Implantação</title><meta name="viewport"content="width=device-width,initial-scale=1"><meta name="description"content="A Nuxt vem com um conjunto de comandos úteis, tanto para fins de desenvolvimento como de produção."><meta name="category"content="get-started"><meta name="video"content="hYdXzIGDlYA"><link rel="stylesheet"type="text/css"href="../../../../../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="comandos-e-implantação"><h1 id="comandos-e-implantação">Comandos e Implantação</h1><p>A Nuxt vem com um conjunto de comandos úteis, tanto para fins de desenvolvimento como de produção.<hr><section class="level2"aria-labelledby="usar-no-packagejson"><h2 id="usar-no-packagejson">Usar no <code>package.json</code></h2><p>Devemos ter estes comandos no nosso <code>package.json</code>:<pre class="language-json"><code class="language-json"><span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"dev"</span><span class="token operator">:</span> <span class="token string">"nuxt"</span><span class="token punctuation">,</span>
  <span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"nuxt build"</span><span class="token punctuation">,</span>
  <span class="token property">"start"</span><span class="token operator">:</span> <span class="token string">"nuxt start"</span><span class="token punctuation">,</span>
  <span class="token property">"generate"</span><span class="token operator">:</span> <span class="token string">"nuxt generate"</span>
<span class="token punctuation">}</span></code></pre><p>Podemos executar os nossos comandos via <code>yarn &#x3C;command></code>ou <code>npm run &#x3C;command></code> (exemplo: <code>yarn dev</code> / <code>npm run dev</code>).</section><section class="level2"aria-labelledby="ambiente-de-desenvolvimento"><h2 id="ambiente-de-desenvolvimento">Ambiente de Desenvolvimento</h2><p>Para executar a Nuxt em modo de desenvolvimento com a <a href="https://webpack.js.org/concepts/hot-module-replacement/">substituição de módulo instantânea</a> em <code>http://localhost:3000</code>:<pre class="language-bash"><code class="language-bash"><span class="token function">yarn</span> dev</code></pre><pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> run dev</code></pre></section><section class="level2"aria-labelledby="lista-de-comandos"><h2 id="lista-de-comandos">Lista de Comandos</h2><p>Podemos executar comandos diferentes consoante o <a href="./features/deployment-targets">destino</a>:<section class="level3"aria-labelledby="destino-server-valor-predefinido"><h3 id="destino-server-valor-predefinido">destino: <code>server</code> (valor predefinido)</h3><ul><li><strong><code>nuxt dev</code></strong> — Executar o servidor de desenvolvimento.<li><strong><code>nuxt build</code></strong> — Construir e otimizar a nossa aplicação com a Webpack para produção.<li><strong><code>nuxt start</code></strong> — Iniciar o servidor de produção (após executar <code>nuxt build</code>). O utilizámos para a hospedagem de Node.js, como a Heroku, a Digital Ocean, etc.</ul></section><section class="level3"aria-labelledby="destino-static"><h3 id="destino-static">destino: <code>static</code></h3><ul><li><strong><code>nuxt dev</code></strong> — Executar o servidor de desenvolvimento.<li><strong><code>nuxt generate</code></strong> — Construir a aplicação (se necessário), gerar cada rota como um ficheiro <code>.html</code> e exportar estaticamente para o diretório <code>dist/</code> (usado para a hospedagem estática).<li><strong><code>nuxt start</code></strong> — Servir o diretório <code>dist/</code> como a nossa hospedagem estática faria (Netlify, Vercel, Surge, etc), ótimo para testar antes de implantar.</ul></section></section><section class="level2"aria-labelledby="inspeção-da-configuração-da-webpack"><h2 id="inspeção-da-configuração-da-webpack">Inspeção da Configuração da Webpack</h2><p>Podemos inspecionar a configuração da Webpack utilizada pela Nuxt para construir o projeto (semelhante à <a href="https://cli.vuejs.org/guide/webpack.html#inspecting-the-project-s-webpack-config">inspeção de vue</a>).<ul><li><strong><code>nuxt webpack [query...]</code></strong></ul><p><strong>Argumentos:</strong><ul><li><code>--name</code>: Nome do pacote a inspecionar (cliente, servidor, moderno).<li><code>--dev</code>: Inspecionar a configuração da Webpack para o modo de desenvolvimento.<li><code>--depth</code>: Profundidade de inspeção. A predefinição é 2 para evitar a saída detalhada.<li><code>--no-colors</code>: Desativar as cores do Instituto Nacional Americano de Normas (ANSI) (desativadas por predefinição quando a Máquina de Escrever À Distância (TTY) não está disponível ou ao se canalizar para um ficheiro).</ul><p><strong>Exemplos:</strong><ul><li><code>nuxt webpack</code><li><code>nuxt webpack devtool</code><li><code>nuxt webpack resolve alias</code><li><code>nuxt webpack module rules</code><li><code>nuxt webpack module rules test=.jsx</code><li><code>nuxt webpack module rules test=.pug oneOf use.0=raw</code><li><code>nuxt webpack plugins constructor.name=WebpackBar options reporter</code><li><code>nuxt webpack module rules loader=vue-</code><li><code>nuxt webpack module rules "loader=.*-loader"</code></ul></section><section class="level2"aria-labelledby="implantação-da-produção"><h2 id="implantação-da-produção">Implantação da Produção</h2><p>A Nuxt permite-nos escolher entre as implantações de Servidor ou Estática.<section class="level3"aria-labelledby="implantação-de-servidor"><h3 id="implantação-de-servidor">Implantação de Servidor</h3><p>Para implantar uma aplicação de interpretação do lado do servidor (SSR) usamos <code>target: 'server'</code>, onde <code>'server'</code> é o valor predefinido:<pre class="language-bash"><code class="language-bash"><span class="token function">yarn</span> build</code></pre><pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> run build</code></pre><p>A Nuxt criará um diretório <code>.nuxt</code> com tudo dentro, pronto para ser implantado na nossa hospedagem de servidor:<section class="level4"aria-labelledby="info"><h4 id="info">Info</h4><p>Recomendamos colocar o <code>.nuxt</code> no <code>.npmignore</code> ou <code>.gitignore</code>.<p>Uma vez que a nossa aplicação esteja construída, podemos usar o comando <code>start</code> para ver uma versão de produção da nossa aplicação:<pre class="language-bash"><code class="language-bash"><span class="token function">yarn</span> start</code></pre><pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> run start</code></pre></section></section><section class="level3"aria-labelledby="implantação-estática-pré-interpretada"><h3 id="implantação-estática-pré-interpretada">Implantação Estática (Pré-interpretada)</h3><p>A Nuxt dá-nos a possibilidade de hospedar a nossa aplicação da Web em qualquer hospedagem estática.<p>Para implantar um sítio gerado de maneira estática, precisamos ter certeza de que temos <code>target: 'static'</code> no nosso <code>nuxt.config.js</code> (para Nuxt >= 2.13):<pre class="language-js{}[nuxt.config.js]"><code class="language-js{}[nuxt.config.js]">export default {
  target: 'static'
}</code></pre><pre class="language-bash"><code class="language-bash"><span class="token function">yarn</span> generate</code></pre><pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> run generate</code></pre><p>A Nuxt criará um diretório <code>dist/</code> com tudo dentro, pronto para ser implantado num serviço de hospedagem estática.<section class="level4"aria-labelledby="info-1"><h4 id="info-1">Info</h4><p>Recomendamos colocar <code>dist/</code> no <code>.npmignore</code> ou <code>.gitignore</code>.<p>Desde a versão 2.13 da Nuxt, existe um rastreador instalado que agora rastreará os nossos marcadores de hiperligações e gerará nossas rotas quando usarmos o comando <code>nuxt generate</code> baseado nestas hiperligações.</section><section class="level4"aria-labelledby="warning"><h4 id="warning">Warning</h4><p><strong>Aviso:</strong> As rotas dinâmicas são ignoradas pelo comando <code>generate</code> quando utilizamos Nuxt &#x3C;= v2.12: <a href="./configuration-glossary/configuration-generate">API de Configuração de <code>generate</code></a></section><section class="level4"aria-labelledby="info-2"><h4 id="info-2">Info</h4><p>Quando gerarmos a nossa aplicação da Web com <code>nuxt generate</code>, <a href="./internals-glossary/context">o contexto</a> dado a <a href="./features/data-fetching#async-data"><code>asyncData</code></a> e <a href="./features/data-fetching#a-fun%C3%A7%C3%A3o-gatilho-fetch"><code>fetch</code></a> não terá <code>req</code> e <code>res</code>.</section><section class="level4"aria-labelledby="falha-no-erro"><h4 id="falha-no-erro"><strong>Falha no Erro</strong></h4><p>Para retornar um código de estado diferente de zero quando um erro de página é encontrado e deixar a integração contínua e entrega contínua falhar na implantação ou construção, podemos usar o argumento <code>--fail-on-error</code>:<pre class="language-bash"><code class="language-bash"><span class="token function">yarn</span> generate --fail-on-error</code></pre><pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> run generate --fail-on-error</code></pre></section></section></section><section class="level2"aria-labelledby="o-que-se-segue"><h2 id="o-que-se-segue">O Que Se Segue?</h2><section class="level4"aria-labelledby="next"><h4 id="next">Next</h4><p>Ler os <a href="/deployments">Guias de Implantação</a> para encontrar exemplos de implantações nos hospedeiros populares.<p><span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></section></section></section>