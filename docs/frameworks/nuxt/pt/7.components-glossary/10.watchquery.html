<!doctype html>
<html lang="pt">
  <head>
    <meta charset="utf-8">
    <title>A propriedade watchQuery</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Observa as sequência de caracteres de consulta e executa os métodos do componente sobre as mudanças (asyncData, fetch, validate, layout, ...)">
    <meta name="navigation.title" content="Propriedade WatchQuery">
    <meta name="category" content="components-glossary">
    <link rel="stylesheet" href="https://raw.githubusercontent.com/shinokada/prism-coy-theme/main/theme_common.css">
  </head>
  <body>
    <section id="a-propriedade-watchquery" class="level1">
      <h1>A propriedade watchQuery</h1>
      <p>
        Watch query strings and execute component methods on change (asyncData, fetch, validate, layout, ...)
        Observa as sequência de caracteres de consulta e executa os métodos do componente sobre as mudanças (asyncData, fetch, validate, layout, ...)
      </p>
      <hr>
      <ul>
        <li><strong>Tipo:</strong> <code>Boolean</code> ou <code>Array</code> ou <code>Function</code> (valor padrão: <code>[]</code>)</li>
      </ul>
      <p>Use a chave <code>watchQuery</code> para definir um observador para sequência de caracteres de consulta. Se a sequência de caracteres definida mudar, todos os métodos do componente (asyncData, fetch(context), validate, layout, ...) serão chamados. A observação está desativada por padrão para melhora de desempenho.</p>
      <p>Se você quiser definir um observador para todas sequências de caracteres de consulta, defina <code>watchQuery: true</code>.</p>
      <pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">watchQuery</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'page'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre>
      <p>Você pode também usar a função <code>watchQuery(newQuery, oldQuery)</code> para ter observadores mais refinados.</p>
      <pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
  <span class="token function">watchQuery</span><span class="token punctuation">(</span><span class="token parameter">newQuery<span class="token punctuation">,</span> oldQuery</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Apenas execute os métodos do componente se sequência de caracteres de consulta antiga conter `bar`</span>
    <span class="token comment">// e a sequência de caracteres de consulta nova conter `conter`</span>
    <span class="token keyword control-flow">return</span> newQuery<span class="token punctuation">.</span><span class="token property-access">foo</span> <span class="token operator">&#x26;&#x26;</span> oldQuery<span class="token punctuation">.</span><span class="token property-access">bar</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
      <section id="warning" class="level4">
        <h4>Warning</h4>
        <p><strong>Aviso</strong>: O novo gatilho <code>fetch</code> introduzido na versão 2.12 não é afetado pelo <code>watchQuery</code>. Para mais informações consulte <a href="./features/data-fetching#o-gatilho-fetch">ouvindo a mudanças na sequência de caracteres de consulta</a>.</p>
        <p><span style="float: footnote;"><a href="../index.html#toc">Go to TOC</a></span></p>
      </section>
    </section>
  </body>
</html>
