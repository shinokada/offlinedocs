<!doctype html>
<html lang="pt">
  <head>
    <meta charset="utf-8">
    <title>A propriedade transition da página</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="O Nuxt usa o componente <transition> para permitir você criar transições ou animações incríveis entre suas páginas.">
    <meta name="navigation" content="[object Object]">
    <meta name="category" content="components-glossary">
    <link rel="stylesheet" href="https://raw.githubusercontent.com/shinokada/prism-coy-theme/main/theme_common.css">
  </head>
  <body>
    <section id="a-propriedade-transition-da-página" class="level1">
      <h1>A propriedade transition da página</h1>
      <p>O Nuxt usa o componente <a href="https://vuejs.org/v2/guide/transitions.html#Transitioning-Single-Elements-Components"><code>&#x3C;transition></code></a> para permitir você criar transições ou animações incríveis entre suas páginas.</p>
      <hr>
      <ul>
        <li><strong>Tipo:</strong> <code>String</code> ou <code>Object</code> ou <code>Function</code></li>
      </ul>
      <p>Para definir uma transição personalizada para uma rota específica, simplesmente adicione a chave <code>transition</code> ao componente.</p>
      <pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// Pode ser uma Sequência de Caracteres</span>
  <span class="token literal-property property">transition</span><span class="token operator">:</span> <span class="token string">''</span>
  <span class="token comment">// Ou um Objeto</span>
  <span class="token literal-property property">transition</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token comment">// ou uma Função</span>
  <span class="token function">transition</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword module">from</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
      <section id="sequência-de-caracteres" class="level2">
        <h2>Sequência de Caracteres</h2>
        <p>Se a chave <code>transition</code> for definida como uma sequência de caracteres, ela será usada como <code>transition.name</code>.</p>
        <pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">transition</span><span class="token operator">:</span> <span class="token string">'test'</span>
<span class="token punctuation">}</span></code></pre>
        <p>O Nuxt usará essas definições para definir o componente conforme a seguinte:</p>
        <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>transition</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>test<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>transition</span><span class="token punctuation">></span></span></code></pre>
      </section>
      <section id="objeto" class="level2">
        <h2>Objeto</h2>
        <p>Se a chave <code>transition</code> for definida como um objeto:</p>
        <pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">transition</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'test'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">'out-in'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
        <p>O Nuxt usará essas definições para definir o componente conforme a seguinte:</p>
        <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>transition</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>test<span class="token punctuation">"</span></span> <span class="token attr-name">mode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>out-in<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>transition</span><span class="token punctuation">></span></span></code></pre>
        <p>O objeto <code>transition</code> pode ter ass seguintes propriedades:</p>
        <p>
          | key | Type | Default | definition |
          | |
          | <code>name</code> | <code>String</code> | <code>"page"</code> | O nome da transição aplicado sobre todas transições de rotas. |
          | <code>mode</code> | <code>String</code> | <code>"out-in"</code> | O modo de transição aplicado sobre todas rotas, consulte a <a href="https://vuejs.org/v2/guide/transitions.html#Transition-Modes">documentação do Vue.js</a> |
          | <code>css</code> | <code>Boolean</code> | <code>true</code> | Se aplicar a classes de transição de CSS. Padroniza para <code>true</code>. Se definir para <code>false</code>, apenas acionará gatilhos de JavaScript registado através dos eventos de componente. |
          | <code>duration</code> | <code>Integer</code> | n/a | A duração (em milissegundos) aplicado sobre a transição, consulte a <a href="https://vuejs.org/v2/guide/transitions.html#Explicit-Transition-Durations">documentação do Vue.js</a>. |
          | <code>type</code> | <code>String</code> | n/a | Especifica o tipo dos eventos de transição, para esperar determinar o tempo final da transição. Os valores disponíveis são <code>'transition'</code> e <code>'animation'</code>. Por padrão, ele detetará automaticamente o tipo que tiver duração mais longa. |
          | <code>enterClass</code> | <code>String</code> | n/a | O estado de inicial da classe de transição (classe ou transição de entrada). Consulte a <a href="https://vuejs.org/v2/guide/transitions.html#Custom-Transition-Classes">documentação do Vue.js</a>. |
          | <code>enterToClass</code> | <code>String</code> | n/a | O estado final para a transição (estado final da classe ou transição de entrada). Consulte a <a href="https://vuejs.org/v2/guide/transitions.html#Custom-Transition-Classes">documentação do Vue.js</a>. |
          | <code>enterActiveClass</code> | <code>String</code> | n/a | A classe aplicada em toda duração da transição (depois de adicionar a classe <code>enterClass</code> e antes de adicionar a classe <code>enterToClass</code>). Consulte a <a href="https://vuejs.org/v2/guide/transitions.html#Custom-Transition-Classes">documentação do Vue.js</a>. |
          | <code>leaveClass</code> | <code>String</code> | n/a | O estado inicial da transição (classe ou transição de saída). Consulte a <a href="https://vuejs.org/v2/guide/transitions.html#Custom-Transition-Classes">documentação do Vue.js</a>. |
          | <code>leaveToClass</code> | <code>String</code> | n/a | O estado final da transição (classe ou transição de saída). Consulte a <a href="https://vuejs.org/v2/guide/transitions.html#Custom-Transition-Classes">documentação do Vue.js</a>. |
          | <code>leaveActiveClass</code> | <code>String</code> | n/a | A classe aplicada em toda duração da transição (depois de adicionar a classe <code>leaveClass</code> e antes de adicionar a classe <code>leaveToClass</code>). Consulte a <a href="https://vuejs.org/v2/guide/transitions.html#Custom-Transition-Classes">documentação do Vue.js</a>. |
        </p>
        <p>Você pode também definir métodos dentro da propriedade <code>transition</code> da página, esses são para os <a href="https://vuejs.org/v2/guide/transitions.html#JavaScript-Hooks">gatilhos de JavaScript</a>:</p>
        <ul>
          <li><code>beforeEnter(el)</code></li>
          <li><code>enter(el, done)</code></li>
          <li><code>afterEnter(el)</code></li>
          <li><code>enterCancelled(el)</code></li>
          <li><code>beforeLeave(el)</code></li>
          <li><code>leave(el, done)</code></li>
          <li><code>afterLeave(el)</code></li>
          <li><code>leaveCancelled(el)</code></li>
        </ul>
        <pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">transition</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">afterLeave</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'afterLeave'</span><span class="token punctuation">,</span> el<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
        <p><em>Nota que: é também uma boa ideia adicionar <code>css: false</code> explicitamente para transições de somente JavaScript assim o Vue pode pular a deteção de CSS. Isto também previne as regras de CSS de acidentalmente interferirem com a transição.</em></p>
        <section id="modo-de-transição" class="level3">
          <h3>Modo de Transição</h3>
          <p><strong>A modo de transição padrão para páginas diferem do mesmo modo padrão no Vue.js</strong>. O modo <code>transition</code> é por padrão definido para <code>out-in</code>. Se você quiser executar transições de saída e entrada simultaneamente, você tem de definir o <code>mode</code> para uma sequência de caracteres vazia <code>mode: ''</code>.</p>
          <pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">transition</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'test'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">''</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
        </section>
      </section>
      <section id="função" class="level2">
        <h2>Função</h2>
        <p>Se a chave <code>transition</code> for definida como uma função:</p>
        <pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
  <span class="token function">transition</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword module">from</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword module">from</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword control-flow">return</span> <span class="token string">'slide-left'</span>
    <span class="token punctuation">}</span>
    <span class="token keyword control-flow">return</span> <span class="token operator">+</span>to<span class="token punctuation">.</span><span class="token property-access">query</span><span class="token punctuation">.</span><span class="token property-access">page</span> <span class="token operator">&#x3C;</span> <span class="token operator">+</span><span class="token keyword module">from</span><span class="token punctuation">.</span><span class="token property-access">query</span><span class="token punctuation">.</span><span class="token property-access">page</span> <span class="token operator">?</span> <span class="token string">'slide-right'</span> <span class="token operator">:</span> <span class="token string">'slide-left'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
        <p>As transições aplicadas na navegação são:</p>
        <ul>
          <li><code>/</code> para <code>/posts</code> => <code>slide-left</code>,</li>
          <li><code>/posts</code> para <code>/posts?page=3</code> => <code>slide-left</code>,</li>
          <li>
            <code>/posts?page=3</code> para <code>/posts?page=2</code> => <code>slide-right</code>.
            <span style="float: footnote;"><a href="../index.html#toc">Go to TOC</a></span>
          </li>
        </ul>
      </section>
    </section>
  </body>
</html>
