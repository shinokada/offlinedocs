<!doctype html><html lang="en"><meta charset="utf-8"><title>The server Property</title><meta name="viewport"content="width=device-width,initial-scale=1"><meta name="navigation.title"content="server"><meta name="description"content="Nuxt let you define the server connection variables for your application inside nuxt.config.js."><meta name="menu"content="server"><meta name="category"content="configuration-glossary"><link rel="stylesheet"href="../../../../../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="the-server-property"><h1 id="the-server-property">The server property</h1><p>Nuxt let you define the server connection variables for your application inside <code>nuxt.config.js</code>.<hr><ul><li>Type: <code>Object</code></ul><section class="level2"aria-labelledby="basic-example"><h2 id="basic-example">Basic example:</h2><pre class="language-js{}[nuxt.config.js]"><code class="language-js{}[nuxt.config.js]">export default {
  server: {
    port: 8000, // default: 3000
    host: '0.0.0.0', // default: localhost,
    timing: false
  }
}</code></pre><p>This lets you specify the <a href="./features/configuration#edit-host-and-port">host and port</a> for your Nuxt server instance.</section><section class="level2"aria-labelledby="example-using-https-configuration"><h2 id="example-using-https-configuration">Example using HTTPS configuration</h2><pre class="language-js{}[nuxt.config.js]"><code class="language-js{}[nuxt.config.js]">import path from 'path'
import fs from 'fs'

export default {
  server: {
    https: {
      key: fs.readFileSync(path.resolve(__dirname, 'server.key')),
      cert: fs.readFileSync(path.resolve(__dirname, 'server.crt'))
    }
  }
}</code></pre><p>You can find additional information on creating server keys and certificates on <code>localhost</code> on <a href="https://letsencrypt.org/docs/certificates-for-localhost/">certificates for localhost</a> article.</section><section class="level2"aria-labelledby="example-using-sockets-configuration"><h2 id="example-using-sockets-configuration">Example using sockets configuration</h2><pre class="language-js{}[nuxt.config.js]"><code class="language-js{}[nuxt.config.js]">export default {
  server: {
    socket: '/tmp/nuxt.socket'
  }
}</code></pre></section><section class="level2"aria-labelledby="timing"><h2 id="timing">timing</h2><ul><li>Type: <code>Object</code> or <code>Boolean</code><li>Default: <code>false</code></ul><p>Enabling the <code>server.timing</code> option adds a middleware to measure the time elapsed during server-side rendering and adds it to the headers as 'Server-Timing'<section class="level3"aria-labelledby="example-using-timing-configuration"><h3 id="example-using-timing-configuration">Example using timing configuration</h3><p><code>server.timing</code> can be an object for providing options. Currently, only <code>total</code> is supported (which directly tracks the whole time spent on server-side rendering)<pre class="language-js{}[nuxt.config.js]"><code class="language-js{}[nuxt.config.js]">export default {
  server: {
    timing: {
      total: true
    }
  }
}</code></pre></section><section class="level3"aria-labelledby="using-timing-api"><h3 id="using-timing-api">Using timing API</h3><p>The <code>timing</code> API is also injected into the <code>response</code> on server-side when <code>server.time</code> is enabled.<section class="level4"aria-labelledby="syntax"><h4 id="syntax">Syntax</h4><pre class="language-js"><code class="language-js">res<span class="token punctuation">.</span><span class="token property-access">timing</span><span class="token punctuation">.</span><span class="token method function property-access">start</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> description<span class="token punctuation">)</span>
res<span class="token punctuation">.</span><span class="token property-access">timing</span><span class="token punctuation">.</span><span class="token method function property-access">end</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span></code></pre></section><section class="level4"aria-labelledby="example-using-timing-in-servermiddleware"><h4 id="example-using-timing-in-servermiddleware">Example using timing in serverMiddleware</h4><pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token property-access">timing</span><span class="token punctuation">.</span><span class="token method function property-access">start</span><span class="token punctuation">(</span><span class="token string">'midd'</span><span class="token punctuation">,</span> <span class="token string">'Middleware timing description'</span><span class="token punctuation">)</span>
  <span class="token comment">// server side operation..</span>
  <span class="token comment">// ...</span>
  res<span class="token punctuation">.</span><span class="token property-access">timing</span><span class="token punctuation">.</span><span class="token method function property-access">end</span><span class="token punctuation">(</span><span class="token string">'midd'</span><span class="token punctuation">)</span>
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre><p>Then <code>server-timing</code> head will be included in response header like:<pre class="language-bash"><code class="language-bash">Server-Timing: midd<span class="token punctuation">;</span><span class="token assign-left variable">desc</span><span class="token operator">=</span><span class="token string">"Middleware timing description"</span><span class="token punctuation">;</span><span class="token assign-left variable">dur</span><span class="token operator">=</span><span class="token number">2.4</span></code></pre><p>Please refer to <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Server-Timing">Server-Timing MDN</a> for more details. <span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></section></section></section></section>