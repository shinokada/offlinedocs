<!doctype html><html lang="pt-br"><meta charset="utf-8"><title>Comandos e Deploy</title><meta name="viewport"content="width=device-width,initial-scale=1"><meta name="description"content="Nuxt vem com um conjunto de comandos úteis, tanto para propósitos de desenvolvimento como para produção."><meta name="category"content="get-started"><meta name="video"content="hYdXzIGDlYA"><link rel="stylesheet"href="../../../../../../../../../Vivliostyle/read-html-download-pdf/docs/themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="comandos-e-deployment"><h1 id="comandos-e-deployment">Comandos e deployment</h1><p>Nuxt vem com um conjunto de comandos úteis, tanto para propósitos de desenvolvimento como para produção.<hr><section class="level2"aria-labelledby="usando-no-packagejson"><h2 id="usando-no-packagejson">Usando no package.json</h2><p>Você deve ter esses comandos no seu <code>package.json</code>:<pre class="language-json"><code class="language-json"><span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"dev"</span><span class="token operator">:</span> <span class="token string">"nuxt"</span><span class="token punctuation">,</span>
  <span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"nuxt build"</span><span class="token punctuation">,</span>
  <span class="token property">"start"</span><span class="token operator">:</span> <span class="token string">"nuxt start"</span><span class="token punctuation">,</span>
  <span class="token property">"generate"</span><span class="token operator">:</span> <span class="token string">"nuxt generate"</span>
<span class="token punctuation">}</span></code></pre><p>Você pode iniciar os seus comandos via <code>yarn &#x3C;command></code> ou <code>npm run &#x3C;command></code> (exemplo: <code>yarn dev</code>/<code>npm run dev</code>).</section><section class="level2"aria-labelledby="ambiente-de-desenvolvimento"><h2 id="ambiente-de-desenvolvimento">Ambiente de desenvolvimento</h2><p>Para iniciar o Nuxt em modo de desenvolvimento com o <a href="https://webpack.js.org/concepts/hot-module-replacement/">hot module replacement</a> em <code>http://localhost:3000</code>:<pre class="language-bash"><code class="language-bash"><span class="token function">yarn</span> dev</code></pre><pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> run dev</code></pre></section><section class="level2"aria-labelledby="lista-de-comandos"><h2 id="lista-de-comandos">Lista de comandos</h2><p>Você pode iniciar diferentes comandos dependendo do <a href="./features/deployment-targets">target</a>:<section class="level3"aria-labelledby="target-server-valor-padrão"><h3 id="target-server-valor-padrão">target: <code>server</code> (valor padrão)</h3><ul><li><strong>nuxt dev</strong> - Inicia o servidor de desenvolvimento.<li><strong>nuxt build</strong> - Constrói e otimiza a sua aplicação com webpack para produção.<li><strong>nuxt start</strong> - Inicia o servidor de produção (depois de rodar <code>nuxt build</code>). Use-o para rodar Node.js em locais como Heroku, Digital Ocean, etc.</ul></section><section class="level3"aria-labelledby="target-static"><h3 id="target-static">target: <code>static</code></h3><ul><li><strong>nuxt dev</strong> - Inicia o servidor de desenvolvimento.<li><strong>nuxt generate</strong> - Constrói a aplicação (se necessário), gera todas as rotas como um arquivo HTML e exporta para a pasta <code>dist/</code> (usado para hospedagem estática).<li><strong>nuxt start</strong> - Serve o diretório <code>dist/</code> como sua hospedagem estática deve fazer (Netlify, Vercel, Surge, etc), ótimo para testar antes do deploy.</ul></section></section><section class="level2"aria-labelledby="inspeção-da-configuração-do-webpack"><h2 id="inspeção-da-configuração-do-webpack">Inspeção da configuração do Webpack</h2><p>Você pode inspecionar a configuração do webpack usada pelo Nuxt para montar o projeto (similar ao <a href="https://cli.vuejs.org/guide/webpack.html#inspecting-the-project-s-webpack-config">vue inspect</a>).<ul><li><strong>nuxt webpack [query...]</strong></ul><p><strong>Argumentos:</strong><ul><li><code>--name</code>: Nome do pacote a ser inspecionado. (client, server, modern)<li><code>--dev</code>: Inspeciona a configuração do webpack para modo de desenvolvimento<li><code>--depth</code>: Inspeção profunda. O padrão é 2 para evitar a saída detalhada.<li><code>--no-colors</code>: Desativar cores ANSI (desativado por padrão quando o TTY não está disponível ou quando redirecionando para um arquivo)</ul><p><strong>Exemplos:</strong><ul><li><code>nuxt webpack</code><li><code>nuxt webpack devtool</code><li><code>nuxt webpack resolve alias</code><li><code>nuxt webpack module rules</code><li><code>nuxt webpack module rules test=.jsx</code><li><code>nuxt webpack module rules test=.pug oneOf use.0=raw</code><li><code>nuxt webpack plugins constructor.name=WebpackBar options reporter</code><li><code>nuxt webpack module rules loader=vue-</code><li><code>nuxt webpack module rules "loader=.*-loader"</code></ul></section><section class="level2"aria-labelledby="deploy-em-produção"><h2 id="deploy-em-produção">Deploy em produção</h2><p>Nuxt deixa você escolher entre deploy para servidor ou estático.<section class="level3"aria-labelledby="deploy-para-servidor"><h3 id="deploy-para-servidor">Deploy para servidor</h3><p>Para fazer o deploy da aplicação SSR nós usamos <code>target: 'server'</code>, aonde server é o valor padrão.<pre class="language-bash"><code class="language-bash"><span class="token function">yarn</span> build</code></pre><pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> run build</code></pre><p>Nuxt vai criar uma pasta <code>.nuxt</code> com tudo dentro pronto para ser hospedado no seu servidor.<section class="level4"aria-labelledby="info"><h4 id="info">Info</h4><p>Nós recomendamos colocar <code>.nuxt</code> no <code>.npmignore</code> ou <code>.gitignore</code>.<p>Uma vez que sua aplicação foi construída você pode usar o comando <code>start</code> para ver a versão de produção da sua aplicação.<pre class="language-bash"><code class="language-bash"><span class="token function">yarn</span> start</code></pre><pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> run start</code></pre></section></section><section class="level3"aria-labelledby="deploy-estático-pre-renderizado"><h3 id="deploy-estático-pre-renderizado">Deploy estático (Pre-renderizado)</h3><p>Nuxt dá a habilidade de hospedar o seu site em qualquer site de hospedagem estática.<p>Para fazer o deploy de um site estático, tenha certeza que você tem <code>target: 'static'</code> no seu <code>nuxt.config.js</code> (para Nuxt >= 2.13):<pre class="language-js{}[nuxt.config.js]"><code class="language-js{}[nuxt.config.js]">export default {
  target: 'static'
}</code></pre><pre class="language-bash"><code class="language-bash"><span class="token function">yarn</span> generate</code></pre><pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> run generate</code></pre><p>Nuxt vai criar uma pasta <code>.nuxt</code> com tudo dentro pronto para ser hospedado no seu serviço de hospedagens de sites estáticos.<p>A partir do Nuxt v2.13, há um crawler instalado que agora rastreará suas tags de link e gerará suas rotas ao usar o comando <code>nuxt generate</code> com base nesses links.<section class="level4"aria-labelledby="warning"><h4 id="warning">Warning</h4><p><strong>Aviso:</strong> Rotas dinâmicas são ignoradas pelo comando <code>generate</code> ao usar Nuxt &#x3C;= v2.12: <a href="./configuration-glossary/configuration-generate">API Configuration generate</a></section><section class="level4"aria-labelledby="info-1"><h4 id="info-1">Info</h4><p>Ao gerar a sua aplicação web com <code>nuxt generate</code>, <a href="./internals-glossary/context">o contexto</a> given to <a href="./features/data-fetching#async-data">asyncData</a> e <a href="./features/data-fetching#the-fetch-hook">fetch</a> não terá <code>req</code> e <code>res</code>.</section><section class="level4"aria-labelledby="falha-no-erro"><h4 id="falha-no-erro"><strong>Falha no erro</strong></h4><p>Para retornar um código de status diferente de zero quando um erro de página for encontrado e permitir que o CI/CD falhe no deploy ou compilação, você pode usar o argumento <code>--fail-on-error</code>.<pre class="language-bash"><code class="language-bash"><span class="token function">yarn</span> generate --fail-on-error</code></pre><pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> run generate --fail-on-error</code></pre></section></section></section><section class="level2"aria-labelledby="o-que-vem-a-seguir"><h2 id="o-que-vem-a-seguir">O que vem a seguir?</h2><section class="level4"aria-labelledby="next"><h4 id="next">Next</h4><p>Leia o <a href="/deployments">Guia de Deploy</a> para encontrar exemplos de implantações em hosts populares.<p><span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></section></section></section>