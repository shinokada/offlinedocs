<!doctype html><html lang="fr"><meta charset="utf-8"><title>Commandes et déploiement</title><meta name="viewport"content="width=device-width,initial-scale=1"><meta name="description"content="Nuxt est livré avec un ensemble de commandes utiles, à la fois pour le développement et la production."><meta name="position"content="4"><meta name="category"content="get-started"><link rel="stylesheet"href="../../../../../../../../../Vivliostyle/read-html-download-pdf/docs/themes/packages/prism-coy-theme/theme_common.css"><p>Nuxt est livré avec un ensemble de commandes utiles, à la fois pour le développement et la production.<section class="level2"aria-labelledby="utilisation-dans-packagejson"><h2 id="utilisation-dans-packagejson">Utilisation dans package.json</h2><p>Vous devriez mettre ces commandes dans <code>package.json</code>:<pre class="language-json"><code class="language-json"><span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"dev"</span><span class="token operator">:</span> <span class="token string">"nuxt"</span><span class="token punctuation">,</span>
  <span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"nuxt build"</span><span class="token punctuation">,</span>
  <span class="token property">"start"</span><span class="token operator">:</span> <span class="token string">"nuxt start"</span><span class="token punctuation">,</span>
  <span class="token property">"generate"</span><span class="token operator">:</span> <span class="token string">"nuxt generate"</span>
<span class="token punctuation">}</span></code></pre><p>Ensuite, vous pouvez lancer vos commandes via <code>yarn &#x3C;command></code> ou <code>npm run &#x3C;command></code> (exemple: <code>yarn dev</code> / <code>npm run dev</code>).</section><section class="level2"aria-labelledby="environment-de-développement"><h2 id="environment-de-développement">Environment de développement</h2><p>Pour lancer Nuxt en mode développement avec <a href="https://webpack.js.org/concepts/hot-module-replacement/">le module de remplacement à chaud</a> sur <code>http://localhost:3000</code>:<pre class="language-bash"><code class="language-bash"><span class="token function">yarn</span> dev</code></pre><pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> run dev</code></pre></section><section class="level2"aria-labelledby="liste-des-commandes"><h2 id="liste-des-commandes">Liste des commandes</h2><p>Vous pouvez exécuter différentes commandes en fonction de la <a href="./features/deployment-targets">cible</a>:<section class="level3"aria-labelledby="target-server-default-value"><h3 id="target-server-default-value">target: <code>server</code> (default value)</h3><ul><li><strong>nuxt dev</strong> - Lancez le serveur de développement.<li><strong>nuxt build</strong> - Créez et optimisez votre application avec Webpack pour la production.<li><strong>nuxt start</strong> - Démarrez le serveur de production (après avoir lancé <code>nuxt build</code>). Utiliser pour un hébergement Node.js comme Heroku, Digital Ocean, etc.</ul></section><section class="level3"aria-labelledby="target-static"><h3 id="target-static">target: <code>static</code></h3><ul><li><strong>nuxt dev</strong> - Lancez le serveur de développement.<li><strong>nuxt generate</strong> - Construisez l'application (si nécessaire), générez chaque route sous forme de fichier HTML et exportez statiquement vers le répertoire <code>dist/</code> (utilisé pour l'hébergement statique).<li><strong>nuxt start</strong> - servir le répertoire <code>dist/</code> comme le ferait votre hébergement statique (Netlify, Vercel, Surge, etc.), idéal pour les tests avant le déploiement.</ul></section></section><section class="level2"aria-labelledby="webpack-config-inspection"><h2 id="webpack-config-inspection">Webpack Config Inspection</h2><p>Vous pouvez inspecter la configuration webpack utilisée par nuxt pour créer un projet similaire à <a href="https://cli.vuejs.org/guide/webpack.html#inspecting-the-project-s-webpack-config">vue inspect</a>.<ul><li><strong>nuxt webpack [query...]</strong></ul><p><strong>Arguments:</strong><ul><li><code>--name</code>: nom du bundle à inspecter (client, serveur, moderne)<li><code>--dev</code>: inspecter la configuration webpack pour le mode dev<li><code>--depth</code>: inspecter en profondeur. La valeur par défaut est 2 pour empêcher la sortie verbeuse.<li><code>--no-colors</code>: désactiver les couleurs ANSI (désactivées par défaut lorsque TTY n'est pas disponible ou quand piping vers un fichier)</ul><p><strong>Exemples:</strong><ul><li><code>nuxt webpack</code><li><code>nuxt webpack devtool</code><li><code>nuxt webpack resolve alias</code><li><code>nuxt webpack module rules</code><li><code>nuxt webpack module rules test=.jsx</code><li><code>nuxt webpack module rules test=.pug oneOf use.0=raw</code><li><code>nuxt webpack plugins constructor.name=WebpackBar options reporter</code><li><code>nuxt webpack module rules loader=vue-</code><li><code>nuxt webpack module rules "loader=.*-loader"</code></ul></section><section class="level2"aria-labelledby="déploiement-de-production"><h2 id="déploiement-de-production">Déploiement de production</h2><p>Nuxt vous permet de choisir entre les déploiements de serveur ou statique.<section class="level3"aria-labelledby="déploiement-de-serveur"><h3 id="déploiement-de-serveur">Déploiement de serveur</h3><p>Pour déployer une application SSR, nous utilisons <code>target: server</code>, où serveur est la valeur par défaut.<pre class="language-bash"><code class="language-bash"><span class="token function">yarn</span> build</code></pre><pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> run build</code></pre><p>Nuxt créera un répertoire <code>.nuxt</code> avec tout ce qu'il contient prêt à être déployé sur votre serveur d'hébergement.<section class="level4"aria-labelledby="info"><h4 id="info">Info</h4><p>nous recommandons de mettre <code>.nuxt</code> dans <code>.npmignore</code> ou <code>.gitignore</code>.<p>Une fois votre application créée, vous pouvez utiliser la commande <code>start</code> pour voir une version de production de votre application.<pre class="language-bash"><code class="language-bash"><span class="token function">yarn</span> start</code></pre><pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> run start</code></pre></section></section><section class="level3"aria-labelledby="déploiement-statique-pré-rendu"><h3 id="déploiement-statique-pré-rendu">Déploiement statique (Pré-rendu)</h3><p>Nuxt vous donne la possibilité d'héberger votre application Web sur n'importe quel hébergement statique.<p>Pour déployer un site statique généré, assurez-vous d'avoir <code>target: static</code> dans votre <code>nuxt.config.js</code>.(Pour Nuxt >= 2.13:)<pre class="language-js{}[nuxt.config.js]"><code class="language-js{}[nuxt.config.js]">export default {
  target: 'static'
}</code></pre><pre class="language-bash"><code class="language-bash"><span class="token function">yarn</span> generate</code></pre><pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> run generate</code></pre><p>Nuxt créera un répertoire <code>dist /</code> avec tout ce qu'il contient prêt à être déployé sur un service d'hébergement statique.<p>Depuis Nuxt v2.13, un robot d'exploration est installé qui va maintenant explorer vos liens et générer vos routes lorsque vous utilisez la commande <code>nuxt generate</code> basée sur ces derniers.<section class="level4"aria-labelledby="info-1"><h4 id="info-1">Info</h4><p><strong>Attention:</strong> les routes dynamiques sont ignorées par la commande <code>generate</code> lors de l'utilisation Nuxt &#x3C;= v2.12: <a href="./configuration-glossary/configuration-generate">API de configuration de la génération</a></section><section class="level4"aria-labelledby="info-2"><h4 id="info-2">Info</h4><p>Lors de la génération de votre application Web avec <code>nuxt generate</code>, <a href="./internals-glossary/context">le contexte</a> donnée à <a href="./features/data-fetching#async-data">asyncData</a> et <a href="./features/data-fetching#the-fetch-hook">fetch</a> n'aura pas <code>req</code> et <code>res</code>.</section><section class="level4"aria-labelledby="échec-en-cas-derreur"><h4 id="échec-en-cas-derreur"><strong>Échec en cas d'erreur</strong></h4><p>Pour renvoyer un code d'état différent de zéro lorsqu'une erreur de page est rencontrée et laisser le CI/CD échouer lors du déploiement ou de la construction, vous pouvez utiliser l'argument <code>--fail-on-error</code>.<pre class="language-bash"><code class="language-bash"><span class="token function">yarn</span> generate --fail-on-error</code></pre><pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> run generate --fail-on-error</code></pre></section></section></section><section class="level2"aria-labelledby="et-après"><h2 id="et-après">Et après?</h2><section class="level4"aria-labelledby="next"><h4 id="next">Next</h4><p>Lisez notre <a href="/deployments">FAQ</a> pour trouver des exemples de déploiements sur des hôtes connus.<p><span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></section></section>