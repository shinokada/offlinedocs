<!doctype html><html lang="fr"><meta charset="utf-8"><title>Rendu côté serveur</title><meta name="viewport"content="width=device-width,initial-scale=1"><meta name="description"content="Le rendu côté serveur (SSR), est la capacité qu&#x27;une application a à générer une page web sur le serveur au lieu de la générer dans le navigateur."><meta name="category"content="concepts"><link rel="stylesheet"href="../../../../../../../../../Vivliostyle/read-html-download-pdf/docs/themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="rendu"><h1 id="rendu">Rendu</h1><p>Le rendu côté serveur (SSR), est la capacité qu'une application a à générer une page web sur le serveur au lieu de la générer dans le navigateur. Le rendu côté serveur renvoie une page complète au client; le JavaScript côté client prend ensuite le relais et permet à Vue.js d'<a href="https://ssr.vuejs.org/guide/hydration.html">hydrater</a> notre application.<hr><section class="level2"aria-labelledby="serveur-nodejs-requis"><h2 id="serveur-nodejs-requis">Serveur Node.js requis</h2><p>Un environnement JavaScript est requis pour rendre notre page web.<p>Un serveur Node.js a besoin d'être configuré pour exécuter notre application Vue.js.</section><section class="level2"aria-labelledby="contrôler-et-étendre-les-possibilités-de-notre-serveur"><h2 id="contrôler-et-étendre-les-possibilités-de-notre-serveur">Contrôler et étendre les possibilités de notre serveur</h2><p>Nous pouvons étendre les possibilités de notre serveur avec <code>serverMiddleware</code> et contrôler les routes avec <code>middleware</code>.<pre class="language-js{}[server-middleware/logger.js]"><code class="language-js{}[server-middleware/logger.js]">export default function (req, res, next) {
  console.log(req.url)
  next()
}</code></pre><pre class="language-js{}[nuxt.config.js]"><code class="language-js{}[nuxt.config.js]">export default {
  serverMiddleware: ['~/server-middleware/logger']
}</code></pre></section><section class="level2"aria-labelledby="différence-entre-serveur-et-navigateur"><h2 id="différence-entre-serveur-et-navigateur">Différence entre serveur et navigateur</h2><p>Comme nous sommes dans un environnement Node.js nous avons accès aux objets Node.js tels que <code>req</code> et <code>res</code>. Nous n'avons pas accès aux objets <code>window</code> ou <code>document</code> vu qu'ils appartiennent au navigateur. Nous pouvons cependant utiliser <code>window</code> ou <code>document</code> en les utilisant dans les hooks <code>beforeMount</code> ou <code>mounted</code>.<pre class="language-js"><code class="language-js">beforeMount<span class="token punctuation">{</span>
  <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token method function property-access">alert</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
mounted<span class="token punctuation">{</span>
  <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token method function property-access">alert</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></section><section class="level2"aria-labelledby="les-étapes-pour-faire-du-rendu-côté-serveur-avec-nuxt"><h2 id="les-étapes-pour-faire-du-rendu-côté-serveur-avec-nuxt">Les étapes pour faire du rendu côté serveur avec Nuxt</h2><section class="level3"aria-labelledby="étape-1-du-navigateur-au-serveur"><h3 id="étape-1-du-navigateur-au-serveur">Étape 1: Du navigateur au serveur</h3><p>Quand le navigateur envoie la requête initiale, cela va atterir sur le serveur Node.js. Nuxt va alors générer le HTML et le renvoyer au navigateur en prenant en compte le résultat des functions telles que <code>asyncData</code>, <code>nuxtServerInit</code> ou <code>fetch</code>. Les fonctions présentes dans les hooks seront aussi exécutées.</section><section class="level3"aria-labelledby="étape-2-du-serveur-au-navigateur"><h3 id="étape-2-du-serveur-au-navigateur">Étape 2: Du serveur au navigateur</h3><p>Le navigateur reçoit la page avec le HTML généré depuis le serveur. Le contenu est affiché et l'hydratation de Vue.js entre en scène, rendant le tout réactif. Après ce processus, la page est interactive.</section><section class="level3"aria-labelledby="étape-3-du-navigateur-au-navigateur"><h3 id="étape-3-du-navigateur-au-navigateur">Étape 3: Du navigateur au navigateur</h3><p>Naviguer entre les pages à l'aide de <a href="./features/nuxt-components#the-nuxtlink-component"><code>&#x3C;NuxtLink></code></a> est fait du côté client afin que nous n'ayons pas besoin de faire une requête au serveur, sauf si nous faisons un rafraîchissement manuel de notre navigateur. <span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></section></section></section>