<!doctype html><html lang="fr"><meta charset="utf-8"><title>La propriété modern</title><meta name="viewport"content="width=device-width,initial-scale=1"><meta name="navigation.title"content="modern"><meta name="description"content="Build et sert un bundle moderne"><meta name="menu"content="modern"><meta name="category"content="configuration-glossary"><link rel="stylesheet"href="../../../../../../../themes/packages/prism-coy-theme/theme_common.css"><section class="level1"aria-labelledby="la-propriété-modern"><h1 id="la-propriété-modern">La propriété modern</h1><p>Build et sert un bundle moderne<hr><blockquote><p>Cette fonctionnalité est inspirée du mode <code>modern</code> de <a href="https://cli.vuejs.org/guide/browser-compatibility.html#modern-mode">vue-cli</a>.</blockquote><ul><li>Type: <code>String</code> ou <code>Boolean</code><ul><li>Par défaut: <code>false</code><li>Valeurs possibles:<ul><li><code>'client'</code>: Sert les deux scripts, le bundle moderne <code>&#x3C;script type="module"></code> et le bundle legacy <code>&#x3C;script nomodule></code>, fournit aussi un <code>&#x3C;link rel="modulepreload"></code> pour le bundle moderne. Chaque navigateur qui comprend le type <code>module</code> chargera le bundle moderne pendant que les navigateurs plus anciens utiliseront le bundle legacy de secours (ce dernier sera transpilé).<li><code>'server'</code> ou <code>true</code>: Le serveur Node.js va vérifier la version du navigateur grâce au <em>user agent</em> et servira le bundle moderne ou de secours en fonction.<li><code>false</code>: désactive le build moderne.</ul></ul></ul><p>Les deux bundles possibles sont:<ol><li>Bundle moderne: vise les navigateurs modernes qui supportent les <em>ES modules</em><li>Bundle legacy (de secours): vise les navigateurs plus anciens en fonction de la configuration de Babel (compatible IE9 par défaut).</ol><p><strong>Info</strong>:<ul><li>On peut utiliser la commande <code>[--modern | -m]=[mode]</code> pour build/démarrer les bundles modernes:</ul><pre class="language-json{}[package.json]"><code class="language-json{}[package.json]">{
  "scripts": {
    "build:modern": "nuxt build --modern=server",
    "start:modern": "nuxt start --modern=server"
  }
}</code></pre><p><strong>Information à propos de <em>nuxt generate</em></strong>: La propriété <code>modern</code> marche aussi avec la commande <code>nuxt generate</code>, mais dans ce cas là, seulement l'option <code>client</code> est honorée et sera sélectionnée lors de l'exécution de la commande <code>nuxt generate --modern</code> sans fournir d'autres valeurs.<ul><li>Nuxt va automatiquement détecter le build <code>moderne</code> dans <code>nuxt start</code> lorsque <code>modern</code> n'est pas spécifié, le mode d'auto-détection est le suivant:</ul><table><thead><tr><th align="left">srr<tbody><tr><td align="left">true<tr><td align="left">false</table><ul><li>Le mode <code>moderne</code> pour <code>nuxt generate</code> ne peut être que <code>client</code><li>Il faut utiliser <a href="./configuration-glossary/configuration-render#crossorigin"><code>render.crossorigin</code></a> pour définir l'attribut <code>crossorigin</code> dans <code>&#x3C;link></code> et <code>&#x3C;script></code>.</ul><blockquote><p>Se réferer à l'excellent post de <a href="https://philipwalton.com/articles/deploying-es2015-code-in-production-today/">Phillip Walton</a> sur les builds modernes. <span style="float:footnote"><a href="../index.html#toc">Go to TOC</a></span></blockquote></section>