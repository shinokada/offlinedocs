<!doctype html><html lang="en"><meta charset="utf-8"><title>ðŸ“¡ API Layer</title><meta name="viewport"content="width=device-width,initial-scale=1"><link rel="stylesheet"href="../../../../../../../docs/themes/packages/prism-coy-theme/theme_common.css"><section id="-api-layer"class="level1"><h1>ðŸ“¡ API Layer</h1><section id="use-a-single-instance-of-the-api-client"class="level3"><h3>Use a single instance of the API client</h3><p>No matter if your application is consuming RESTful or GraphQL API, have a single instance of the API client that's been pre-configured and reused throughout the application. E.g have a single API client (<a href="https://github.com/axios/axios">axios</a> / <a href="https://github.com/prisma-labs/graphql-request">graphql-request</a> / <a href="https://www.apollographql.com/docs/react/">apollo-client</a>) instance with pre-defined configuration.<p><a href="https://github.com/alan2207/bulletproof-react/tree/master/src/lib/axios.ts">API Client Example Code</a></section><section id="define-and-export-request-declarations"class="level3"><h3>Define and export request declarations</h3><p>Instead of declaring API requests on the go, have them defined and exported separately. If it's a RESTful API a declaration would be a fetcher function that calls an endpoint. On the other hand, requests for GraphQL APIs are declared via queries and mutations that could be consumed by data fetching libraries such as <a href="https://react-query.tanstack.com/">react-query</a>, <a href="https://www.apollographql.com/docs/react/">apollo-client</a>, <a href="https://formidable.com/open-source/urql/">urql</a>, etc. This makes it easier to track which endpoints are defined and available in the application. You can also type the responses and infer them further for a good type safety of the data. You can also define and export corresponding API hooks from there.<p><a href="https://github.com/alan2207/bulletproof-react/tree/master/src/features/discussions/api/getDiscussions.ts">API Request Declaration Example Code</a> <span style="float:footnote"><a href="./index.html#toc">Go to TOC</a></span></section></section>